<div class="container">

<table style="width: 100%;"><tr>
<td>compile_epi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compile Epidemic Data</h2>

<h3>Description</h3>

<p>Compiles and processes epidemic data, simulating  school absenteeism
using epidemic and individual data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compile_epi(epidemic, individual_data, lags = 16, inf_period = 4, T = 300)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>epidemic</code></td>
<td>
<p>A list of simulated epidemic data
(output from simepi() or similar function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>individual_data</code></td>
<td>
<p>A data frame of simulated individuals data
(output from simulate_households() or similar function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lags</code></td>
<td>
<p>Maximum number of lags for absenteeism, default = 16
(note that lag of zero is included).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inf_period</code></td>
<td>
<p>Infection period of epidemic, default = 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T</code></td>
<td>
<p>Time period, default = 300 days.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame containing compiled epidemic data, including:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Date</code></td>
<td>
<p>Day of the epidemic</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ScYr</code></td>
<td>
<p>School year</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pct_absent</code></td>
<td>
<p>Percentage of students absent</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>absent</code></td>
<td>
<p>Number of students absent</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>absent_sick</code></td>
<td>
<p>Number of students absent due to illness</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_inf</code></td>
<td>
<p>Number of new infections</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reported_cases</code></td>
<td>
<p>Number of reported cases</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Case</code></td>
<td>
<p>Indicator for lab confirmed flu case that day</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sinterm, costerm</code></td>
<td>
<p>Seasonal terms</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>Indicator for "True Alarm" window</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref_date</code></td>
<td>
<p>Indicator for reference date</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag0, lag1, ..., lag15</code></td>
<td>
<p>Lagged absenteeism values</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># Assuming you have previously simulated epidemic and individual data:
epidemic &lt;- ssir(1000, alpha = 0.4)
individual_data &lt;- data.frame(elem_child_ind = sample(0:1, 1000, replace = TRUE),
                              schoolID = sample(1:10, 1000, replace = TRUE))

compiled_data &lt;- compile_epi(epidemic, individual_data)
</code></pre>


</div>