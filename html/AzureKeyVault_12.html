<div class="container">

<table style="width: 100%;"><tr>
<td>delete_key_vault</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Delete an Azure Key Vault</h2>

<h3>Description</h3>

<p>Method for the AzureRMR::az_resource_group class.
</p>


<h3>Details</h3>

<p>Deleting a key vault that has soft-deletion enabled does not permanently remove it. Instead the resource is held for a given retention period (90 days), during which it can be recovered, essentially undoing the deletion.
</p>
<p>To see what soft-deleted key vaults exist, call the <code>list_deleted_key_vaults</code> method. To recover a soft-deleted key vault, call the <code>create_key_vault</code> method from the vault's original resource group, with the vault name. To purge (permanently delete) it, call the <code>purge_key_vault</code> method.
</p>


<h3>Usage</h3>

<pre>delete_key_vault(name, confirm=TRUE, wait=FALSE, purge=FALSE)
</pre>


<h3>Arguments</h3>


<ul>
<li> <p><code>name</code>: The name of the key vault.
</p>
</li>
<li> <p><code>confirm</code>: Whether to ask for confirmation before deleting.
</p>
</li>
<li> <p><code>wait</code>: Whether to wait until the deletion is complete. Note that <code>purge=TRUE</code> will set <code>wait=TRUE</code> as well.
</p>
</li>
<li> <p><code>purge</code>: For a vault with the soft-deletion feature enabled, whether to purge it as well (hard delete). Has no effect if the vault does not have soft-deletion enabled.
</p>
</li>
</ul>
<h3>Value</h3>

<p>NULL on successful deletion.
</p>


<h3>See Also</h3>

<p>create_key_vault, get_key_vault, purge_key_vault, list_deleted_key_vaults, az_key_vault,
</p>
<p><a href="https://docs.microsoft.com/en-us/azure/key-vault/">Azure Key Vault documentation</a>,
<a href="https://docs.microsoft.com/en-us/rest/api/keyvault">Azure Key Vault API reference</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

rg &lt;- AzureRMR::get_azure_login()$
    get_subscription("subscription_id")$
    get_resource_group("rgname")

# assuming the vault has soft-delete enabled
rg$delete_key_vault("mykeyvault", purge=FALSE)

# recovering a soft-deleted key vault
rg$create_key_vault("mykeyvault")

# deleting it for good
rg$delete_key_vault("mykeyvault", purge=FALSE)


## End(Not run)
</code></pre>


</div>