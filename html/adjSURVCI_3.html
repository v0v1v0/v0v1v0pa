<div class="container">

<table style="width: 100%;"><tr>
<td>simulate_CR_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate stratified clustered competing risks data</h2>

<h3>Description</h3>

<p>The function <code>simulate_CR_data</code> simulates stratified competing risks data with two causes based 
on a proportional subdistribution hazard model based on <cite>Logan et al. (2011)</cite>.
Three covariates (Bernoulli, Normal and Uniform) are considered.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simulate_CR_data(
  n = 4,
  m = 100,
  alpha = 1,
  beta1 = c(0.7, -0.7, -0.5) * 1/alpha,
  beta2 = c(0.5, -0.5, 1),
  betaC = c(0, 0, 0) * 1/alpha,
  lambdaC = 0.59,
  stratified = TRUE,
  rho = c(2, 4),
  lambdaC0 = c(0.9, 2.5)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of observations in each cluster. Default is 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Total number of clusters. Default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Parameter for a positive stable distribution. It controls correlation within a cluster. 
<code>1/alpha</code> must be an integer such that <code>alpha = 0.25, 0.5 and 1</code>. <code>alpha=1</code> generates independent data.
As <code>alpha</code> decreases, the correlation within a cluster increases. Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta1</code></td>
<td>
<p>This is a vector of values of length 3. This value multiplied by <code>alpha</code> is a true covariate 
effect for Cause 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta2</code></td>
<td>
<p>This is a vector of values of length 3. It is a true covariate 
effect for Cause 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betaC</code></td>
<td>
<p>This is a vector of values of length 3. This value multiplied by <code>alpha</code> is a true covariate 
effect for censoring. A marginal proportional hazards model is used to generate clustered censoring times
based on <cite>Logan et al. (2011)</cite>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambdaC</code></td>
<td>
<p>Constant baseline hazard for censoring for the marginal proportional hazards model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratified</code></td>
<td>
<p>It is <code>TRUE</code> for stratified data. Two strata are considered.
If <code>TRUE</code>, the remaining parameters must be provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>Baseline hazard for each stratum. Must be a vector of length two.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambdaC0</code></td>
<td>
<p>Constant baseline hazard of censoring for each stratum. Must be a vector of length two.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a data frame with the following variables:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>Survival times</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cause</code></td>
<td>
<p>Different causes of an event. Censoring is 0. The main cause is 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z1</code></td>
<td>
<p>Bernoulli distributed covariate with probability 0.6</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z2</code></td>
<td>
<p>Standard normal covariate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z3</code></td>
<td>
<p>Uniform distributed covariate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>Cluster variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata</code></td>
<td>
<p>Strata variable. Only if <code>stratified=TRUE</code>.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Logan BR, Zhang MJ, Klein JP. Marginal models for clustered time-to-event data with competing risks using pseudovalues. Biometrics. 2011;67(1):1-7. doi:10.1111/j.1541-0420.2010.01416.x
</p>


<h3>Examples</h3>

<pre><code class="language-R">alpha = 0.5

#Simulate unstratified clustered competing risks data
d1 = simulate_CR_data(n=4,m=100,alpha=alpha,beta1=c(0.7,-0.7,-0.5)*1/alpha,beta2=c(0.5,-0.5,1),
betaC=c(0,0,0)*1/alpha,lambdaC=0.59,stratified=FALSE)

#Simulate stratified clustered competing risks data
d2 = simulate_CR_data(n=4,m=100,alpha=alpha,beta1=c(0.7,-0.7,-0.5)*1/alpha,beta2=c(0.5,-0.5,1),
betaC=c(0,0,0)*1/alpha,lambdaC=0.59,stratified=TRUE,rho=c(2,4),lambdaC0=c(0.9,2.5))
</code></pre>


</div>