<div class="container">

<table style="width: 100%;"><tr>
<td>amf_filter_base</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter AmeriFlux BASE data based on plausible range</h2>

<h3>Description</h3>

<p>The function filters BASE data based on the expected
plausible ranges specified for each variable. See AmeriFlux web site
<a href="https://ameriflux.lbl.gov/data/data-processing-pipelines/data-qaqc/">https://ameriflux.lbl.gov/data/data-processing-pipelines/data-qaqc/</a>
for description of the plausible ranges.
</p>


<h3>Usage</h3>

<pre><code class="language-R">amf_filter_base(
  data_in,
  limit_ls = NULL,
  basename_decode = NULL,
  loose_filter = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_in</code></td>
<td>
<p>A data frame containing BASE data, e.g.,
import from <code>amf_read_base</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit_ls</code></td>
<td>
<p>A data frame with at least three columns:
</p>

<ul>
<li>
<p> Name: variable base name
</p>
</li>
<li>
<p> Min: expected lower bound
</p>
</li>
<li>
<p> Max: expected upper bound
</p>
</li>
</ul>
<p>If not specified, use <code>amf_variables</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>basename_decode</code></td>
<td>
<p>A data frame with at least two columns:
</p>

<ul>
<li>
<p> variable_name: actual variable name
</p>
</li>
<li>
<p> basename: variable base name
</p>
</li>
</ul>
<p>If not specified, use <code>amf_parse_basename</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loose_filter</code></td>
<td>
<p>A number in ratio (0-1) used to adjust the physical
range for filtering. Set it to 0 if not used. The default is 0.05.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame similar to <code>data_in</code> filtered out off-range points
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# read the BASE from a csv file
base &lt;- amf_read_base(file = system.file("extdata",
                                         "AMF_US-CRT_BASE_HH_2-5.csv",
                                          package = "amerifluxr"),
                      unzip = FALSE,
                      parse_timestamp = FALSE)

# filter data, using default physical range +/- 5% buffer
base_f &lt;- amf_filter_base(data_in = base)

# filter data, using default physical range without buffer
base_f &lt;- amf_filter_base(data_in = base, loose_filter = 0)

## End(Not run)
</code></pre>


</div>