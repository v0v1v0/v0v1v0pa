<div class="container">

<table style="width: 100%;"><tr>
<td>apc.data.list.subset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cut age, period and cohort groups from data set.</h2>

<h3>Description</h3>

<p>For a recursive analysis it is useful to be able to cut age, period and cohort groups from a data set.
Function returns an <code>apc.data.list</code> with data.format "trapezoid".
</p>
<p>When used with default values the function turns an <code>apc.data.list</code> into a new <code>apc.data.list</code>
with data.format "trapezoid" without reducing dataset.
</p>


<h3>Usage</h3>

<pre><code class="language-R">apc.data.list.subset(apc.data.list,
							age.cut.lower=0,age.cut.upper=0,
							per.cut.lower=0,per.cut.upper=0,
							coh.cut.lower=0,coh.cut.upper=0,
							apc.index=NULL,
							suppress.warning=FALSE)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>apc.data.list</code></td>
<td>
<p>List. See <code>apc.data.list</code> for a description of the format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age.cut.lower</code></td>
<td>
<p><em>Optional</em>. Numeric. Specifies how many age    groups to cut at lower end. Default is zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>per.cut.lower</code></td>
<td>
<p><em>Optional</em>. Numeric. Specifies how many period groups to cut at lower end. Default is zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coh.cut.lower</code></td>
<td>
<p><em>Optional</em>. Numeric. Specifies how many cohort groups to cut at lower end. Default is zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age.cut.upper</code></td>
<td>
<p><em>Optional</em>. Numeric. Specifies how many age    groups to cut at upper end. Default is zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>per.cut.upper</code></td>
<td>
<p><em>Optional</em>. Numeric. Specifies how many period groups to cut at upper end. Default is zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coh.cut.upper</code></td>
<td>
<p><em>Optional</em>. Numeric. Specifies how many cohort groups to cut at upper end. Default is zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apc.index</code></td>
<td>
<p><em>Optional</em>. List. See <code>apc.get.index</code> for a description of the format.  If not provided this is computed internally.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suppress.warning</code></td>
<td>
<p><em>Optional</em>. Logical. Suppresses warnings. This is useful when generating data sums using
<code>apc.data.sums</code> but reducing the data set so much that models cannot be fitted.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>matrix (or vector).  Numbers of responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dose</code></td>
<td>
<p>matrix (or NULL).  Numbers of doses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.format</code></td>
<td>
<p>"trapezoid"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age1</code></td>
<td>
<p>Numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>per1</code></td>
<td>
<p>Numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coh1</code></td>
<td>
<p>Numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>Numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>per.zero</code></td>
<td>
<p>Numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>per.max</code></td>
<td>
<p>Numeric.</p>
</td>
</tr>
</table>
<h3>Arguments: Notes</h3>

<p>If apc.index is supplied then the input can be simplified.
It suffices to write
<code>apc.data.list = list(response=response,data.format=data.format,dose=dose)</code>,
where dose could be <code>dose=NULL</code>.
Likewise <code>apc.index</code> does not need to be a full <code>apc.index list</code>. It suffices to construct a list with entries
<code>age.max</code>,                                                         
<code>per.max</code>,                                                         
<code>coh.max</code>,
<code>age1</code>,
<code>per1</code>,
<code>coh1</code>,
<code>unit</code>,
<code>per.zero</code>,                                                        
<code>index.trap</code>,                                                      
<code>index.data</code>.                                                      
</p>


<h3>Author(s)</h3>

<p>Bent Nielsen &lt;bent.nielsen@nuffield.ox.ac.uk&gt; 4 Dec 2013 recoded 26 Apr 2017</p>


<h3>See Also</h3>

<p>The below example uses artificial data.  For an example using
<code>data.asbestos</code>
see 
<code>apc.plot.fit</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">###############
#	Artificial data
#	Generate a 5x7 matrix and make arbitrary decisions for rest

response &lt;- matrix(data=seq(1:35),nrow=5,ncol=7)
data.list	&lt;- list(response=response,dose=NULL,data.format="AP",
					age1=25,per1=1955,coh1=NULL,unit=5,
					per.zero=NULL,per.max=NULL,time.adjust=0)
data.list

apc.data.list.subset(data.list,1,1,0,0,0,0)


</code></pre>


</div>