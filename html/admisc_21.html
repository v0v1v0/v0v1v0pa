<div class="container">

<table style="width: 100%;"><tr>
<td>Brackets</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract information from a multi-value SOP/DNF expression</h2>

<h3>Description</h3>

<p>Functions to extract information from an expression written in SOP - sum of products form,
(or from the canonical DNF - disjunctive normal form) for multi-value causal conditions.
It extracts either the values within brackets, or the causal conditions' names outside the
brackets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">betweenBrackets(x, type = "[", invert = FALSE, regexp = NULL)
outsideBrackets(x, type = "[", regexp = NULL)
curlyBrackets(x, outside = FALSE, regexp = NULL)
squareBrackets(x, outside = FALSE, regexp = NULL)
roundBrackets(x, outside = FALSE, regexp = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A DNF/SOP expression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Brackets type: curly, round or square.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>invert</code></td>
<td>
<p>Logical, if activated returns whatever is not within the brackets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outside</code></td>
<td>
<p>Logical, if activated returns the conditions' names outside the brackets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regexp</code></td>
<td>
<p>Optional regular expression to extract information with.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Expressions written in SOP - sum of products are used in Boolean logic, signaling a
disjunction of conjunctions.
</p>
<p>These expressions are useful in Qualitative Comparative Analysis, a social science methodology
that is employed in the context of searching for causal configurations that are associated
with a certain outcome.
</p>
<p>They are also used to draw Venn diagrams with the package <b><code>venn</code></b>, which draws any
kind of set intersection (conjunction) based on a custom SOP expression.
</p>
<p>The functions <b><code>curlyBrackets</code></b>, <b><code>squareBrackets</code></b> and
<b><code>roundBrackets</code></b> are just special cases of the functions <b><code>betweenBrackets</code></b>
and <b><code>outsideBrackets</code></b>, using the argument <b><code>type</code></b> as either
<code>"{"</code>, <code>"["</code>  or <code>"("</code>.
</p>
<p>The function <b><code>outsideBrackets</code></b> itself can be considered a special case of the
function <b><code>betweenBrackets</code></b>, when it uses the argument <b><code>invert = TRUE</code></b>.
</p>
<p>SOP expressions are usually written using curly brackets for multi-value conditions but to allow
the evaluation of unquoted expressions, they first needs to get past R's internal parsing system.
For this reason, multi-value conditions in unquoted expresions should use the square brackets
notation, and conjunctions should always use the product <code>*</code> sign.
</p>
<p>Sufficiency is recognized as <code>"=&gt;"</code> in quoted expressions but this does not pass over R's
parsing system in unquoted expressions. To overcome this problem, it is best to use the single
arrow <code>"-&gt;"</code> notation. Necessity is recognized as either <code>"&lt;="</code> or <code>"&lt;-"</code>, both
being valid in quoted and unquoted expressions.
</p>


<h3>Author(s)</h3>

<p>Adrian Dusa
</p>


<h3>Examples</h3>

<pre><code class="language-R">sop &lt;- "A[1] + B[2]*C[0]"

betweenBrackets(sop) # 1, 2, 0

betweenBrackets(sop, invert = TRUE) # A, B, C

# unquoted (valid) SOP expressions are allowed, same result
betweenBrackets(A[1] + B[2]*C[0]) # the default type is "["

# curly brackets are also valid in quoted expressions
betweenBrackets("A{1} + B{2}*C{0}", type = "{")

# or
curlyBrackets("A{1} + B{2}*C{0}")

# and the condition names
curlyBrackets("A{1} + B{2}*C{0}", outside = TRUE)

squareBrackets(A[1] + B[2]*C[0]) # 1, 2, 0

squareBrackets(A[1] + B[2]*C[0], outside = TRUE) # A, B, C
</code></pre>


</div>