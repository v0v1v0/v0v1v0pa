<div class="container">

<table style="width: 100%;"><tr>
<td>simulate_surv_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate stratified and clustered survival data</h2>

<h3>Description</h3>

<p>The function <code>simulate_surv_data</code> simulates survival data based 
on a marginal proportional hazards model based on <cite>Logan et al. (2011)</cite>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simulate_surv_data(
  N = 100,
  alpha = 1,
  beta1 = 1 * 1/alpha,
  beta2 = -1 * 1/alpha,
  beta3 = 0.5 * 1/alpha,
  rateC = 0.01,
  stratified = TRUE,
  lambda0 = 1,
  lambda1 = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>Total number of clusters. Default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Parameter for a positive stable distribution. It controls correlation within a cluster. 
<code>1/alpha</code> must be an integer such that <code>alpha = 0.25, 0.5 and 1</code>. <code>alpha=1</code> generates independent data.
As <code>alpha</code> decreases, the correlation within a cluster increases. Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta1</code></td>
<td>
<p>This value multiplied by alpha is the true value of normally distributed covariate effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta2</code></td>
<td>
<p>This value multiplied by alpha is the true value of uniformly distributed covariate effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta3</code></td>
<td>
<p>This value multiplied the alpha is the true value of bernoulli distributed covariate effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rateC</code></td>
<td>
<p>Rate of exponential distribution to generate censoring times. Default is 0.01.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratified</code></td>
<td>
<p>It is <code>TRUE</code> for stratified data. Two strata are considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda0</code></td>
<td>
<p>Constant baseline hazard for first stratum. If <code>stratified=FALSE</code>, then <code>lambda0</code>
is used as a constant basline hazard.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda1</code></td>
<td>
<p>Constant baseline hazard for second stratum.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a data frame with the following variables:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>Cluster variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>Survival times</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>Event indicator with Event=1 and Censoring=0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z1</code></td>
<td>
<p>Standard normal covariate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z2</code></td>
<td>
<p>Cluster level covariate generated from uniform distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z3</code></td>
<td>
<p>Bernoulli distributed covariate with probability 0.6</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>Stratification variable. This is provided only when <code>stratified=TRUE</code></p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Logan BR, Zhang MJ, Klein JP. Marginal models for clustered time-to-event data with competing risks using pseudovalues. Biometrics. 2011;67(1):1-7. doi:10.1111/j.1541-0420.2010.01416.x
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Stratified data
alpha = 0.5
d = simulate_surv_data(N=200,alpha=alpha,beta1=0.5*1/alpha,beta2=-0.5*1/alpha,
beta3=1/alpha,rateC=1.3,lambda0=1,lambda1=2,stratified = TRUE)

#Unstratified data
d = simulate_surv_data(N=200,alpha=alpha,beta1=0.5*1/alpha,beta2=-0.5*1/alpha,
beta3=1/alpha,rateC=0.9,lambda0=1,lambda1=2,stratified = FALSE)
</code></pre>


</div>