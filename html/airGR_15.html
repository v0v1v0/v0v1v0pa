<div class="container">

<table style="width: 100%;"><tr>
<td>ErrorCrit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Error criterion using the provided function</h2>

<h3>Description</h3>

<p>Function which computes an error criterion with the provided function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ErrorCrit(InputsCrit, OutputsModel, warnings = TRUE, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>InputsCrit</code></td>
<td>
<p>[object of class <em>InputsCrit</em>] see <code>CreateInputsCrit</code> for details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OutputsModel</code></td>
<td>
<p>[object of class <em>OutputsModel</em>] see <code>RunModel_GR4J</code> or <code>RunModel_CemaNeigeGR4J</code> for details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warnings</code></td>
<td>
<p>(optional) [boolean] boolean indicating if the warning messages are shown, default = <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>(optional) [boolean] boolean indicating if the function is run in verbose mode or not, default = <code>TRUE</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>InputsCrit</code> is of class <em>Single</em>:
</p>

<table>
<tr>
<td style="text-align: left;">
    [list] containing the <code>ErrorCrit_*</code> functions outputs, see <code>ErrorCrit_RMSE</code> or <code>ErrorCrit_NSE</code> for details </td>
</tr>
<tr>
<td style="text-align: left;">
  </td>
</tr>
</table>
<p>If <code>InputsCrit</code> is of class <em>Multi</em>:
</p>

<table>
<tr>
<td style="text-align: left;">
    [list] of list containing the <code>ErrorCrit_*</code> functions outputs, see <code>ErrorCrit_RMSE</code> or <code>ErrorCrit_NSE</code> for details </td>
</tr>
<tr>
<td style="text-align: left;">
  </td>
</tr>
</table>
<p>If <code>InputsCrit</code> is of class <em>Compo</em>:
</p>

<table>
<tr>
<td style="text-align: left;">
    <em>$CritValue    </em> </td>
<td style="text-align: left;"> [numeric] value of the composite criterion </td>
</tr>
<tr>
<td style="text-align: left;">
    <em>$CritName     </em> </td>
<td style="text-align: left;"> [character] name of the composite criterion </td>
</tr>
<tr>
<td style="text-align: left;">
    <em>$CritBestValue</em> </td>
<td style="text-align: left;"> [numeric] theoretical best criterion value </td>
</tr>
<tr>
<td style="text-align: left;">
    <em>$Multiplier   </em> </td>
<td style="text-align: left;"> [numeric] integer indicating whether the criterion is indeed an error (+1) or an efficiency (-1) </td>
</tr>
<tr>
<td style="text-align: left;">
    <em>$CritCompo$MultiCritValues</em> </td>
<td style="text-align: left;"> [numeric] values of the sub-criteria </td>
</tr>
<tr>
<td style="text-align: left;">
    <em>$CritCompo$MultiCritNames</em> </td>
<td style="text-align: left;"> [numeric] names of the sub-criteria </td>
</tr>
<tr>
<td style="text-align: left;">
    <em>$CritCompo$MultiCritWeights</em> </td>
<td style="text-align: left;"> [character] weighted values of the sub-criteria </td>
</tr>
<tr>
<td style="text-align: left;">
    <em>$MultiCrit    </em> </td>
<td style="text-align: left;"> [list] of list containing the <code>ErrorCrit_*</code> functions outputs, see <code>ErrorCrit_NSE</code> or <code>ErrorCrit_KGE</code> for details </td>
</tr>
<tr>
<td style="text-align: left;">
  </td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Olivier Delaigue
</p>


<h3>See Also</h3>

<p><code>CreateInputsCrit</code>, <code>ErrorCrit_RMSE</code>, <code>ErrorCrit_NSE</code>,
<code>ErrorCrit_KGE</code>, <code>ErrorCrit_KGE2</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(airGR)

## loading catchment data
data(L0123001)

## preparation of the InputsModel object
InputsModel &lt;- CreateInputsModel(FUN_MOD = RunModel_GR4J, DatesR = BasinObs$DatesR,
                                 Precip = BasinObs$P, PotEvap = BasinObs$E)

## calibration period selection
Ind_Run &lt;- seq(which(format(BasinObs$DatesR, format = "%Y-%m-%d")=="1990-01-01"),
               which(format(BasinObs$DatesR, format = "%Y-%m-%d")=="1999-12-31"))

## preparation of RunOptions object
RunOptions &lt;- CreateRunOptions(FUN_MOD = RunModel_GR4J, InputsModel = InputsModel,
                               IndPeriod_Run = Ind_Run)

## simulation
Param &lt;- c(X1 = 257.238, X2 = 1.012, X3 = 88.235, X4 = 2.208)
OutputsModel &lt;- RunModel_GR4J(InputsModel = InputsModel,
                              RunOptions = RunOptions, Param = Param)

## single efficiency criterion: Nash-Sutcliffe Efficiency
InputsCritSingle &lt;- CreateInputsCrit(FUN_CRIT = ErrorCrit_NSE,
                                     InputsModel = InputsModel, RunOptions = RunOptions,
                                     Obs = list(BasinObs$Qmm[Ind_Run]),
                                     VarObs = "Q", transfo = "",
                                     Weights = NULL)
str(ErrorCrit(InputsCrit = InputsCritSingle, OutputsModel = OutputsModel))

## 2 efficiency critera:  RMSE and the Nash-Sutcliffe Efficiency
InputsCritMulti &lt;- CreateInputsCrit(FUN_CRIT = list(ErrorCrit_RMSE, ErrorCrit_NSE),
                                    InputsModel = InputsModel, RunOptions = RunOptions,
                                    Obs = list(BasinObs$Qmm[Ind_Run],
                                               BasinObs$Qmm[Ind_Run]),
                                    VarObs = list("Q", "Q"), transfo = list("", "sqrt"),
                                    Weights = NULL)
str(ErrorCrit(InputsCrit = InputsCritMulti, OutputsModel = OutputsModel))

## efficiency composite criterion: Nash-Sutcliffe Efficiency mixing
##                                 both raw and log-transformed flows
InputsCritCompo &lt;- CreateInputsCrit(FUN_CRIT = list(ErrorCrit_NSE, ErrorCrit_NSE),
                                    InputsModel = InputsModel, RunOptions = RunOptions,
                                    Obs = list(BasinObs$Qmm[Ind_Run],
                                               BasinObs$Qmm[Ind_Run]),
                                    VarObs = list("Q", "Q"), transfo = list("", "log"),
                                    Weights = list(0.4, 0.6))
str(ErrorCrit(InputsCrit = InputsCritCompo, OutputsModel = OutputsModel))
</code></pre>


</div>