<div class="container">

<table style="width: 100%;"><tr>
<td>derive_var_bcvacritxfl_util</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add <code>CRITx</code>/<code>CRITxFL</code> pair to BCVA dataset</h2>

<h3>Description</h3>

<p>Helper function for <code>derive_var_bcvacritxfl()</code> that adds a criterion variable <code>CRITx</code> and
its corresponding flag <code>CRITxFL</code> to a dataset containing BCVA records
</p>


<h3>Usage</h3>

<pre><code class="language-R">derive_var_bcvacritxfl_util(
  dataset,
  crit_var,
  critx_text,
  critxfl_cond,
  counter,
  bcva_range = NULL,
  bcva_uplim = NULL,
  bcva_lowlim = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>Input dataset (usually ADBCVA).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crit_var</code></td>
<td>
<p>Variable with respect to which <code>CRITx</code>/<code>CRITxFL</code> are derived
(usually <code>CHG</code> or <code>AVAL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>critx_text</code></td>
<td>
<p>String containing the text for <code>CRITx</code> variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>critxfl_cond</code></td>
<td>
<p>String containing R code detailing the criterion to be satisfied
for <code>CRITxFL</code> variable to be equal to "Y".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>counter</code></td>
<td>
<p>Integer detailing the value of x to use in <code>CRITxFL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bcva_range</code></td>
<td>
<p>Numeric vector of length two detailing lower and upper change in
BCVA limits (<code>bcva_range</code> will be called in <code>critxfl_cond</code> if the criterion
stipulates that change in BCVA lie inside some range).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bcva_uplim</code></td>
<td>
<p>Numeric value detailing highest change in BCVA limit (<code>bcva_uplim</code>
will be called in <code>critxfl_cond</code> if the criterion stipulates that change in BCVA
lie below some upper limit).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bcva_lowlim</code></td>
<td>
<p>Numeric value detailing lowest change in BCVA limit (<code>bcva_lowlim</code>
will be called in <code>critxfl_cond</code> if the criterion stipulates that change in BCVA
lie above some lower limit).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The criterion for change in BCVA in <code>CRITxFL</code> can be of three types: (1) value lies
within some range; <code style="white-space: pre;">⁠a &lt;= crit_var &lt;= b⁠</code>; (2) value is below some upper limit; <code>crit_var &lt;= a</code>;
(3) value is above some lower limit; <code>b &lt;= crit_var</code>. For (1), <code>bcva_range</code> must
be specified to this function; for (2), <code>bcva_uplim</code>; for (3) <code>bcva_lowlim</code>. It is
necessary to supply at least one of these three arguments.
NOTE: if <code>crit_var</code> is equal to NA, then the resulting criterion flag is also marked
as <code>NA</code>.
</p>


<h3>Value</h3>

<p>The input BCVA dataset with additional columns <code>CRITx</code>, <code>CRITxFL</code>.
</p>


<h3>Author(s)</h3>

<p>Edoardo Mancini
</p>


</div>