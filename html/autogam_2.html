<div class="container">

<table style="width: 100%;"><tr>
<td>smooth_formula_string</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a character string for a mgcv::gam formula</h2>

<h3>Description</h3>

<p>Create a character string that wraps appropriate variables in a dataframe with <code>s()</code> smooth functions. Based on the datatype of each variable, it determines whether it is a numeric variable to be smoothed:
</p>

<ul>
<li>
<p> Non-numeric: no smoothing.
</p>
</li>
<li>
<p> Numeric: determine knots based on the number of unique values for that variable:
</p>

<ul>
<li> <p><code style="white-space: pre;">⁠&lt;= 4⁠</code>: no smoothing
</p>
</li>
<li> <p><code style="white-space: pre;">⁠5 to 19⁠</code> (inclusive): smooth function with knots equal to the floored half of the number of unique values. E.g., 6 unique values receive 3 knots, 7 will receive 3 knots, and 8 will receive 4 knots.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠&gt;= 20⁠</code>: smooth function with no specified number of knots, allowing the <code>gam()</code> function to detect the appropriate number.
</p>
</li>
</ul>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">smooth_formula_string(data, y_col, smooth_fun = "s", expand_parametric = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>dataframe. All the variables in <code>data</code> except <code>y_col</code> will be listed in the resulting formula string. To exclude any variables, assign as <code>data</code> only the subset of variables desired.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_col</code></td>
<td>
<p>character(1). Name of the y outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth_fun</code></td>
<td>
<p>character(1). Function to use for smooth wraps; default is 's' for the <code>s()</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expand_parametric</code></td>
<td>
<p>logical(1). If <code>TRUE</code> (default), explicitly list each non-smooth (parametric) term. If <code>FALSE</code>, use <code>.</code> to lump together all non-smooth terms.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a single character string that represents a formula with <code>y_col</code> on the left and all other variables in <code>data</code> on the right, each formatted with an appropriate <code>s()</code> function when applicable.
</p>


<h3>Examples</h3>

<pre><code class="language-R">smooth_formula_string(mtcars, 'mpg')

</code></pre>


</div>