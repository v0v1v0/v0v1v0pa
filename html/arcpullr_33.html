<div class="container">

<table style="width: 100%;"><tr>
<td>match_raster_colors</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Match colors in RasterLayer color space to the provided legend values</h2>

<h3>Description</h3>

<p>Colors provided by the legend do not always correspond exactly with the
colors in the colortable of a RasterLayer object. They are usually pretty
close, though, so this function finds the closest colors, maps them to the
appropriate colors in the Raster* object, and applies that to the legend.
</p>


<h3>Usage</h3>

<pre><code class="language-R">match_raster_colors(legend, x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>An object of class raster_legend as returned by
<code>get_layer_legend</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A RasterLayer object as returned by <code>get_map_layer</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Raster colors in <code>x</code> are mapped to those in <code>legend</code> by converting
the RGB hexadecimal values to a 3D vector of values for red, green and blue.
The closest values are then assigned using 3D Pythagorean theorem to compute
the distance among all colors. The minimum distance in three dimensional
space is the color in <code>x</code> that gets mapped to the appropriate color in
<code>legend</code>.
</p>


<h3>Value</h3>

<p>A raster_legend object with corrected colors to match those in
<code>x</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
wi_landcover &lt;- get_map_layer(wi_landcover_url, wis_poly)
legend &lt;- get_layer_legend(wi_landcover_url)
new_legend &lt;- match_raster_colors(legend, wi_landcover_url)

## End(Not run)
</code></pre>


</div>