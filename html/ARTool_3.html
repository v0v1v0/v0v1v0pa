<div class="container">

<table style="width: 100%;"><tr>
<td>art.con</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aligned Ranked Transform Contrasts</h2>

<h3>Description</h3>

<p>Conduct contrast tests following an Aligned Ranked Transform (ART) ANOVA
(<code>anova.art</code>). Conducts contrasts on <code>art</code> models
using aligned-and-ranked linear models using the ART (Wobbrock et al. 2011)
or ART-C (Elkin et al. 2021) alignment procedure, as appropriate to the requested contrast.
</p>


<h3>Usage</h3>

<pre><code class="language-R">art.con(
  m,
  formula,
  response = "art",
  factor.contrasts = "contr.sum",
  method = "pairwise",
  interaction = FALSE,
  adjust,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>An object of class <code>art</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Either a character vector or a formula specifying the fixed
effects whose levels will be compared. See "Formula" section below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>Which response to use: the aligned response
(<code>"aligned"</code>) or the aligned-and-ranked response
(<code>"art"</code>). Default is "art". This argument is passed to <code>artlm.con</code>
(when <code>interaction = FALSE</code>) or <code>artlm</code> (when <code>interaction = TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factor.contrasts</code></td>
<td>
<p>The name of the contrast-generating function to be
applied by default to fixed effect factors. Sets the the first element of
<code>options("contrasts")</code> for the duration of this function. The
default is to use <code>"contr.sum"</code>, i.e. sum-to-zero contrasts, which is
appropriate for Type III ANOVAs (the default ANOVA type for
<code>anova.art</code>). This argument is passed to <code>artlm.con</code> /
<code>artlm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Contrast method argument passed to <code>contrast</code>.
Note: the default is <code>"pairwise"</code> even though the default for the
<code>contrast</code> function is <code>"eff"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interaction</code></td>
<td>
<p>Logical value. If <code>FALSE</code> (the default), conducts contrasts using
the ART-C procedure and <code>artlm.con</code>. If <code>TRUE</code>, conducts
difference-of-difference contrasts using a model returned by <code>artlm</code>.
See the "Interaction Contrasts" section in <code>contrast</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust</code></td>
<td>
<p>Character: adjustment method (e.g., "bonferroni") passed to
<code>contrast</code>. If not provided, <code>contrast</code> will use
its default ("tukey" at the time of publication). All available options are listed
in <code>summary.emmGrid</code> in the "P-value adjustments" section.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to <code>lm</code> or
<code>lmer</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>An <code>art</code> model <code>m</code> stores the <code>formula</code> and <code>data</code>
that were passed to <code>art</code> when <code>m</code> was created. Depending on the
requested contrast type, this function either extracts the linear model from <code>m</code>
needed to perform that contrast or creates a new linear model on data
aligned-and-ranked using the ART-C
procedure, then conducts the contrasts specified in parameter <code>formula</code>.
</p>
<p>Internally, this function uses <code>artlm.con</code> (when <code>interaction = FALSE</code>)
or <code>artlm</code> (when <code>interaction = TRUE</code>) to get the linear
model necessary for the requested contrast, computes estimated marginal
means on the linear model using <code>emmeans</code>, and conducts contrasts
using <code>contrast</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>emmGrid</code>. See <code>contrast</code>
for details.
</p>


<h3>Formula</h3>

<p>Contrasts compare combinations of levels from multiple
factors. The <code>formula</code> parameter indicates which factors are involved. Two
formats are accepted: (1) a character vector as used in
<code>artlm</code> and <code>artlm.con</code>, with factors separated by <code>":"</code>;
or (2) a formula as used in <code>emmeans</code>, with factors separated by <code>*</code>.
For example, contrasts comparing
combinations of levels of factors <em>X1</em> and <em>X2</em> can be expressed
as <code>"X1:X2"</code> (character vector) or as <code>~ X1*X2</code> (formula).
</p>


<h3>Author(s)</h3>

<p>Lisa A. Elkin, Matthew Kay, Jacob O. Wobbrock
</p>


<h3>References</h3>

<p>Elkin, L. A., Kay, M, Higgins, J. J., and Wobbrock, J. O.
(2021). An aligned rank transform procedure for multifactor contrast tests.
<em>Proceedings of the ACM Symposium on User Interface Software and
Technology (UIST '21)</em>. Virtual Event (October 10–14, 2021). New York:
ACM Press, pp. 754–768. doi: <a href="https://doi.org/10.1145/3472749.3474784">10.1145/3472749.3474784</a>
</p>
<p>Wobbrock, J. O., Findlater, L., Gergle, D., and Higgins, J. J.
(2011). The aligned rank transform for nonparametric factorial analyses
using only ANOVA procedures. <em>Proceedings of the ACM Conference on
Human Factors in Computing Systems (CHI '11)</em>.  Vancouver, British Columbia
(May 7–12, 2011). New York: ACM Press, pp. 143–146. doi: <a href="https://doi.org/10.1145/1978942.1978963">10.1145/1978942.1978963</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(Higgins1990Table5, package = "ARTool")

library(dplyr)

## Perform aligned rank transform
m &lt;- art(DryMatter ~ Moisture*Fertilizer + (1|Tray), data=Higgins1990Table5)

## In a some workflows, contrast tests using ART-C would follow a
## significant omnibus effect found by running an anova on the ART responses
## (equivalent to anova(m, response="art")).
## If conducting planned contrasts, this step can be skipped.
anova(m)

## We can conduct contrasts comparing levels of Moisture using the ART-C procedure.
## If conducting contrasts as a post hoc test, this would follow a significant effect
## of Moisture on DryMatter.

## Using a character vector
art.con(m, "Moisture")
## Or using a formula
art.con(m, ~ Moisture)

## Note: Since the ART-C procedure is mathematically equivalent to the ART procedure
## in the single-factor case, this is the same as
## emmeans(artlm(m, "Moisture"), pairwise ~ Moisture)

## art.con() returns an emmGrid object, which does not print asterisks
## beside "significant" tests (p &lt; 0.05). If you wish to add stars beside
## tests of a particular significant level, you can always do that to the
## data frame returned by the summary() method of emmGrid. For example:
art.con(m, ~ Moisture) %&gt;%
  summary() %&gt;%
  mutate(sig = ifelse(p.value &lt; 0.05, "*", ""))

## Or a more complex example:
art.con(m, ~ Moisture) %&gt;%
  summary() %&gt;%
  mutate(sig = symnum(p.value, corr = FALSE, na = FALSE,
    cutpoints = c(0, 0.001, 0.01, 0.05, 0.1, 1),
    symbols = c("***", "**", "*", ".", " ")
  ))

## We can conduct contrasts comparing combinations of levels
## of Moisture and Fertilizer using the ART-C procedure.
## If conducting contrasts as a post hoc test, this would follow
## a significant Moisture:Fertlizer interaction effect on Drymatter.

## Using a character vector for formula
art.con(m, "Moisture:Fertilizer")
## Using a formula
art.con(m, ~ Moisture*Fertilizer)

## We can also conduct interaction contrasts (comparing differences of differences)
art.con(m, "Moisture:Fertilizer", interaction = TRUE)

## For more examples, see vignette("art-contrasts")


</code></pre>


</div>