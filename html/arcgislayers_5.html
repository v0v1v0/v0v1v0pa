<div class="container">

<table style="width: 100%;"><tr>
<td>arc_raster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read from an Image Server</h2>

<h3>Description</h3>

<p>Given an <code>ImageServer</code> export an image as a terra <code>SpatRaster</code> object.
See <code>terra::rast</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">arc_raster(
  x,
  xmin,
  xmax,
  ymin,
  ymax,
  bbox_crs = NULL,
  crs = sf::st_crs(x),
  width = NULL,
  height = NULL,
  format = "tiff",
  ...,
  raster_fn = NULL,
  token = arc_token()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an <code>ImageServer</code> as created with <code>arc_open()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xmin</code></td>
<td>
<p>the minimum bounding longitude value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xmax</code></td>
<td>
<p>the maximum bounding longitude value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ymin</code></td>
<td>
<p>that minimum bounding latitude value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ymax</code></td>
<td>
<p>the maximum bounding latitude value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bbox_crs</code></td>
<td>
<p>the CRS of the values passed to <code>xmin</code>, <code>xmax</code>, <code>ymin</code>, and <code>ymax</code>.
If not specified, uses the CRS of <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crs</code></td>
<td>
<p>the CRS of the resultant raster image and the provided bounding box defined by <code>xmin</code>, <code>xmax</code>, <code>ymin</code>, <code>ymax</code> (passed <code>outSR</code> query parameter).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>default <code>NULL</code>. Cannot exceed <code>x[["maxImageWidth"]]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>default <code>NULL</code>. Cannot exceed <code>x[["maxImageHeight"]]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>default <code>"tiff"</code>. Must be one of "jpgpng", "png", "png8", "png24", "jpg", "bmp", "gif", "tiff", "png32", "bip", "bsq", "lerc".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional key value pairs to be passed to <code>httr2::req_body_form()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raster_fn</code></td>
<td>
<p>a scalar string with the name of the service raster function. See <code>list_service_raster_fns()</code> for available raster functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>default <code>arc_token()</code> authorization token.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>


<h3>Value</h3>

<p>An object of class <code>SpatRaster</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
img_url &lt;- "https://landsat2.arcgis.com/arcgis/rest/services/Landsat/MS/ImageServer"

landsat &lt;- arc_open(img_url)

arc_raster(
  landsat,
  xmin = -71,
  xmax = -67,
  ymin = 43,
  ymax = 47.5,
  bbox_crs = 4326,
  width = 100,
  height = 100
)

## End(Not run)

</code></pre>


</div>