<div class="container">

<table style="width: 100%;"><tr>
<td>interim_bounds</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Interim bounds and confidence interval</h2>

<h3>Description</h3>

<p>Calculates a bound for the log of the ratio of interim time of two samples
(referred to as baseline and treatment) based on partial interval recording (PIR) data,
assuming that the average event durations are equal across samples and that
interim times are exponentially distributed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">interim_bounds(
  PIR,
  phase,
  base_level,
  conf_level = 0.95,
  intervals = NA,
  exponentiate = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>PIR</code></td>
<td>
<p>vector of PIR measurements</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phase</code></td>
<td>
<p>factor or vector indicating levels of the PIR measurements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base_level</code></td>
<td>
<p>a character string or value indicating the name of the baseline level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf_level</code></td>
<td>
<p>Desired coverage rate of the calculated confidence interval. Default is <code>.95</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intervals</code></td>
<td>
<p>the number of intervals in the sample of observations. Default is <code>NA</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exponentiate</code></td>
<td>
<p>Logical value indicating if the log of the bounds and the confidence interval should be exponentiated. Default is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The interim ratio estimate is based on the assumptions that
1) the underlying behavior stream follows an Alternating Renewal Process,
2) the average event durations in each sample are equal, and
3) interim times follow exponential distributions.
</p>
<p>The <code>PIR</code> vector can be in any order corresponding to the factor or vector <code>phase</code>.
The levels of <code>phase</code> can be any two levels, such as "A" and "B", "base" and "treat",
or "0" and "1". If there are more than two levels in <code>phase</code> this function will not work.
A value for <code>base_level</code> must be specified; if it is a character string it is case sensitive.
</p>
<p><code>intervals</code> is the number of intervals in the observations.
This is a single value and is assumed to be constant across both samples and all observations.
If intervals is sent as a vector instead of a single value, the first value in the vector will
be used. This value is only relevant if the mean of one of the samples is at the floor or ceiling
of 0 or 1. In that case it will be used to truncate the sample mean. If the sample mean is at the
floor or ceiling and no value for <code>intervals</code> is provided, the function will stop.
</p>


<h3>Value</h3>

<p>A list with three named entries
The first entry, <code>estimate_bounds</code>, contains the lower and upper bound for the estimate of the prevalence ratio.
The second entry, <code>estimate_SE</code>, contains the standard errors for the upper and lower bounds.
The third entry, <code>estimate_CI</code>, contains the lower and upper bounds for the confidence interval of the prevalence ratio.
</p>


<h3>Author(s)</h3>

<p>Daniel Swan &lt;dswan@utexas.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Estimate bounds on the interim time ratio for Carl from the Moes dataset
data(Moes)
with(subset(Moes, Case == "Carl"),
interim_bounds(PIR = outcome, phase = Phase, base_level = "No Choice"))

</code></pre>


</div>