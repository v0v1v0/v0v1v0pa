<div class="container">

<table style="width: 100%;"><tr>
<td>call_azure_rm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Call the Azure Resource Manager REST API</h2>

<h3>Description</h3>

<p>Call the Azure Resource Manager REST API
</p>


<h3>Usage</h3>

<pre><code class="language-R">call_azure_rm(token, subscription, operation, ..., options = list(),
  api_version = getOption("azure_api_version"))

call_azure_url(token, url, ..., body = NULL, encode = "json",
  http_verb = c("GET", "DELETE", "PUT", "POST", "HEAD", "PATCH"),
  http_status_handler = c("stop", "warn", "message", "pass"),
  auto_refresh = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>An Azure OAuth token, of class AzureToken.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subscription</code></td>
<td>
<p>For <code>call_azure_rm</code>, a subscription ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>operation</code></td>
<td>
<p>The operation to perform, which will form part of the URL path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to lower-level code, ultimately to the appropriate functions in httr.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>A named list giving the URL query parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_version</code></td>
<td>
<p>The API version to use, which will form part of the URL sent to the host.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>A complete URL to send to the host.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>body</code></td>
<td>
<p>The body of the request, for <code>PUT</code>/<code>POST</code>/<code>PATCH</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encode</code></td>
<td>
<p>The encoding (really content-type) for the request body. The default value "json" means to serialize a list body into a JSON object. If you pass an already-serialized JSON object as the body, set <code>encode</code> to "raw".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>http_verb</code></td>
<td>
<p>The HTTP verb as a string, one of <code>GET</code>, <code>PUT</code>, <code>POST</code>, <code>DELETE</code>, <code>HEAD</code> or <code>PATCH</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>http_status_handler</code></td>
<td>
<p>How to handle in R the HTTP status code of a response. <code>"stop"</code>, <code>"warn"</code> or <code>"message"</code> will call the appropriate handlers in httr, while <code>"pass"</code> ignores the status code.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto_refresh</code></td>
<td>
<p>Whether to refresh/renew the OAuth token if it is no longer valid.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions form the low-level interface between R and Azure. <code>call_azure_rm</code> builds a URL from its arguments and passes it to <code>call_azure_url</code>. Authentication is handled automatically.
</p>


<h3>Value</h3>

<p>If <code>http_status_handler</code> is one of <code>"stop"</code>, <code>"warn"</code> or <code>"message"</code>, the status code of the response is checked. If an error is not thrown, the parsed content of the response is returned with the status code attached as the "status" attribute.
</p>
<p>If <code>http_status_handler</code> is <code>"pass"</code>, the entire response is returned without modification.
</p>


<h3>See Also</h3>

<p>httr::GET, httr::PUT, httr::POST, httr::DELETE, httr::stop_for_status, httr::content
</p>


</div>