<div class="container">

<table style="width: 100%;"><tr>
<td>array2df</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>array2df</h2>

<h3>Description</h3>

<p>array2df: Convert multidimensional array into matrix or data.frame
The "wide-format" array is converted into a "long-format" <code>matrix</code> or
<code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">array2df(
  x,
  levels,
  matrix = FALSE,
  label.x = deparse(substitute(x)),
  na.rm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>array</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p><code>list</code> with the levels for the dimensions of <code>x</code>.
</p>
<p>If <code>levels[[i]]</code> is <code>NULL</code> no column is produced for this factor.
</p>
<p>If <code>levels[[i]]</code> is <code>NA</code>, the result column is a numeric with
range from <code>1</code> to <code>dim (x)[i]</code>
</p>
<p>If  <code>levels[[i]]</code> is <code>TRUE</code>, the levels are taken from the dimnames.
</p>
<p><code>names(levels)</code> yield the resulting column names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matrix</code></td>
<td>
<p>If <code>TRUE</code>, a numeric <code>matrix</code> rather than a
<code>data.frame</code> is returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.x</code></td>
<td>
<p>Name for the column containing the <code>x</code> values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>should rows where the value of <code>x</code> is <code>NA</code> be removed?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the resulting <code>data.frame</code> is too large to fit in memory, a
<code>matrix</code> might help.
</p>
<p>The main benefit of this function is that it uses matrices as long as
possible. This can give large advantages in terms of memory consumption.
</p>


<h3>Value</h3>

<p>A data.frame or matrix with <code>prod (dim (x))</code> rows and <code>length (dim (x)) + 1</code>
columns.
</p>


<h3>Author(s)</h3>

<p>Claudia Beleites
</p>


<h3>See Also</h3>

<p><code>stack</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">a &lt;- arrayhelpers:::a
a
array2df (a)
array2df (a, matrix = TRUE)

array2df (a, levels = list(NULL, x = NA, c = NULL), label.x = "value")

array2df (a, levels = list(NULL, x = TRUE, c = c ("foo", "bar")), label.x = "value")

summary (array2df (a,
                   levels = list(NULL, x = NA, c = c ("foo", "bar")),
                   label.x = "value"))

summary (array2df (a,
                   levels = list(NULL, x = NA, c = c ("foo", "bar")),
                   label.x = "value",
                   matrix = TRUE))

</code></pre>


</div>