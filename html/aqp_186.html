<div class="container">

<table style="width: 100%;"><tr>
<td>hz_lag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find lagged horizon values</h2>

<h3>Description</h3>

<p>This function finds adjacent values to a horizon values at lagged distances.
</p>


<h3>Usage</h3>

<pre><code class="language-R">hz_lag(
  object,
  lag = 1,
  unit = "index",
  idcol = "id",
  depthcols = c("top", "bottom"),
  order = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a <code>data.frame</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>integer: number of horizons to lag</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>character: lag units in index or depth.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idcol</code></td>
<td>
<p>character: column name of the pedon ID within the object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depthcols</code></td>
<td>
<p>a character vector of length 2 specifying the names of the horizon depths (e.g. <code>c("top", "bottom")</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>logical: indicating whether or not to order the #'</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with lagged values.
</p>


<h3>Author(s)</h3>

<p>Stephen Roecker
</p>


<h3>See Also</h3>

<p><code>hz_dissolve()</code>, <code>hz_intersect()</code>, <code>hz_segment()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
h &lt;- data.frame(
id = 1,
top    = c(0,  25, 44, 46, 50),
bottom = c(25, 44, 46, 50, 100),
texcl     = c("SL", "SL", "CL", "CL", "L"),
clay   = c(10, 12, 27, 35, 16)
)

h |&gt; hz_lag()

h |&gt; hz_lag(-1)

h |&gt; hz_lag(10:15, unit = "depth")

h |&gt; 
hz_lag() |&gt; 
cbind(h, lag = _) |&gt;
transform(
clay_dif = lag.clay_bot.1 - clay,
texcl_contrast = paste0(texcl, "-", lag.texcl_bot.1))

</code></pre>


</div>