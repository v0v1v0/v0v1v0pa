<div class="container">

<table style="width: 100%;"><tr>
<td>simulate_bus_route</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate a bus route survey</h2>

<h3>Description</h3>

<p>This function uses the output from <code>make_anglers</code> and 
<code>get_total_values</code> to conduct a bus-route or traditional access point
creel survey of the population of anglers from <code>make_anglers</code> and
provide clerk-observed counts of anglers and their effort.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simulate_bus_route(
  start_time,
  wait_time,
  n_anglers,
  n_sites,
  sampling_prob = 1,
  mean_catch_rate,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>start_time</code></td>
<td>
<p>The start time of the surveyor at each site.  This can be a 
vector of start times to simulate a bus route or one <code>startTime</code> to simulate
a traditional access survey.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wait_time</code></td>
<td>
<p>The wait time of the surveyor at each site.  This can be a 
vector of wait times to simulate a bus route or one <code>waitTime</code> to simulate
a traditional access survey.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_anglers</code></td>
<td>
<p>the number of anglers at each site, either a vector or a single number
for single sites</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_sites</code></td>
<td>
<p>The number of sites being visited.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampling_prob</code></td>
<td>
<p>What is the sampling probability for the survey? If all 
sites will be visited during the first or second half of the fishing day, 
<code>samplingProb=0.5</code>.  If the survey will take the entire fishing day, then 
<code>samplingProb=1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean_catch_rate</code></td>
<td>
<p>The mean catch rate for the fishery</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to other subfunctions, specifically to the 
<code>make_anglers</code> function, including <code>mean_trip_length</code> and 
<code>fishing_day_length</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Effort and catch are estimated from the the Bus Route Estimator 
equation in Robson and Jones (1989), Jones and Robson (1991; eqn. 1) and Pollock 
et al. 1994.
</p>
<p>The bus route estimator is 
</p>
<p style="text-align: center;"><code class="reqn">\widehat{E} = T\sum\limits_{i=1}^n{\frac{1}{w_{i}}}\sum\limits_{j=1}^m{\frac{e_{ij}}{\pi_{j}}}</code>
</p>

<p>where <em>E</em> = estimated total party-hours of effort; <em>T</em> = total time 
to complete a full circuit of the route, including traveling and waiting; 
<em><code class="reqn">w_i</code></em> = waiting time at the <em><code class="reqn">i^{th}</code></em> site 
(where <em>i</em> = 1, ..., <em>n</em> sites); <em><code class="reqn">e_{ij}</code></em> = 
total time that the <em><code class="reqn">j^{th}</code></em> car is parked at the <em><code class="reqn">i^{th}</code></em> 
site while the agent is at that site (where <em>j</em> = 1, ..., <em>n</em> sites).
</p>
<p>Catch rate is calculated from the Ratio of Means equation (see 
Malvestuto (1996) and Jones and Pollock (2012) for discussions).
</p>
<p>The Ratio of means is calculated by 
</p>
<p style="text-align: center;"><code class="reqn">\widehat{R_1} = \frac{\sum\limits_{i=1}^n{c_i/n}}{\sum\limits_{i=1}^n{L_i/n}}</code>
</p>

<p>where <em><code class="reqn">c_i</code></em> is the catch for the <em><code class="reqn">i^{th}</code></em> sampling unit 
and <em><code class="reqn">L_i</code></em> is the length of the fishing trip at the time of the 
interview. For incomplete surveys, <em><code class="reqn">L_i</code></em> represents in incomplete 
trip.
</p>


<h3>Value</h3>

<p>Estimated effort (<code>Ehat</code>) from the bus route estimator, the catch rate 
calculated by the ratio of means, the total catch from all anglers, the total effort 
from all anglers, and the actual catch rate (mean_lambda).
</p>


<h3>Author(s)</h3>

<p>Steven H. Ranney
</p>


<h3>References</h3>

<p>Jones, C. M., and D. Robson. 1991. Improving precision in angler 
surveys: traditional access design versus bus route design. American Fisheries 
Society Symposium 12:177-188.
</p>
<p>Jones, C. M., and K. H. Pollock. 2012. Recreational survey methods: 
estimation of effort, harvest, and released catch. Pages 883-919 in A. V. Zale, 
D. L. Parrish, and T. M. Sutton, editors. Fisheries Techniques, 3rd edition. 
American Fisheries Society, Bethesda, Maryland.
</p>
<p>Malvestuto, S. P. 1996. Sampling the recreational creel. Pages 
591-623 in B. R. Murphy and D. W. Willis, editors. Fisheries techniques, 
2nd edition. American Fisheries Society, Bethesda, Maryland.
</p>
<p>Pollock, K. H., C. M. Jones, and T. L. Brown. 1994. Angler survey 
methods and their applications in fisheries management. American Fisheries 
Society, Special Publication 25, Bethesda, Maryland.
</p>
<p>Robson, D., and C. M. Jones. 1989. The theoretical basis of an 
access site angler survey design. Biometrics 45:83-98.
</p>


<h3>See Also</h3>

<p><code>make_anglers</code>
</p>
<p><code>get_total_values</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># To simulate one bus route survey that takes place in the morning, these values are used
#start time at access sites
startTimeAM &lt;- c(1, 2,3,4,5) 
#wait time at access sites
waitTimeAM &lt;- c(.5, .5, .5, .5, 2) 
#the number of anglers that will visit access site throughout the day
nanglersAM &lt;- c(10,10,10,10,50) 
# the number of sites to be visited
nsitesAM &lt;- 5
# the sampling probability.  Here it is .5 because we are only conducting this 
# survey during the first 50% of the fishing day
sampling_prob &lt;- .5
# the mean catch rate.  Here it is 2.5 which equals 2.5 fish/hour
mean_catch_rate &lt;- 2.5

simulate_bus_route(start_time = startTimeAM, wait_time = waitTimeAM, n_anglers = nanglersAM, 
n_sites = nsitesAM, sampling_prob = sampling_prob, mean_catch_rate = mean_catch_rate)

# To simulate one traditional access point survey where the creel clerk arrives, 
# counts anglers, and interviews anglers that have completed their trips
start_time = 0.001 
wait_time = 8
#nanglers can be informed by previously-collected data
n_anglers = 1000 
n_sites = 1
# sampling probability here is 8/12 because we are staying at the access site
# for 8 hours of a 12-hour fishing day.  To adjust the fishing day length, an
# additional 'fishing_day_length' argument needs to be passed to this function.
sampling_prob &lt;- (8/12)
# the mean catch rate.
mean_catch_rate &lt;- 5

simulate_bus_route(start_time, wait_time, n_anglers, n_sites, sampling_prob, mean_catch_rate)

</code></pre>


</div>