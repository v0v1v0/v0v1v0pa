<div class="container">

<table style="width: 100%;"><tr>
<td>saveLatex</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Insert animations into a LaTeX document and compile it</h2>

<h3>Description</h3>

<p>Record animation frames and insert them into a LaTeX document with the
<code>animate</code> package. Compile the document if an appropriate LaTeX command
is provided.
</p>


<h3>Usage</h3>

<pre><code class="language-R">saveLatex(
  expr,
  nmax,
  img.name = "Rplot",
  ani.opts,
  centering = TRUE,
  caption = NULL,
  label = NULL,
  pkg.opts = NULL,
  documentclass = "article",
  latex.filename = "animation.tex",
  pdflatex = "pdflatex",
  install.animate = TRUE,
  overwrite = TRUE,
  full.path = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>an expression to generate animations; use either the animation
functions (e.g. <code>brownian.motion()</code>) in this package or a custom
expression (e.g. <code>for(i in 1:10) plot(runif(10), ylim = 0:1)</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nmax</code></td>
<td>
<p>maximum number of animation frames (if missing and the graphics
device is a bitmap device, this number will be automatically calculated);
note that we do not have to specify <code>nmax</code> when using PDF devices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>img.name</code></td>
<td>
<p>basename of file names of animation frames; see the Note
section for a possible adjustment on <code>img.name</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ani.opts</code></td>
<td>
<p>options to control the behavior of the animation (passed to
the LaTeX macro <code>'\animategraphics'</code>; default to be
<code>'controls,width=\linewidth'</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centering</code></td>
<td>
<p>logical: whether to center the graph using the LaTeX
environment <code style="white-space: pre;">⁠\begin{center}⁠</code> and <code style="white-space: pre;">⁠\end{center}⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption, label</code></td>
<td>
<p>caption and label for the graphics in the figure
environment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pkg.opts</code></td>
<td>
<p>global options for the <code>animate</code> package</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>documentclass</code></td>
<td>
<p>LaTeX document class; if <code>NULL</code>, the output will
not be a complete LaTeX document (only the code to generate the PDF
animation will be printed in the console); default to be <code>article</code>,
but we can also provide a complete statement like
<code style="white-space: pre;">⁠\documentclass[a5paper]{article}⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>latex.filename</code></td>
<td>
<p>file name of the LaTeX document; if an empty string
<code>''</code>, the LaTeX code will be printed in the console and hence not
compiled</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdflatex</code></td>
<td>
<p>the command for pdfLaTeX (set to <code>NULL</code> to ignore the
compiling)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>install.animate</code></td>
<td>
<p>copy the LaTeX style files ‘<span class="file">animate.sty</span>’ and
‘<span class="file">animfp.sty</span>’? If you have not installed the LaTeX package
<code>animate</code>, it suffices just to copy these to files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>whether to overwrite the existing image frames</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>full.path</code></td>
<td>
<p>whether to use the full path (<code>TRUE</code>) or relative path
(<code>FALSE</code>) for the animation frames; usually the relative path
suffices, but sometimes the images and the LaTeX document might not be in
the same directory, so <code>full.path = TRUE</code> could be useful; in the
latter case, remember that you should never use spaces in the filenames or
paths!</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments passed to the graphics device
<code>ani.options('ani.dev')</code>, e.g. <code>ani.height</code> and <code>ani.width</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is actually a wrapper to generate a LaTeX document using R. The document
uses the LaTeX package called <code>animate</code> to insert animations into PDF's.
When we pass an R expression to this function, the expression will be
evaluated and recorded by a grahpics device (typically <code>png</code> and
<code>pdf</code>). At last, a LaTeX document will be created and compiled if
an appropriate LaTeX command is provided. And the final PDF output will be
opened with the PDF viewer set in <code>getOption('pdfviewer')</code> if
<code>ani.options('autobrowse') == TRUE</code>.
</p>


<h3>Value</h3>

<p>Invisible <code>NULL</code>
</p>


<h3>Note</h3>

<p>This function will detect if it was called in a Sweave environment –
if so, <code>img.name</code> will be automatically adjusted to
<code>prefix.string-label</code>, and the LaTeX output will not be a complete
document, but rather a single line like
</p>
<pre>\animategraphics[ani.opts]{1/interval}{img.name}{}{}</pre>
<p>This automatic feature can be useful to Sweave users (but remember to set
the Sweave option <code>results=tex</code>). See <code>demo('Sweave_animation')</code>
for a complete example.
</p>
<p>PDF devices are recommended because of their high quality and usually they
are more friendly to LaTeX, but the size of PDF files is often much larger;
in this case, we may set the option <code>'qpdf'</code> or <code>'pdftk'</code> to
compress the PDF graphics output. To set the PDF device, use
<code>ani.options(ani.dev = 'pdf', ani.type = 'pdf')</code>
</p>
<p>So far animations created by the LaTeX package <span class="pkg">animate</span> can only be
viewed with Acrobat Reader (Windows) or <code>acroread</code> (Linux).  Other
PDF viewers may not support JavaScript (in fact the PDF animation is driven
by JavaScript). Linux users may need to install <code>acroread</code> and set
<code>options(pdfviewer = 'acroread')</code>.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie
</p>


<h3>References</h3>

<p>Examples at <a href="https://yihui.org/animation/example/savelatex/">https://yihui.org/animation/example/savelatex/</a>
</p>
<p>To know more about the <code>animate</code> package, please refer to
<a href="http://www.ctan.org/tex-archive/macros/latex/contrib/animate/">http://www.ctan.org/tex-archive/macros/latex/contrib/animate/</a>. There
are a lot of options can be set in <code>ani.opts</code> and <code>pkg.opts</code>.
</p>


<h3>See Also</h3>

<p>Other utilities: 
<code>im.convert()</code>,
<code>saveGIF()</code>,
<code>saveHTML()</code>,
<code>saveSWF()</code>,
<code>saveVideo()</code>
</p>


</div>