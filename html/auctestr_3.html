<div class="container">

<table style="width: 100%;"><tr>
<td>auc_compare</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare AUC values using the FBH method.</h2>

<h3>Description</h3>

<p>Apply the FBH method to compare <code>outcome_col</code> by <code>compare_col</code>, averaging
over <code>time_col</code> (due to non-independence) and then over <code>over_col</code> by
using Stouffer's Method.
</p>


<h3>Usage</h3>

<pre><code class="language-R">auc_compare(df, compare_values, filter_value, time_col = "time",
  outcome_col = "auc", compare_col = "model_id", over_col = "dataset",
  n_col = "n", n_p_col = "n_p", n_n_col = "n_n",
  filter_col = "model_variant")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>DataFrame containing <code>time_col</code>, <code>outcome_col</code>,
<code>compare_col</code>, and <code>over_col</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compare_values</code></td>
<td>
<p>names of models to compare (character vector of length 2).
These should match exactly the names as they appear in compare_col.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter_value</code></td>
<td>
<p>(optional) keep only observations which contain
<code>filter_value</code> for <code>filter_col</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_col</code></td>
<td>
<p>name of column in df representing time of observations
(z-scores are averaged over time_col within each model/dataset due to
non-independence). These can also be other dependent groupings, such as
cross-validation folds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome_col</code></td>
<td>
<p>name of column in df representing outcome to compare; this should
be Area Under the Receiver Operating Characteristic or A' statistic (this method
applies specifically to AUC and not other metrics (i.e., sensitivity, precision, F1)..</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compare_col</code></td>
<td>
<p>name of column in df representing two conditions to compare
(should contain at least 2 unique values; these two values are specified as
<code>compare_values</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>over_col</code></td>
<td>
<p>identifier for independent experiments, iterations, etc. over which
z-scores for models are to be compared (using Stouffer's Z).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_col</code></td>
<td>
<p>name of column in df with total number of observations in the sample
tested by each row.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_p_col</code></td>
<td>
<p>name of column in df with n_p, number of positive observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_n_col</code></td>
<td>
<p>name of column in df with n_n, number of negative observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter_col</code></td>
<td>
<p>(optional) name of column in df to filter observations on; keep only
observations which contain <code>filter_value</code> for <code>filter_col</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>numeric, overall z-score of comparison using the FBH method.
</p>


<h3>References</h3>

<p>Fogarty, Baker and Hudson, Case Studies in the use of ROC Curve Analysis
for Sensor-Based Estimates in Human Computer Interaction,
Proceedings of Graphics Interface (2005) pp. 129-136.
</p>
<p>Stouffer, S.A.; Suchman, E.A.; DeVinney, L.C.; Star, S.A.;
Williams, R.M. Jr. The American Soldier, Vol.1: Adjustment during Army Life (1949).
</p>


<h3>See Also</h3>

<p>Other fbh method: <code>fbh_test</code>,
<code>se_auc</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## load sample experiment data
data(sample_experiment_data)
## compare VariantA of ModelA and ModelB
auc_compare(sample_experiment_data,
    compare_values = c('ModelA', 'ModelB'),
    filter_value = c('VariantA'),
    time_col = 'time',
    outcome_col = 'auc',
    compare_col = 'model_id',
    over_col = 'dataset',
    filter_col = 'model_variant')
## compare VariantC of ModelA and ModelB
auc_compare(sample_experiment_data,
    compare_values = c('ModelA', 'ModelB'),
    filter_value = c('VariantC'),
    time_col = 'time',
    outcome_col = 'auc',
    compare_col = 'model_id',
    over_col = 'dataset',
    filter_col = 'model_variant')
## compare ModelC, VariantA and VariantB
auc_compare(sample_experiment_data,
    compare_values = c('VariantA', 'VariantB'),
    filter_value = c('ModelC'),
    time_col = 'time',
    outcome_col = 'auc',
    compare_col = 'model_variant',
    over_col = 'dataset',
    filter_col = 'model_id')
</code></pre>


</div>