<div class="container">

<table style="width: 100%;"><tr>
<td>readOEM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read an Orbital Ephemeris Message file
</h2>

<h3>Description</h3>

<p>OEM (Orbital Ephemeris Message) is one of the three standard file formats defined
by the CCSDS for transferring spacecraft orbit information. OEM files contain
the position and velocity of a given object at multiple times (epochs). They can
also contain optionally acceleration values, covariance matrixes that indicate
the uncertainty of the provided state vectors and other additional information.
This function reads OEM files, retrieving also the optional fields.
</p>


<h3>Usage</h3>

<pre><code class="language-R">readOEM(filename)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>Path to the OEM file.
</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A list with two elements. The first element, named <code>header</code>, is a list with
the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>OMVersion </code></td>
<td>
<p>Version of the OEM format used in the file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>creationDate </code></td>
<td>
<p>Date of creation of the file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>creator </code></td>
<td>
<p>Individual or organization that generated the file</p>
</td>
</tr>
</table>
<p>The second element is named <code>dataBlocks</code>, and it contains one element for
each ephemeris data block found in the OEM file. Each of these elements is a 
list with the following elements that provide information about the ephemerides
of object (note that some elements are not mandatory and therefore might not be
present in all OEM files; in these cases, their value is set to NULL):
</p>
<table>
<tr style="vertical-align: top;">
<td><code>objectName </code></td>
<td>
<p>Name of the object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>objectID </code></td>
<td>
<p>Object identifier for the object. Frequently, although not
always, the identifier has the format YYYY-NNNPPP, where YYYY is the year
of launch, NNN is the three-digit serial number specifying the launch number
during year YYYY and PPP is a part specifier comprising 1 to 3 capital letters
that indicate the part of the object put into space during the launch.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>referenceFrame </code></td>
<td>
<p>Frame of reference in which ephemerides are provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refFrameEpoch </code></td>
<td>
<p>Epoch for the frame of reference, for cases where it is
not intrinsic to the frame itself, such as TEME.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centerName </code></td>
<td>
<p>Name of the center of coordinates. For example, a celestial
body, the barycenter of the entire Solar System or even other spacecraft.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeSystem </code></td>
<td>
<p>Time system used for the ephemerides, covariance matrixes
and all other time fields of the data block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startTime </code></td>
<td>
<p>Start time of the time span covered by the ephemerides and
covariance matrixes in this data block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endTime </code></td>
<td>
<p>End time of the time span covered by the ephemerides and
covariance matrixes in this data block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>usableStartTime </code></td>
<td>
<p>Start time of the usable time span covered by the 
ephemerides and covariance matrixes in this data block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>usableEndTime </code></td>
<td>
<p>End time of the usable time span covered by the 
ephemerides and covariance matrixes in this data block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interpolationMethod </code></td>
<td>
<p>Recommended interpolation method to calculate
ephemerides at epochs between those directly given in the data block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interpolationOrder </code></td>
<td>
<p>Recommended interpolation degree to calculate
ephemerides at epochs between those directly given in the data block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mass </code></td>
<td>
<p>Mass in kg of the object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dragArea </code></td>
<td>
<p>Effective area of the object subjected to drag, in square
meters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dragCoefficient </code></td>
<td>
<p>Drag coefficient of the object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solarRadArea </code></td>
<td>
<p>Effective area of the object subjected to solar radiation
pressure, in square meters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solarRadCoefficient </code></td>
<td>
<p>Solar radiation pressure coefficient of the object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ephemerides </code></td>
<td>
<p>Data frame with the 7 or 10 columns providing the ephemerides
for the object. The 1st column provides the epochs for each ephemeris; columns
2 to 4 provide the X, Y and Z components of position (in km), and columns 5 to
7 provide the X, Y and Z components of velocity (in km/s). Columns 8 to 10 are
optional, and if present provide the X, Y and Z components of acceleration (in
km/s2)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covarianceMatrixes </code></td>
<td>
<p>List where each element is a 3-element list that
provides a covariance matrix for this data block. Each of the 3-element lists
corresponding to a covariance matrix contains the following elements:
</p>

<ul>
<li>
<p>epoch Epoch of the navigation solution related to this covariance
matrix.
</p>
</li>
<li>
<p>referenceFrame Reference frame for the covariance matrix. Frequently
this is the same as for the ephemerides. In order to facilitate interpretation
of the covariance matrix, conversion to a perifocal frame of reference might
be advisable.
</p>
</li>
<li>
<p>covarianceMatrix Covariance matrix that provides information about
the uncertainties of position and velocities. This is a symmetric 6x6 matrix
where the values in the diagonal are the squared standard deviations of each 
variable, and the other values are covariances between 2 variables (those 
corresponding to the row and column of each value). The rows and columns
correspond to the following variables, in the specified order: X position,
Y position, Z position, X velocity, Y velocity and Z velocity.
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>References</h3>

<p>https://public.ccsds.org/Pubs/502x0b2c1e2.pdf
https://spotthestation.nasa.gov/trajectory_data.cfm
</p>


<h3>Examples</h3>

<pre><code class="language-R"># The file testOEM.txt provided with the package includes ephemerides data
# for the ISS publicly available

testOEM_ISS &lt;- readOEM(paste0(path.package("asteRisk"), "/testOEM.txt"))
testOEM_ISS$header
testOEM_ISS$dataBlocks[[1]]$objectName
head(testOEM_ISS$dataBlocks[[1]]$ephemerides)
</code></pre>


</div>