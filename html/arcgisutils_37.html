<div class="container">

<table style="width: 100%;"><tr>
<td>infer_esri_type</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Esri field type mapping</h2>

<h3>Description</h3>

<p>Infers Esri field types from R objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">infer_esri_type(
  .data,
  arg = rlang::caller_arg(.data),
  call = rlang::caller_env()
)

remote_ptype_tbl(fields, call = rlang::caller_env())

get_ptype(field_type, call = rlang::caller_env())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>an object of class <code>data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arg</code></td>
<td>
<p>An argument name in the current function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>The execution environment of a currently running
function, e.g. <code>call = caller_env()</code>. The corresponding function
call is retrieved and mentioned in error messages as the source
of the error.
</p>
<p>You only need to supply <code>call</code> when throwing a condition from a
helper function which wouldn't be relevant to mention in the
message.
</p>
<p>Can also be <code>NULL</code> or a defused function call to
respectively not display any call or hard-code a code to display.
</p>
<p>For more information about error calls, see Including function calls in error messages.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fields</code></td>
<td>
<p>a data.frame containing, at least, the columns <code>type</code> and <code>name</code>.
Typically retrieved from the <code>field</code> metadata from a <code>FeatureLayer</code> or <code>Table</code>.
Also can use the output of <code>infer_esri_type()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>field_type</code></td>
<td>
<p>a character of a desired Esri field type. See details for more.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul>
<li> <p><code>get_ptype()</code> takes a scalar character containing the Esri field type and returns a prototype of the pertinent R type
</p>
</li>
<li> <p><code>infer_esri_type()</code> takes a data frame-like object and infers the Esri field type from it.
</p>
</li>
<li> <p><code>remote_ptype_tbl()</code> takes a data frame of fields as derived from <code>list_fields()</code> and
creates a lazy table proto type intended to be used with <code>dbplyr</code> integration
</p>
</li>
</ul>
<h4>Field type mapping:</h4>

<p>Esri field types are mapped as
</p>

<ul>
<li> <p><code>esriFieldTypeSmallInteger</code>: integer
</p>
</li>
<li> <p><code>esriFieldTypeSingle</code>: double
</p>
</li>
<li> <p><code>esriFieldTypeGUID</code>: integer
</p>
</li>
<li> <p><code>esriFieldTypeOID</code>: integer
</p>
</li>
<li> <p><code>esriFieldTypeInteger</code>: integer
</p>
</li>
<li> <p><code>esriFieldTypeBigInteger</code>: double
</p>
</li>
<li> <p><code>esriFieldTypeDouble</code>: double
</p>
</li>
<li> <p><code>esriFieldTypeString</code>: character
</p>
</li>
<li> <p><code>esriFieldTypeDate</code>: date
</p>
</li>
</ul>
<p>R types are mapped as
</p>

<ul>
<li> <p><code>double</code>: esriFieldTypeDouble
</p>
</li>
<li> <p><code>integer</code>: esriFieldTypeInteger
</p>
</li>
<li> <p><code>character</code>: esriFieldTypeString
</p>
</li>
<li> <p><code>date</code>: esriFieldTypeDate
</p>
</li>
<li> <p><code>raw</code>: esriFieldTypeBlob
</p>
</li>
</ul>
<h3>Value</h3>


<ul>
<li> <p><code>get_pytpe()</code> returns an object of the class of the prototype.
</p>
</li>
<li> <p><code>infer_esri_ptype()</code> returns a <code>data.frame</code> with columns <code>name</code>, <code>type</code>, <code>alias</code>, <code>nullable</code>, and <code>editable</code> columns
</p>

<ul><li>
<p> This resembles that of the <code>fields</code> returned by a FeatureService
</p>
</li></ul>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
get_ptype("esriFieldTypeDouble")

infer_esri_type(iris)

</code></pre>


</div>