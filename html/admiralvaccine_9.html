<div class="container">

<table style="width: 100%;"><tr>
<td>derive_vars_crit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Derive Analysis Criterion Evaluation Variables</h2>

<h3>Description</h3>

<p>Derive analysis criterion evaluation result variable, paired with character
and numeric flags.
This function allows also the derivation of a CRIT like variable with a
different name (ex: <code>ANL01FL</code>), without generating additional numeric (ex: <code>ANL01FN</code>)
and character label (ex: <code>ANL01</code>) variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">derive_vars_crit(dataset, prefix, crit_label, condition, criterion)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>Input dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>Variables to add
</p>
<p>The analysis criterion evaluation variable's name (i.e., <code>CRIT1</code>)
This name is also used in order to create both character and numeric
flags variables (i.e., <code>CRIT1FL</code> and <code>CRIT1FN</code>).
If the name does not contain CRIT wording, it generates a flag variable
(ex: <code>ANL01FL</code>) whose logic is equals to <code>CRIT1</code> variable, without generating
additional numeric (ex: <code>ANL01FN</code>) and character (<code>ANL01</code>) variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crit_label</code></td>
<td>
<p>Criterion value
</p>
<p>A text description defining the condition necessary to satisfy the presence
of the criterion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>condition</code></td>
<td>
<p>Condition for selecting a subset
</p>
<p>The condition specified in order to select a subset from the input dataset
in which the rule is applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>Criterion rule
</p>
<p>The criterion that each selected row satisfies or not.
Returns <code>Y</code> or <code>N</code> for character variable and <code>1</code> or <code>0</code> for numeric variable
if the criterion is met or not, respectively.
Returns <code>NA</code> for not selected rows (not taken into account from condition)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Dataset with criterion variables
</p>


<h3>Author(s)</h3>

<p>Federico Baratin
</p>


<h3>See Also</h3>

<p>Other der_var: 
<code>derive_var_aval_adis()</code>,
<code>derive_vars_event_flag()</code>,
<code>derive_vars_max_flag()</code>,
<code>derive_vars_merged_vaccine()</code>,
<code>derive_vars_params()</code>,
<code>derive_vars_vaxdt()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(tibble)
library(admiral)
library(admiraldev)
library(dplyr)

input &lt;- tribble(
  ~USUBJID, ~AVISITN, ~ISCAT, ~PARAMCD, ~AVAL, ~ISLLOQ,
  "999999-000001", 10, "IMMUNOLOGY", "J0033VN", 2, 4,
  "999999-000001", 10, "IMMUNOLOGY", "I0019NT", 3, 6,
  "999999-000001", 10, "IMMUNOLOGY", "M0019LN", 4, 4,
  "999999-000001", 10, "IMMUNOLOGY", "R0003MA", 3, 6,
  "999999-000001", 30, "IMMUNOLOGY", "J0033VN", 60, 4,
  "999999-000001", 30, "IMMUNOLOGY", "I0019NT", 567, 6,
  "999999-000001", 30, "IMMUNOLOGY", "M0019LN", 659, 4,
  "999999-000001", 30, "IMMUNOLOGY", "R0003MA", 250, 6,
  "999999-000002", 10, "IMMUNOLOGY", "J0033VN", 2, 4,
  "999999-000002", 10, "IMMUNOLOGY", "I0019NT", 7, 6,
  "999999-000002", 10, "IMMUNOLOGY", "M0019LN", 5, 4,
  "999999-000002", 10, "IMMUNOLOGY", "R0003MA", 3, 6,
  "999999-000002", 30, "IMMUNOLOGY", "J0033VN", 55, 4,
  "999999-000002", 30, "IMMUNOLOGY", "I0019NT", 89, 6,
  "999999-000002", 30, "IMMUNOLOGY", "M0019LN", 990, 4,
  "999999-000002", 30, "IMMUNOLOGY", "R0003MA", 340, 6,
  "999999-000003", 10, "IMMUNOLOGY", "J0033VN", 3, 4,
  "999999-000003", 10, "IMMUNOLOGY", "I0019NT", 6, 6,
  "999999-000003", 10, "IMMUNOLOGY", "M0019LN", 2, 4,
  "999999-000003", 10, "IMMUNOLOGY", "R0003MA", 2, 6,
  "999999-000003", 30, "IMMUNOLOGY", "J0033VN", 45, 4,
  "999999-000003", 30, "IMMUNOLOGY", "I0019NT", 381, 6,
  "999999-000003", 30, "IMMUNOLOGY", "M0019LN", 542, 4,
  "999999-000003", 30, "IMMUNOLOGY", "R0003MA", NA, 6
)


derive_vars_crit(
  dataset = input,
  prefix = "CRIT1",
  crit_label = "Titer &gt;= ISLLOQ",
  condition = !is.na(AVAL) &amp; !is.na(ISLLOQ),
  criterion = AVAL &gt;= ISLLOQ
)

</code></pre>


</div>