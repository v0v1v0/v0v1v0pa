<div class="container">

<table style="width: 100%;"><tr>
<td>est_attrib</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimates simulations of expected responses</h2>

<h3>Description</h3>

<p>For each exposure the dataset is copied and the original value replaced by the reference value.
Then the sim function is used to generate 500 simulations of expected responses for each row.
Finally the dataset is transformed to obtain expected response for original and reference values
of the given exposures for each original row of the dataset.
</p>


<h3>Usage</h3>

<pre><code class="language-R">est_attrib(fit, data, exposures, n_sim = 500)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>A model fit constructed by fit_attrib</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The observed data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposures</code></td>
<td>
<p>The exposures that will get reference expected mortalities</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_sim</code></td>
<td>
<p>Number of simulations
</p>
<p>For more details see the help vignette:
<code>vignette("intro", package="attrib")</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The burden method is based on Nielsen, Krause, Molbak &lt;doi:10.1111/irv.12564&gt;.
</p>
<p>For more details see the help vignette:
<code>vignette("intro", package="attrib")</code>
</p>


<h3>Value</h3>

<p>Dataset with expected responses for all simulations including expected responses given the exposure reference values
</p>


<h3>Examples</h3>

<pre><code class="language-R">
response &lt;- "deaths"
fixef &lt;- "pr100_ili_lag_1 + sin(2 * pi * (week - 1) / 52) + cos(2 * pi * (week - 1) / 52)"
ranef &lt;- " (pr100_ili_lag_1| season)"
offset &lt;- "log(pop)"

data &lt;- attrib::data_fake_nation

fit &lt;- fit_attrib(data = data, response = response, fixef = fixef, ranef = ranef, offset = offset)
exposures &lt;- c(pr100_ili_lag_1 = 0)
n_sim &lt;- 5
new_data &lt;- est_attrib(fit, data, exposures, n_sim)
new_data[]

</code></pre>


</div>