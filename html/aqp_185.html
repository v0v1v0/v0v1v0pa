<div class="container">

<table style="width: 100%;"><tr>
<td>hz_intersect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Intersecting horizon boundaries by horizon depths</h2>

<h3>Description</h3>

<p>This function intersects two horizon tables by harmonizing their depths and merging them where they overlap. This can be useful to rejoin the results of <code>hz_dissolve()</code> to it's original horizon table, and then perform an aggregation on the dissolved variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">hz_intersect(x, y, idcol = "id", depthcols = c("top", "bottom"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>data.frame</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a <code>data.frame</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idcol</code></td>
<td>
<p>character: column name of the pedon ID within the object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depthcols</code></td>
<td>
<p>a character vector of length 2 specifying the names of the horizon depths (e.g. <code>c("top", "bottom")</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with harmonized depth intervals (i.e. segment_id) and columns from both of the original <code>data.frame</code>. If both <code>data.frame</code> contain the same column names, they will both be returned (with the exception of the idcol and depthcols), and appended with either x or y to indicate which <code>data.frame</code> they originated from.
</p>


<h3>Author(s)</h3>

<p>Stephen Roecker
</p>


<h3>See Also</h3>

<p><code>hz_dissolve()</code>, <code>hz_lag()</code>, <code>hz_segment()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
h &lt;- data.frame(
id = 1,
top    = c(0,  25, 44, 46, 50),
bottom = c(25, 44, 46, 50, 100),
by     = c("Yes", "Yes", "No", "No", "Yes"),
clay   = c(10, 12, 27, 35, 16)
)

h |&gt; hz_dissolve("by")

h |&gt; hz_dissolve("by") |&gt; hz_intersect(x = _, y = h)

h |&gt; 
hz_dissolve("by") |&gt; 
hz_intersect(x = h, y = _) |&gt;
aggregate(clay ~ dissolve_id, data = _, mean)

</code></pre>


</div>