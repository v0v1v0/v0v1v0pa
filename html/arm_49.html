<div class="container">

<table style="width: 100%;"><tr>
<td>model.matrixBayes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construct Design Matrices</h2>

<h3>Description</h3>

<p><code>model.matrixBayes</code> creates a design matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">model.matrixBayes(object, data = environment(object),
    contrasts.arg = NULL, xlev = NULL, keep.order = FALSE, drop.baseline=FALSE,...)



</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of an appropriate class.  For the default
method, a model formula or terms object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame created with <code>model.frame</code>.  If
another sort of object, <code>model.frame</code> is called first.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrasts.arg</code></td>
<td>
<p>A list, whose entries are contrasts suitable for
input to the <code>contrasts</code> replacement function and
whose names are the names of columns of <code>data</code> containing
<code>factor</code>s.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlev</code></td>
<td>
<p>to be used as argument of <code>model.frame</code> if
<code>data</code> has no <code>"terms"</code> attribute.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.order</code></td>
<td>
<p>a logical value indicating whether the terms should
keep their positions. If <code>FALSE</code> the terms are reordered so
that main effects come first, followed by the interactions,
all second-order, all third-order and so on.  Effects of a given
order are kept in the order specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop.baseline</code></td>
<td>
<p>Drop the base level of categorical Xs, default is TRUE.</p>
</td>
</tr>
</table>
<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td>
</tr></table>
<h3>Details</h3>

<p><code>model.matrixBayes</code> is adapted from <code>model.matrix</code> in the <code>stats</code>
pacakge and is designed for the use of <code>bayesglm</code>.
It is designed to keep baseline levels of all categorical varaibles and keep the
variable names unodered in the output.  The design matrices created by
<code>model.matrixBayes</code> are unidentifiable using classical regression methods,
though; they can be identified using <code>bayesglm</code>.

</p>


<h3>Author(s)</h3>

<p>Yu-Sung Su <a href="mailto:suyusung@tsinghua.edu.cn">suyusung@tsinghua.edu.cn</a></p>


<h3>References</h3>

<p>Andrew Gelman, Aleks Jakulin, Maria Grazia Pittau and Yu-Sung Su. (2009).
“A Weakly Informative Default Prior Distribution For
Logistic And Other Regression Models.”
<em>The Annals of Applied Statistics</em> 2 (4): 1360–1383.
<a href="http://www.stat.columbia.edu/~gelman/research/published/priors11.pdf">http://www.stat.columbia.edu/~gelman/research/published/priors11.pdf</a>
</p>


<h3>See Also</h3>

<p><code>model.frame</code>, <code>model.extract</code>,
<code>terms</code>, <code>terms.formula</code>,
<code>bayesglm</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">ff &lt;- log(Volume) ~ log(Height) + log(Girth)
str(m &lt;- model.frame(ff, trees))
(model.matrix(ff, m))
class(ff) &lt;- c("bayesglm", "terms", "formula")
(model.matrixBayes(ff, m))


</code></pre>


</div>