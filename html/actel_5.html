<div class="container">

<table style="width: 100%;"><tr>
<td>advEfficiency</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate beta estimations for efficiency</h2>

<h3>Description</h3>

<p>advEfficiency estimates efficiency ranges by fitting a beta distribution
with parameters <code class="reqn">\alpha</code> = number of detected tags and <code class="reqn">\beta</code> = number of missed
tags. The desired quantiles (argument <code>q</code>) are then calculated from distribution.
Plots are also drawn showing the distribution, the median point (dashed red line) and
the range between the lowest and largest quantile requested (red shaded section).
</p>


<h3>Usage</h3>

<pre><code class="language-R">advEfficiency(
  x,
  labels = NULL,
  q = c(0.025, 0.5, 0.975),
  force.grid = NULL,
  paired = TRUE,
  title = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An efficiency object from actel (<code>overall.CJS</code>, <code>intra.array.CJS[[...]]</code> or <code>efficiency</code> objects)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>a vector of strings to substitute default plot labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>The quantile values to be calculated. Defaults to <code>c(0.025, 0.5, 0.975)</code> (i.e. median and 95% CI)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force.grid</code></td>
<td>
<p>A vector of format c(nrow, ncol) that allows the user to define the number of rows and columns to distribute the plots in.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paired</code></td>
<td>
<p>Logical: For efficiency derived from residency analyses, should min. and max. estimates for an array be displayed next to each other?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>A title for the plot (feeds into title parameter of ggplot's labs function).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Examples for inclusion in a paper:
</p>

<ol>
<li>
<p> If advEfficiency was run on an <code>overall.CJS</code> object (i.e. migration analysis):
</p>
<p>"Array efficiency was estimated by fitting a beta distribution
(<code class="reqn">\alpha</code> = number of tags detected subsequently and at the array,
<code class="reqn">\beta</code> = number of tags detected subsequently but not at the array)
and calculating the median estimated efficiency value using the R package actel [citation]."
</p>
</li>
<li>
<p> If advEfficiency was run on an <code>efficiency</code> object (i.e. residency analysis):
</p>

<ul>
<li>
<p> If you are using maximum efficiency estimates:
</p>
<p>"Array efficiency was estimated by fitting a beta distribution
(<code class="reqn">\alpha</code> = number of events recorded by the array,
<code class="reqn">\beta</code> = number of events known to have been missed by the array).
and calculating the median estimated efficiency value using the R package actel [citation]."
</p>
</li>
<li>
<p> If you are using minimum efficiency estimates:
</p>
<p>"Array efficiency was estimated by fitting a beta distribution
(<code class="reqn">\alpha</code> = number of events recorded by the array,
<code class="reqn">\beta</code> = number of events both known to have been missed and potentially missed by the array).
and calculating the median estimated efficiency value using the R package actel [citation]."
</p>
</li>
</ul>
</li>
<li>
<p> If advEfficiency was run on an <code>intra.array.CJS</code> object:
</p>
<p>"Intra-array efficiency was estimated by comparing the tags detected at each of the
two replicates. For each replicate, a beta distribution was fitted
(<code class="reqn">\alpha</code> = number of tags detected at both replicates, <code class="reqn">\beta</code> = number
of tags detected at the opposite replicate but not at the one for which efficiency
is being calculated) and the median estimated efficiency value was calculated. The overall
efficiency of the array was then estimated as 1-((1-R1)*(1-R2)), where R1 and R2 are
the median efficiency estimates for each replicate. These calculations were performed
using the R package actel [citation]."
</p>
</li>
</ol>
<p>Replace [citation] with the output of <code>citation('actel')</code>
</p>


<h3>Value</h3>

<p>A data frame with the required quantile values and a plot of the efficiency distributions.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example using the output of simpleCJS.
x &lt;- matrix(
c(TRUE,  TRUE,  TRUE,  TRUE,  TRUE,
  TRUE, FALSE,  TRUE,  TRUE, FALSE,
  TRUE,  TRUE, FALSE, FALSE, FALSE,
  TRUE,  TRUE, FALSE,  TRUE,  TRUE,
  TRUE,  TRUE,  TRUE, FALSE, FALSE),
ncol = 5, byrow = TRUE)
colnames(x) &lt;- c("Release", "A1", "A2", "A3", "A4")
cjs.results &lt;- simpleCJS(x)

# These cjs results can be used in advEfficiency
advEfficiency(cjs.results)

# Example using the output of dualArrayCJS.
x &lt;- matrix(
c( TRUE,  TRUE,
   TRUE, FALSE,
   TRUE,  TRUE,
  FALSE,  TRUE,
  FALSE,  TRUE),
ncol = 2, byrow = TRUE)
colnames(x) &lt;- c("A1.1", "A1.2")
cjs.results &lt;- dualArrayCJS(x)

# These cjs results can be used in advEfficiency
advEfficiency(cjs.results)

# advEfficiency can also be run with the output from the main analyses.
# the example.results dataset is the output of a migration analysis
advEfficiency(example.results$overall.CJS)

</code></pre>


</div>