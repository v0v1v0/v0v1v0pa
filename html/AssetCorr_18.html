<div class="container">

<table style="width: 100%;"><tr>
<td>intraJDP2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Joint Default Probability Matching Estimator,  De Servigny and Renault (2002)
</h2>

<h3>Description</h3>

<p>The intra asset correlation will be estimated by fitting the empirical joint default probability (JDP) of the default rate time series to the theoretical one and backing out the remaining correlation parameter numerically. The biased estimator of De Servigny and Renault (2002) will be used for the empirical JDP. Additionally, bootstrap and jackknife corrections are implemented.
</p>


<h3>Usage</h3>

<pre><code class="language-R">intraJDP2(d, n, B = 0,DB=c(0,0), JC = FALSE, CI_Boot, type="bca", plot=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>a vector, containing the default time series of the sector.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>a vector, containing the number of obligors at the beginning of the period over time.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>an integer, indicating how many bootstrap repetitions should be used for the single bootstrap corrected estimate.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DB</code></td>
<td>
<p>a combined vector, indicating how many bootstrap repetitions should be used for the inner (first entry) and outer loop (second entry) to correct the bias using the double bootstrap.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>JC</code></td>
<td>
<p> a logical variable, indicating if the jackknife corrected estimate should be calculated.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CI_Boot</code></td>
<td>
<p>a number, indicating the desired confidence interval if the single bootstrap correction is specified. By default, the interval is calculated as the bootstrap corrected and accelerated confidence interval (Bca).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a string, indicating the desired method to calculate the bootstrap confidence intervals. For more details see <code>boot.ci</code>. Studendized confidence intervals are not supported.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>a logical variable, indicating whether a plot of the single bootstrap density should be generated.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Kalkbrener and Onwunta (2010) for example showed that the JDP of the default rates follow a bivariate normal distribution. The intra asset correlation will be estimated by fitting the empirical JDP of the default rate time series on the theoretical JDP of the default rate and backing out the remaining correlation parameter numerically. 
The empirical JDP is calculated by the (unbiased) estimator of De Servigny and Renault (2002). If <code>DB</code> is specified, the single bootstrap corrected estimate will be calculated by using the bootstrap values of the outer loop (<code>oValues</code>).
</p>


<h3>Value</h3>

<p>The returned value is a list, containing the following components (depending on the selected arguments):
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Original</code></td>
<td>
<p>Estimate of the original method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Bootstrap</code></td>
<td>
<p>Bootstrap corrected estimate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Double_Bootstrap</code></td>
<td>
<p>Double bootstrap corrected estimate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Jackknife</code></td>
<td>
<p>Jackknife corrected estimate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CI_Boot</code></td>
<td>
<p>Selected two-sided bootstrap confidence interval</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bValues</code></td>
<td>
<p>Estimates from the single bootstrap resampling</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iValues</code></td>
<td>
<p>Estimates from the double bootstrap resampling- inner loop</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oValues</code></td>
<td>
<p>Estimates from the double bootstrap resampling- outer loop</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Chang J, Hall P (2015).
“Double-bootstrap methods that use a single double-bootstrap simulation.”
<em>Biometrika</em>, <b>102</b>(1), 203–214.
</p>
<p>De Servigny A, Renault O (2002).
“Default correlation: empirical evidence.”
<em>Working Paper, Standard and Poors</em>.
Available at: <a href="https://www.semanticscholar.org/paper/Default-correlation%3A-empirical-evidence-Servigny-Renault/aae251436d0e3b489951c0d38463d71106755675">https://www.semanticscholar.org/paper/Default-correlation%3A-empirical-evidence-Servigny-Renault/aae251436d0e3b489951c0d38463d71106755675</a>.
</p>
<p>Efron B, Tibshirani RJ (1994).
<em>An introduction to the bootstrap</em>.
CRC press.
</p>
<p>Kalkbrener M, Onwunta A (2010).
“Validating structural credit portfolio models.”
<em>Model risk - identification, measurement and management. Risk Books, London</em>, 233–261.
</p>


<h3>See Also</h3>

<p><code>intraAMM</code>, <code>intraFMM</code>, <code>intraJDP1</code>,
<code>intraCMM</code>, <code>intraMLE</code>, <code>intraAMLE</code>,
<code>intraMode</code>,<code>intraBeta</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(10)
d=defaultTimeseries(1000,0.3,20,0.01)
n=rep(1000,20)

IntraCorr=intraJDP2(d,n)
#Jackknife correction
IntraCorr=intraJDP2(d,n, JC=TRUE)


#Bootstrap correction with confidence intervals
IntraCorr=intraJDP2(d,n, B=1000, CI_Boot=0.95 )

#Bootstrap correction with confidence intervals and plot
IntraCorr=intraJDP2(d,n, B=1000, CI_Boot=0.95, plot=TRUE )

#Double Bootstrap correction with 10 repetitions in the inner loop and 50 in the outer loop
IntraCorr=intraJDP2(D1,N1, DB=c(10,50))


</code></pre>


</div>