<div class="container">

<table style="width: 100%;"><tr>
<td>secrets</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stored secrets in Key Vault</h2>

<h3>Description</h3>

<p>This class represents the collection of secrets stored in a vault. It provides methods for managing secrets, including creating, importing and deleting secrets, and doing backups and restores.
</p>


<h3>Methods</h3>

<p>This class provides the following methods:</p>
<pre>create(name, value, content_type=NULL, attributes=vault_object_attrs(), ...)
get(name)
delete(name, confirm=TRUE)
list(include_managed=FALSE)
backup(name)
restore(backup)
</pre>


<h3>Arguments</h3>


<ul>
<li> <p><code>name</code>: The name of the secret.
</p>
</li>
<li> <p><code>value</code>: For <code>create</code>, the secret to store. This should be a character string or a raw vector.
</p>
</li>
<li> <p><code>content_type</code>: For <code>create</code>, an optional content type of the secret, such as "application/octet-stream".
</p>
</li>
<li> <p><code>attributes</code>: Optional attributes for the secret, such as the expiry date and activation date. A convenient way to provide this is via the vault_object_attrs helper function.
</p>
</li>
<li> <p><code>...</code>: For <code>create</code>, other named arguments which will be treated as tags.
</p>
</li>
<li> <p><code>include_managed</code>: For <code>list</code>, whether to include secrets that were created by Key Vault to support a managed certificate.
</p>
</li>
<li> <p><code>backup</code>: For <code>restore</code>, a string representing the backup blob for a secret.
</p>
</li>
</ul>
<h3>Value</h3>

<p>For <code>get</code>, and <code>create</code>, an object of class <code>stored_secret</code>, representing the secret. The actual value of the secret is in the <code>value</code> field.
</p>
<p>For <code>list</code>, a vector of secret names.
</p>
<p>For <code>backup</code>, a string representing the backup blob for a secret. If the secret has multiple versions, the blob will contain all versions.
</p>


<h3>See Also</h3>

<p>vault_object_attrs
</p>
<p><a href="https://docs.microsoft.com/en-us/azure/key-vault/">Azure Key Vault documentation</a>,
<a href="https://docs.microsoft.com/en-us/rest/api/keyvault">Azure Key Vault API reference</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

vault &lt;- key_vault("mykeyvault")

vault$secrets$create("mysecret", "secret string")

vault$secrets$list()

secret &lt;- vault$secrets$get("mysecret")
secret$value  # 'secret string'

# specifying an expiry date
today &lt;- Sys.date()
vault$secrets$create("mysecret", attributes=vault_object_attrs(expiry_date=today+365))

# setting management tags
vault$secrets$create("mysecret", tag1="a value", othertag="another value")


## End(Not run)
</code></pre>


</div>