<div class="container">

<table style="width: 100%;"><tr>
<td>dev</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Deviation function</h2>

<h3>Description</h3>

<p>This function calculates the deviation in the sense of the Grantham deviation
as introduced by Tavtigian et al. (2006). Essentially, if <code>x</code> lies within the
range [<code>min</code>, <code>max</code>], then <code>dev()</code> returns 0. If <code>x</code> is either below <code>min</code>, or
above <code>max</code>, then <code>dev()</code> returns the absolute difference between <code>x</code> and
<code>min</code> or <code>max</code>, respectively.
</p>
<p><img src="../help/figures/dev-def.svg" alt="dev definition"></p>
<p>Inputs are recycled in the sense of <code>vctrs::vec_recycle()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dev(x, min, max)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min</code></td>
<td>
<p>A numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>A numeric vector.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Here's a plot showcasing <code>dev()</code> with <code>min = -4</code> and <code>max = 3</code>:
</p>
<div class="sourceCode r"><pre>x &lt;- -10:10; min &lt;- -4; max &lt;- 3
plot(x, y = dev(x, min, max), type = 'l', xlab = 'x', ylab = 'deviation')
</pre></div>
<p><img src="../help/figures/dev-plot-1.png" alt="dev-plot-1.png"></p>


<h3>Value</h3>

<p>A numeric vector of deviations.
</p>


<h3>See Also</h3>

<p><code>gd()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># `dev()` returns absolute differences from either min or max (whichever is
# closest).
dev(10, min = -4, max = 4)
dev(-10, min = -4, max = 4)

# `x` can be a vector
dev(-10:10, min = -4, max = 4)

# `min` and `max` can also be vectors, they will be recycled
dev(-10:10, min = -4:16, max = 4:24)

# If `x` contains `NA` values, then `dev()` will return `NA` for
# those cases
dev(c(10, NA), min = -4, max = 4)

# For each calculation of deviation, only either `min` or `max` is used. If
# the unused parameter is `NA` it won't affect the calculation:
dev(c(10, 3), min = c(NA, -4), max = 4)
dev(c(10, -5), min = -4, max = c(4, NA))

</code></pre>


</div>