<div class="container">

<table style="width: 100%;"><tr>
<td>update_saved_trials</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update previously saved simulation results</h2>

<h3>Description</h3>

<p>This function updates a previously saved <code>"trial_results"</code> object created and
saved by <code>run_trials()</code> using a previous version of <code>adaptr</code>, allowing the
results from these previous simulations to be post-processed (including
performance metric calculation, printing and plotting) without errors by this
version of the package. The function should be run only once per saved
simulation object and will issue a warning if the object is already up to
date. And overview of the changes made according to the <code>adaptr</code> package
version used to generate the original object is provided in <strong>Details</strong>.<br><strong>NOTE:</strong> some values cannot be updated and will be set to <code>NA</code> (the
posterior estimates from the 'final' analysis conducted after the last
adaptive analysis and including outcome data for all patients), and thus
using both <code>raw_ests = TRUE</code> and <code>final_ests = TRUE</code> in the
<code>extract_results()</code> and <code>summary()</code> functions will lead to missing values for
some of the values calculated for updated simulation objects.<br><strong>NOTE:</strong> other objects created by the <code>adaptr</code> package, i.e., trial
specifications generated by
<code>setup_trial()</code> / <code>setup_trial_binom()</code> / <code>setup_trial_norm()</code> and single
simulation results from <code>run_trials()</code> when not included in as part of the
returned output from <code>run_trials()</code> should be re-created by re-running the
relevant code using the updated version of <code>adaptr</code>; if manually re-loaded
from previous sessions, they may cause errors and problems with the updated
version of the package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">update_saved_trials(path, version = NULL, compress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>single character; the path to the saved <code>"trial_results"</code>-object
containing the simulations saved by <code>run_trials()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>version</code></td>
<td>
<p>passed to <code>saveRDS()</code> when saving the updated object, defaults
to <code>NULL</code> (as in <code>saveRDS()</code>), which means that the current default version
is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compress</code></td>
<td>
<p>passed to <code>saveRDS()</code> when saving the updated object,
defaults to <code>TRUE</code> (as in <code>saveRDS()</code>), see <code>saveRDS()</code> for other options.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The following changes are made according to the version of <code>adaptr</code> used to
generate the original <code>"trial_results"</code> object:
</p>

<ul>
<li> <p><code style="white-space: pre;">⁠v1.2.0+⁠</code>: updates version number and the <code>reallocate_probs</code>
argument in the embedded trial specification.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠v1.1.1 or earlier⁠</code>: updates version number and everything related
to follow-up and data collection lag (in these versions, the
<code>randomised_at_looks</code> argument in the <code>setup_trial()</code> functions did not
exist, but for practical purposes was identical to the number of
patients with available data at each look) and the <code>reallocate_probs</code>
argument in the embedded trial specification.
</p>
</li>
</ul>
<h3>Value</h3>

<p>Invisibly returns the updated <code>"trial_results"</code>-object.
</p>


<h3>See Also</h3>

<p><code>run_trials()</code>.
</p>


</div>