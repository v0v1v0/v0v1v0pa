<div class="container">

<table style="width: 100%;"><tr>
<td>completions_api</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Request answer from openai's completions API</h2>

<h3>Description</h3>

<p>Mostly used under the hood for <code>askgpt</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">completions_api(
  prompt,
  model = NULL,
  temperature = NULL,
  max_tokens = NULL,
  api_key = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prompt</code></td>
<td>
<p>character string of the prompt to be completed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>character string of the model to be used (defaults to
"text-davinci-003").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>temperature</code></td>
<td>
<p>numeric value between 0 and 1 to control the randomness of
the output (defaults to 0.2; lower values like 0.2 will make answers more
focused and deterministic).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_tokens</code></td>
<td>
<p>The maximum number of tokens to generate in the completion.
2048L is the maximum the models accept.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_key</code></td>
<td>
<p>set the API key. If NULL, looks for the env OPENAI_API_KEY.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters to be passed to the API (see [the API
documentation](https://platform.openai.com/docs/api-reference/completions)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Only a few parameters are implemented by name. Most can be sent
through the <code>...</code>. For example, you could use the <code>n</code> parameter
just like this <code>completions_api("The quick brown fox", n = 2)</code>.
</p>
<p>A couple of defaults are used by the package:
</p>

<ul>
<li>
<p>the model used by default is "text-davinci-003"
</p>
</li>
<li>
<p>the default temperature is 0.2
</p>
</li>
<li>
<p>the default for max_tokens is 2048L
</p>
</li>
</ul>
<p>You can configure how <code>askgpt</code> makes requests by setting
options that start with <code>askgpt_*</code>. For example, to use a different
model use <code>options(askgpt_model = "text-curie-001")</code>. It does not
matter if the API parameter ist listed in the function or not. All are
used.
</p>


<h3>Value</h3>

<p>a httr2 response object
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
completions_api("The quick brown fox")

## End(Not run)
</code></pre>


</div>