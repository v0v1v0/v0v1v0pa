<div class="container">

<table style="width: 100%;"><tr>
<td>median_stopping_policy</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Define a median stopping policy for early termination of HyperDrive runs</h2>

<h3>Description</h3>

<p>Median stopping is an early termination policy based on running averages of
primary metrics reported by the runs. This policy computes running averages
across all training runs and terminates runs whose performance is worse than
the median of the running averages. Specifically, a run will be canceled at
interval N if its best primary metric reported up to interval N is worse than
the median of the running averages for intervals 1:N across all runs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">median_stopping_policy(evaluation_interval = 1L, delay_evaluation = 0L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>evaluation_interval</code></td>
<td>
<p>An integer of the frequency for applying policy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delay_evaluation</code></td>
<td>
<p>An integer of the number of intervals for which to
delay the first evaluation.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The <code>MedianStoppingPolicy</code> object.
</p>


<h3>Details</h3>

<p>The median stopping policy takes the following optional configuration
parameters:
</p>

<ul>
<li> <p><code>evaluation_interval</code>: Optional. The frequency for applying the policy.
Each time the training script logs the primary metric counts as one
interval.
</p>
</li>
<li> <p><code>delay_evaluation</code>: Optional. The number of intervals to delay the
policy evaluation. Use this parameter to avoid premature termination
of training runs. If specified, the policy applies every multiple of
<code>evaluation_interval</code> that is greater than or equal to <code>delay_evaluation</code>.
</p>
</li>
</ul>
<p>This policy is inspired from the research publication
<a href="https://ai.google/research/pubs/pub46180">Google Vizier: A Service for Black-Box Optimization</a>.
</p>
<p>If you are looking for a conservative policy that provides savings without
terminating promising jobs, you can use a <code>MedianStoppingPolicy</code> with
<code>evaluation_interval = 1</code> and <code>delay_evaluation = 5</code>. These are conservative
settings that can provide approximately 25%-35% savings with no loss on
the primary metric (based on our evaluation data).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># In this example, the early termination policy is applied at every
# interval starting at evaluation interval 5. A run will be terminated at
# interval 5 if its best primary metric is worse than the median of the
# running averages over intervals 1:5 across all training runs
## Not run: 
early_termination_policy = median_stopping_policy(evaluation_interval = 1L,
                                                  delay_evaluation = 5L)

## End(Not run)
</code></pre>


</div>