<div class="container">

<table style="width: 100%;"><tr>
<td>show.correlations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Print correlations of matching factors with matching and outcome variables</h2>

<h3>Description</h3>

<p>This function returns a list of plots, one for each of the first <code>ndims</code>
orthogonal sorting dimension. In the k-th plot, the correlation between a
man's observed matching variable and the man's k-th matching factor is
plotted on the x-axis; the correlation between a woman's observed matching
variable and the woman's k-th matching factor is plotted on the y-axis. In
addition, the user can supply additional variables stored in the matrix
<code>Z</code> that were not previously used in the estimation ("outcome
variables"). The function prints the correlation between the outcome variable
and the man's k-th matching factor on the x-axis, while the correlation
between the outcome variable and the woman's k-th matching factor is on the
y-axis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">show.correlations(
  res,
  Z = matrix(0, nrow = N, ncol = 0),
  labels_x = paste0("Trait ", 1:Kx),
  labels_y = paste0("Trait ", 1:Ky),
  labels_z = if (Kz &gt; 0) paste0("Outcome ", 1:Kz) else c(),
  ndims = min(Kx, Ky, 10),
  pr = 0.02,
  color_arrows = c("black", "red"),
  size_arrows = 0.5,
  font_labels = c("bold", "italic"),
  label_x_axis = "First partner",
  label_y_axis = "Second partner"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>A list corresponding to the output of
<code>estimate.affinity.matrix</code>,
<code>estimate.affinity.matrix.lowrank</code> or
<code>estimate.affinity.matrix.unipartite</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>A matrix Z with additional variables that were not previously used
in the estimation. The i-th row of <code>Z</code> must contain information on
the couple formed by the i-th row of <code>X</code> and the i-th row of
<code>Y</code>, so that <code>nrow(Z)=nrow(X)</code>. Defaults to an empty matrix:
<code>Z</code> is optional.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels_x</code></td>
<td>
<p>A vector of strings indicating the names of men's matching
variables. Defaults to <code>"Trait k"</code> for every <code>k</code> matching
variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels_y</code></td>
<td>
<p>A vector of strings indicating the names of women's matching
variables. Defaults to <code>"Trait k"</code> for every <code>k</code> matching
variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels_z</code></td>
<td>
<p>A vector of strings indicating the names of the outcome
variables. Defaults to <code>"Outcome k"</code> for every <code>k</code> outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndims</code></td>
<td>
<p>An integer indicating the number of orthogonal matching
dimensions that will be plotted. The function plots the first \
codendims dimensions. Defaults to all dimensions unless the latter are
more than 10, in which case only the first 10 are plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pr</code></td>
<td>
<p>A probability indicating the two-tailed significance level required
for a matching or outcome variable to be displayed in a plot. In order to
avoid having too many variables plotted at the same time, the function
only selects those whose correlation with the matching factor is
significantly different from zero (in a two-tailed test) at the <code>pr</code>
level. Defaults to 0.02 and can be set to 1 to print all variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_arrows</code></td>
<td>
<p>A string or a vector of strings containing color names
for the arrows. All matching variables are assigned the first color given
in the vector, while all outcome variables are assigned the second color.
See <code>ggplot</code>. Defaults to <code>"black"</code> and
<code>"red"</code> respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size_arrows</code></td>
<td>
<p>A positive real number or a vector containing the size of
the arrows. All matching variables are assigned the first size given in
the vector, while all outcome variables are assigned the second size. See
<code>ggplot</code>. Defaults to 0.5 for both.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font_labels</code></td>
<td>
<p>A string or a vector of strings containing font types for
the labels. All matching variables are assigned the first font type given
in the vector, while all outcome variables are assigned the second font
type. See <code>ggplot</code>. Defaults to <code>"bold"</code> and
<code>"italic"</code> respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_x_axis</code></td>
<td>
<p>A string containing a root for all x-axis names in
different plots. Defaults to <code>"First partner"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_y_axis</code></td>
<td>
<p>A string containing a root for all y-axis names in
different plots. Defaults to <code>"Second partner"</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function returns a list of <code>ndims</code> plots created with
<code>ggplot</code>.
</p>


<h3>See Also</h3>

<p><strong>Chiappori, Pierre-Andre, Edoardo Ciscato, and Carla
Guerriero</strong>. "Analyzing matching patterns in marriage: theory and
application to Italian data." <em>HCEO Working Paper</em> no. 2020-080
(2020).
</p>


</div>