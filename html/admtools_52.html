<div class="container">

<table style="width: 100%;"><tr>
<td>sed_rate_from_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>make sed rate gen from matrix</h2>

<h3>Description</h3>

<p>Construct a sedimentation rate generator (function factory) from a matrix, e.g. one returned from <code>get_data_from_eTimeOpt</code>. This generator can be passed on to <code>sedrate_to_multiadm</code> to estimate age-depth models from it.
If mode is "deterministic", the generator evaluates the sedimentation rates at heights specified by <code>height</code>, if the mode is "poisson" it is evaluated at heights that are determined based on a poisson point process. At these heights, the value of the sedimentation rate is determined based on the (pseudo) pdf that is determined by the matrix values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sed_rate_from_matrix(
  height,
  sedrate,
  matrix,
  mode = "deterministic",
  rate = 1,
  expand_domain = TRUE,
  transform = identity
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>vector of heights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sedrate</code></td>
<td>
<p>vector of sed. rates x values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matrix</code></td>
<td>
<p>matrix of sed rate y values. Must have as many columns as length(height) and as many rows as length(sedrate).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>character, "deterministic" or "poisson". Determines at which stratigraphic heights the sed rate is determined. If "deterministic" this will be the heights in <code>height</code>, if "poisson" the heights where the sed rate is determined follows a poisson point process with rate specified by <code>rate</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rate</code></td>
<td>
<p>numeric, rate of the Poisson point process determining frequency of sedimentation rate changes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expand_domain</code></td>
<td>
<p>should sedimentation rates be defined below/above the highest/lowest height in the section? If TRUE, the sed rate values are the values at the closest interpolated point, if FALSE it will be NA</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>
<p>a function, the identity function by default. How should the values of the (pseudo)pdf defined by the entries of <code>matrix</code> be transformed? Using this function allows to (nonlinearly) rescale the values in matrix to put more emphasis on higher/lower values</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a function factory for usage with <code>sedrate_to_multiadm</code>
</p>


<h3>See Also</h3>

<p><code>sedrate_to_multiadm()</code> for estimating sedimentation rates based on the outputs, <code>get_data_from_eTimeOpt()</code> for extracting data from the <code>eTimeOpt</code> function of the astrochron package.
</p>


</div>