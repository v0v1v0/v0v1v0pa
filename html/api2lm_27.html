<div class="container">

<table style="width: 100%;"><tr>
<td>get_residuals</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract residuals from a model</h2>

<h3>Description</h3>

<p>Extracts different types of residuals from a fitted model.
The types of residuals are discussed in Details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_residuals(
  x,
  rtype = c("ordinary", "standardized", "studentized", "jackknife", "loo", "deleted",
    "internally studentized", "externally studentized")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An <code>lm</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rtype</code></td>
<td>
<p>The desired residual type. The options are
<code>"ordinary"</code>, <code>"standardized"</code>, <code>"studentized"</code>,
<code>"jackknife"</code>, <code>"loo"</code>, <code>"deleted"</code>, <code>"internally
studentized"</code>, and <code>"externally studentized"</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For observations <code class="reqn">1, 2, \ldots, n</code>, let:
</p>

<ol>
<li> <p><code class="reqn">Y_i</code> denote the response value for the <code class="reqn">i</code>th observation.
</p>
</li>
<li> <p><code class="reqn">\hat{Y}_i</code> denote the fitted value for the
<code class="reqn">i</code>th observation.
</p>
</li>
<li> <p><code class="reqn">h_i</code> denote the leverage value for the <code class="reqn">i</code>th observation.
</p>
</li>
</ol>
<p>We assume that <code class="reqn">\mathrm{sd}(Y_i) = \sigma</code> for
<code class="reqn">i \in \{1, 2, \ldots, n\}</code> and that <code class="reqn">\hat{\sigma}</code>
is the estimate produced by <code>sigma(x)</code>, where <code>x</code>
is the fitted model object.
</p>
<p>The ordinary residual for the <code class="reqn">i</code>th
observation is computed as
</p>
<p style="text-align: center;"><code class="reqn">\hat{\epsilon}_i = Y_i - \hat{Y}_i.</code>
</p>

<p>The variance of the <code>i</code>th ordinary residual under standard
assumptions is <code class="reqn">\sigma^2(1-h_i)</code>.
</p>
<p>The standardized residual for the <code class="reqn">i</code>th observation
is computed as
</p>
<p style="text-align: center;"><code class="reqn">r_i = \frac{\hat{\epsilon}_i}{\hat{\sigma}\sqrt{1-h_i}}.</code>
</p>

<p>The standardized residual is also known as the internally
studentized residual.
</p>
<p>Let <code class="reqn">\hat{Y}_{i(i)}</code> denote the predicted value of
<code class="reqn">Y_i</code> for the model fit with all <code class="reqn">n</code> observations
except observation <code class="reqn">i</code>. The leave-one-out (LOO) residual for observation <code class="reqn">i</code> is
computed as
</p>
<p style="text-align: center;"><code class="reqn">l_i = Y_i - \hat{Y}_{i(i)} = \frac{\hat{\epsilon}_i}{1-h_i}.</code>
</p>

<p>The LOO residual is also known as the deleted or jackknife
residual.
</p>
<p>The studentized residual for the <code class="reqn">i</code>th observation
is computed as
</p>
<p style="text-align: center;"><code class="reqn">t_i = \frac{l_i}{\hat{\sigma}_{(i)}\sqrt{1-h_i}},</code>
</p>

<p>where <code class="reqn">\hat{\sigma}_{(i)}</code> is the leave-one-out estimate
of <code class="reqn">\sigma</code>.
</p>
<p>The studentized residual is also known as the externally
studentized residual.
</p>


<h3>Value</h3>

<p>A vector of residals.
</p>


<h3>Examples</h3>

<pre><code class="language-R">lmod &lt;- lm(Girth ~ Height, data = trees)
# ordinary residuals
rord &lt;- get_residuals(lmod)
all.equal(rord, residuals(lmod))
# standardized residuals
rstand &lt;- get_residuals(lmod, "standardized")
all.equal(rstand, rstandard(lmod))
# studentized residuals
rstud &lt;- get_residuals(lmod, "studentized")
all.equal(rstud, rstudent(lmod))
# loo residuals
rl &lt;- get_residuals(lmod, "loo")
all.equal(rl, rloo(lmod))
</code></pre>


</div>