<div class="container">

<table style="width: 100%;"><tr>
<td>add_predictions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add predictions to a data frame</h2>

<h3>Description</h3>

<p>Attach predicted values from a model to a data frame with
exposure-level records.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_predictions(.data, model, ..., col_expected = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A data frame, preferably with the class <code>exposed_df</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A model object that has an S3 method for <code>predict()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to <code>predict()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_expected</code></td>
<td>
<p><code>NULL</code> or a character vector containing column names for
each value returned by <code>predict()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function attaches predictions from a model to a data frame
that preferably has the class <code>exposed_df</code>. The <code>model</code> argument must be
a model object that has an S3 method for the <code>predict()</code> function. This
method must have new data for predictions as the second argument.
</p>
<p>The <code>col_expected</code> argument is optional.
</p>

<ul>
<li>
<p> If <code>NULL</code>, names from the result of <code>predict()</code> will be used. If there are
no names, a default name of "expected" is assumed. In the event that
<code>predict()</code> returns multiple values, the default name will be suffixed by
"_x", where x = 1 to the number of values returned.
</p>
</li>
<li>
<p> If a value is passed, it must be a character vector of same length as
the result of <code>predict()</code>
</p>
</li>
</ul>
<h3>Value</h3>

<p>A data frame or <code>exposed_df</code> object with one of more new columns
containing predictions.
</p>


<h3>Examples</h3>

<pre><code class="language-R">expo &lt;- expose_py(census_dat, "2019-12-31") |&gt;
  mutate(surrender = status == "Surrender")
mod &lt;- glm(surrender ~ inc_guar + pol_yr, expo, family = 'binomial')
add_predictions(expo, mod, type = 'response')

</code></pre>


</div>