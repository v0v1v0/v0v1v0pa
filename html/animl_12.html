<div class="container">

<table style="width: 100%;"><tr>
<td>extractBoxes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract bounding boxes and save as new image from a batch of images</h2>

<h3>Description</h3>

<p>Extract bounding boxes and save as new image from a batch of images
</p>


<h3>Usage</h3>

<pre><code class="language-R">extractBoxes(
  images,
  min_conf = 0,
  buffer = 0,
  save = FALSE,
  resize = NA,
  outdir = "",
  quality = 0.8,
  parallel = FALSE,
  nproc = parallel::detectCores()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>images</code></td>
<td>
<p>list of MD output or flat data.frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_conf</code></td>
<td>
<p>Confidence threshold (defaults to 0, not in use)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>buffer</code></td>
<td>
<p>Adds a buffer to the MD bounding box, defaults to 2px</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save</code></td>
<td>
<p>Toggle to save output cropped, defaults to FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resize</code></td>
<td>
<p>Size in pixels to resize cropped images, NA if images are not resized, defaults to NA</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outdir</code></td>
<td>
<p>Directory in which output cropped images will be saved</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quality</code></td>
<td>
<p>Compression level of output cropped image, defaults to 0.8</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Toggle to enable parallel processing, defaults to FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nproc</code></td>
<td>
<p>Number of workers if parallel = TRUE, defaults to output of detectCores()</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A variable crop_rel_path in the image list or data.frame can be used to change the path where the crops will be stored.
</p>
<p>The final output path will be the outdir plus the crop_rel_path.
</p>


<h3>Value</h3>

<p>a flattened dataframe containing crop information
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
images &lt;- read_exif(imagedir, tags = c("filename", "directory"), recursive = TRUE)
crops &lt;- extractAllBoxes(images,save=TRUE,out)

## End(Not run)
</code></pre>


</div>