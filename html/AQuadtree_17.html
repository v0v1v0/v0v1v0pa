<div class="container">

<table style="width: 100%;"><tr>
<td>pointsToAQuadtree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add SpatialPoints to an AQuadtree obtject.</h2>

<h3>Description</h3>

<p>Given an object of class AQuadtree and an object of class SpatialPoints or
SpatialPointsDataFrame for the same area, <code>pointsToAQuadtree</code>
returns a new object of class AQuadtree aggregating the data from the points
to the cells where each point fall.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pointsToAQuadtree(qt, points)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>qt</code></td>
<td>
<p>object of class "AQuadtree".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points</code></td>
<td>
<p>object of class "SpatialPoints" or "SpatialPointsDataFrame".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>pointsToAQuadtree</code> returns a new AQuadtree object with
the input set of points aggregated to the input AQuadtree object. The function
creates a “p.total” attribute to compute the total
number of points aggregated to each cell of the input AQuadtree.
If points is an object of class SpatialPointsDataFrame, the function
summarises numeric attributes in the dataframe using the <code>mean</code>
function, and deploys factor attributes creating a new attribute for each label of the
factor to calculate the count. The attributes added to the resulting
AQuadtree object are prefixed with “p.”.
</p>


<h3>Value</h3>

<p>AQuadtree with the information of the given set of points aggregated
at each corresponding cell of the given AQuadtree.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("BarcelonaPop")
Barcelona.QT&lt;-AQuadtree(BarcelonaPop)
BcnWomen75yPop&lt;-BarcelonaPop[BarcelonaPop$sex=='woman' &amp; BarcelonaPop$age&gt;=75, 'age']
Barcelona.extended.QT&lt;-pointsToAQuadtree(Barcelona.QT, BcnWomen75yPop)

## Not run: 
## not an AQuadtree object
pointsToAQuadtree(CharlestonCensusTracts, CharlestonPop)

## spatial object not projected
sp.not.projected&lt;-spTransform(CharlestonPop,CRS("+proj=longlat +datum=NAD27"))
is.projected(sp.not.projected)
pointsToAQuadtree(AQuadtree(CharlestonPop), sp.not.projected)


## End(Not run)
</code></pre>


</div>