<div class="container">

<table style="width: 100%;"><tr>
<td>generate_interactions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generate simulated interactions with differently-shaped hierarchies
</h2>

<h3>Description</h3>

<p>Generates simulated winners and losers. The function can generate data for different population sizes, with differently-shaped hierarchies, and with varying biases. The output is the hierarchy, and the winner and loser for each interaction.
</p>


<h3>Usage</h3>

<pre><code class="language-R">generate_interactions(N.inds, N.obs, a, b, id.biased = FALSE, rank.biased = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>N.inds</code></td>
<td>

<p>The number of individuals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N.obs</code></td>
<td>

<p>The number of observed interactions (in total).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>

<p>Parameter to control the steepness of the hierarchy (flatter or more sigmoidal) <code>plot_winner_prob</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>

<p>Parameter to control the intercept of the hierachy (moves the sigmoid left or right) <code>plot_winner_prob</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.biased</code></td>
<td>

<p>Boolean (TRUE/FALSE) describing whether to introduce an individual bias in the observations (some individuals interact more often than others).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rank.biased</code></td>
<td>

<p>Boolean (TRUE/FALSE) describing whether to introduce a rank difference bias in the observations (closely-ranked individuals interact more often).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is useful for generating input data with a known hierarchy. The shape of the hierarchy can be controlled using two parameters, though is by default <code>a</code> sigmoidal shape. Higher values of a typically create a greater probability of a dominant winning (turn the function into more of a threshold). Higher values of b typically decrease the probability of a dominant winning when ranks are very similar. The <code>plot_winner_prob</code> function allows visualisation of the hierarchy function (see examples below).
</p>


<h3>Value</h3>

<p>Returns a list with two elements:
hierarchy: A dataframe containing three columns, the ID of the individual, its Rank, and its Probability of interacting (varies if id.biased=TRUE).
interactions: A dataframe containing two columns, the Winner and the Loser for each interaction. Each row represents one interaction.
</p>


<h3>Author(s)</h3>

<p>Written by Damien R. Farine &amp; Alfredo Sanchez-Tojar
</p>
<p>Maintainer: Damien R. Farine &lt;damien.farine@ieu.uzh.ch&gt;
</p>


<h3>References</h3>

<p>Sanchez-Tojar, A., Schroeder, J., Farine, D.R. (in prep) Methods for inferring dominance hierarchies and estimating their uncertainty.
</p>


<h3>Examples</h3>

<pre><code class="language-R">	
	par(mfrow=c(2,2))
	
	# Set population size 
	N &lt;- 20
	
	# Set shape parameters
	a = 15
	b = 3
	
	# See what this looks like
	plot_winner_prob(1:N,a,b)
	
	# Generate some input data
	data &lt;- generate_interactions(N,400,a,b)
	
	# See what the hierarchy looks like from the output data
	winners &lt;- data$interactions$Winner
	losers &lt;- data$interactions$Loser
	identities &lt;- data$hierarchy$ID
	ranks &lt;- data$hierarchy$Rank
	plot_hierarchy_shape(identities,ranks,winners,losers,fitted=TRUE)
	
	# Set new shape parameters
	a = 3
	b = 3
	
	# See what this looks like
	plot_winner_prob(1:N,a,b)
	
	# Generate some input data
	data &lt;- generate_interactions(N,400,a,b)
	
	# See what the hierarchy looks like from the output data
	winners &lt;- data$interactions$Winner
	losers &lt;- data$interactions$Loser
	identities &lt;- data$hierarchy$ID
	ranks &lt;- data$hierarchy$Rank
	plot_hierarchy_shape(identities,ranks,winners,losers,fitted=TRUE)
	
</code></pre>


</div>