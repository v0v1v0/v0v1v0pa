<div class="container">

<table style="width: 100%;"><tr>
<td>search_sub</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a sub search to a prior search</h2>

<h3>Description</h3>

<p>This function starts from the results of a prior search and performs a sub search for a temporal co-occurence.
In the sub search all results from the prior search will be checked.
The sub search will check annotations in other tiers that temporally overlap with the original search result.
Those annotation will be checked if they match a search pattern.
If so, the search hit of the sub search will be added to a new column in the original search results data frame.
</p>


<h3>Usage</h3>

<pre><code class="language-R">search_sub(
  x,
  s,
  pattern,
  searchMode = c("content", "fulltext", "fulltext.byTime", "fulltext.byTier"),
  searchNormalized = TRUE,
  filterTierIncludeRegEx = "",
  filterTierExcludeRegEx = "",
  destinationColumn = "subsearch",
  deleteLinesWithNoResults = FALSE,
  excludeHitsWithinSameTier = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Corpus object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>Search object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>Character string; search pattern as regular expression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>searchMode</code></td>
<td>
<p>Character string; takes the following values: <code>content</code>, <code>fulltext</code> (=default, includes both full text modes), <code>fulltext.byTime</code>, <code>fulltext.byTier</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>searchNormalized</code></td>
<td>
<p>Logical; if <code>TRUE</code> function will search in the normalized content, if <code>FALSE</code> function will search in the original content.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filterTierIncludeRegEx</code></td>
<td>
<p>Character string; limit search to tiers that match the regular expression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filterTierExcludeRegEx</code></td>
<td>
<p>Character string; limit search to tiers that match the regular expression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destinationColumn</code></td>
<td>
<p>Character string; name of column where results of sub search will be stored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deleteLinesWithNoResults</code></td>
<td>
<p>Logical; if <code>TRUE</code> search results will be deleted for which the sub search does not give any results</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excludeHitsWithinSameTier</code></td>
<td>
<p>Logical; if <code>TRUE</code> the function will not add hits from the same tier as the original search result; if <code>FALSE</code> hits from the same tier as the original search result will be included.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Search object.
</p>


<h3>See Also</h3>

<p>search_new, search_run, search_makefilter
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(act)

# Lets search for instances where participants laugh together
# First search for annotations that contain laughter (in original content)
myRegEx &lt;- "(\\brie\\b|\\briendo\\b)"
mysearch &lt;- act::search_new(x=examplecorpus,
							pattern=myRegEx,
							searchNormalized = FALSE)
mysearch@results.nr

# Now perform sub search, also on laughs/laughing
test &lt;- act::search_sub(x=examplecorpus,
						s=mysearch,
						pattern=myRegEx)

# Check the co-occurring search hits
test@results$subsearch
</code></pre>


</div>