<div class="container">

<table style="width: 100%;"><tr>
<td>mermaid</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot a mermaid diagram</h2>

<h3>Description</h3>

<p>These functions download the diagram from https://mermaid.ink which generates the image.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mermaid(
  diagram,
  format = "png",
  theme = "default",
  dir.dest = tempdir(),
  file.dest = paste0(rlang::hash(link), ".", format),
  link = mermaid_gen_link(diagram, theme = theme, format = format)
)

mermaid_gen_link(
  diagram,
  theme = "default",
  format = "png",
  server = "https://mermaid.ink"
)

## S3 method for class 'mermaid'
plot(x, add = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>diagram</code></td>
<td>
<p>Diagram in mermaid markdown-like language or file (as a connection or file name) containing a diagram specification</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>Image format (either <code>"jpg"</code>, or <code>"png"</code>, or <code>"svg"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theme</code></td>
<td>
<p>Mermaid theme (See <a href="https://mermaid.js.org/config/theming.html#available-themes">available themes in Mermaid documentation</a>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir.dest</code></td>
<td>
<p>Destination folder for the downloaded image. This parameter is
ignored if <code>file.dest</code> contains a folder path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file.dest</code></td>
<td>
<p>Path to the downloaded image. It's combined with <code>dir.dest</code>
if it only contains the name of the file without a folder path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link</code></td>
<td>
<p>Link generated by mermaid_gen_link</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>server</code></td>
<td>
<p>URL of the server used to generate the link</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>character mermaid diagram dialect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>logical to add the diagram on the existing plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other argument passed to mermaid</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Compared to the <code>diagrammeR::mermaid</code> function, the generated image or plot
is not a HTMLwidget and can be knit in pdf through latex and
moreover, its size can be controlled with <code>fig.width</code> and <code>fig.height</code>.
</p>
<p>If the generation failed (due to internet connection failure or syntax error
in mermaid script), the functions raises no error (see <code>mermaid</code> returned value).
</p>


<h3>Value</h3>


<ul>
<li> <p><code>mermaid</code> returns the path to the downloaded image or <code>NA</code> if the download failed.
In this latter case, get the error message in the attribute "error".
</p>
</li>
<li> <p><code>mermaid_gen_link</code> returns the link to the web service which generates the diagram
</p>
</li>
<li> <p><code>plot.mermaid</code> produces a R plot with the mermaid diagram
</p>
</li>
</ul>
<p>Nothing, used for side effect.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
diagram &lt;- "flowchart LR\n  A --&gt; B"
mermaid_gen_link(diagram)
f &lt;- mermaid(diagram)
f

# For displaying the diagram in Rmarkdown document
knitr::include_graphics(mermaid(diagram))

# Clean temporary folder
unlink(f)

## End(Not run)

s &lt;- "flowchart LR
A -&gt; B"
class(s) &lt;- c("mermaid", class(s))
plot(s)
</code></pre>


</div>