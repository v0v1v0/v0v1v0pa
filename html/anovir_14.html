<div class="container">

<table style="width: 100%;"><tr>
<td>nll_controls</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Negative log-likelihood function: control data only</h2>

<h3>Description</h3>

<p>Function returning negative log-likelihood (nll) for data in a control
treatment.
</p>


<h3>Usage</h3>

<pre><code class="language-R">nll_controls(
  a1 = a1,
  b1 = b1,
  data = data,
  time = time,
  censor = censor,
  d1 = "Weibull"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a1, b1</code></td>
<td>
<p>location and scale parameters for background mortality</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>name of data frame containing survival data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>name of data frame column identifying time of event; time &gt; 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censor</code></td>
<td>
<p>name of data frame column idenifying if event was death (0) or
right-censoring (1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d1</code></td>
<td>
<p>name of probability distribution describing background
mortality. Choice of; 'Weibull', 'Gumbel', 'Fr√©chet'; defaults to the
Weibull distribution</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function returns the nll based on two parameters, the location and scale parameters
used to describe background mortality.
</p>


<h3>Value</h3>

<p>numeric
</p>


<h3>See Also</h3>

<p><code>nll_basic</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># prepare a subset of the Blanford data for analysis
  data01 &lt;- subset(data_blanford,
    (data_blanford$block == 3) &amp;
      (data_blanford$treatment == 'cont') &amp;
        (data_blanford$day &gt; 0))

# check data frame for names of columns
    head(data01)

# step #1: 'prep function' linking 'nll_controls' to data
  # and identifying parameters to estimate
    m01_prep_function &lt;- function(a1 = a1, b1 = b1){
      nll_controls(
        a1 = a1, b1 = b1,
        data = data01,
        time = t,
        censor = censor,
        d1 = 'Weibull'
        )}

# step #2: send 'prep_function' to mle2 for maximum likelihood estimation
  # specifying starting values
    m01 &lt;- mle2(m01_prep_function,
             start = list(a1 = 2, b1 = 0.5)
             )

    summary(m01)


</code></pre>


</div>