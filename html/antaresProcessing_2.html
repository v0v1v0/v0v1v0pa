<div class="container">

<table style="width: 100%;"><tr>
<td>addDownwardMargin</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add downward margins of areas</h2>

<h3>Description</h3>

<p>This function computes isolated and interconnected downward margins of areas and
add them to an antaresData object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">addDownwardMargin(x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>antaresData</code> created with
<code>readAntares</code></p>
</td>
</tr></table>
<h3>Details</h3>

<p>For a given area, downward margin is equal to the thermal minimum production
(due must run production and minimum stable power of production units) plus
the fatal productions minus the load and the pumping capacity. More formally
it is equal to:
</p>
<p><code>isolatedDownwardMargin = thermalPMin + `H. ROR` + WIND + SOLAR + `MISC. NDG`
                               - LOAD - pumpingCapacity</code>
</p>
<p>The variable <code>pumpingCapacity</code> is automatically created when pumped
storage areas are removed with function
<code>removeVirtualAreas</code>. If there is not any such area,
<code>pumpingCapacity</code> is assumed to be equal to 0.
</p>
<p>Interconnected downward margin is the isolated downward margin plus the exports
minus the imports:
</p>
<p><code>interconnectedDownwardMargin = isolatedDownwardMargin + BALANCE - `ROW BAL.`</code>
</p>


<h3>Value</h3>

<p>The function modifies its input by adding to it two new columns
<code>isolatedDownwardMargin</code> and <code>interconnectedDownwardMargin</code>. For
convenience it invisibly returns <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# data required by the function
showAliases("downwardMargin")

mydata &lt;- readAntares(select = "downwardMargin")
mydata &lt;- removeVirtualAreas(mydata, getAreas(c("pump", "stor")))

addDownwardMargin(mydata)
names(mydata$areas)

## End(Not run)
</code></pre>


</div>