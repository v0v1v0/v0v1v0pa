<div class="container">

<table style="width: 100%;"><tr>
<td>romsmap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Remap an object to the ROMS grid.</h2>

<h3>Description</h3>

<p>Find the nearest-neighbour coordinates of <code>x</code> in the coordinate arrays of <code>coords</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">romsmap(x, ...)

## S3 method for class 'SpatialPolygonsDataFrame'
romsmap(x, coords, crop = FALSE,
  lonlat = TRUE, ...)

## S3 method for class 'SpatialLinesDataFrame'
romsmap(x, coords, crop = FALSE,
  lonlat = TRUE, ...)

## S3 method for class 'SpatialPointsDataFrame'
romsmap(x, coords, crop = FALSE,
  lonlat = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object to transform to the grid space, e.g. a <code>Spatial</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coords</code></td>
<td>
<p>romscoords RasterStack</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop</code></td>
<td>
<p>logical, if <code>TRUE</code> crop x to the extent of the boundary of the values in coords</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lonlat</code></td>
<td>
<p>logical, if <code>TRUE</code> check for need to back-transform to longitude/latitude and do it</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The input <code>coords</code> is a assumed to be a 2-layer RasterStack or RasterBrick and
using <code>nabor::knn</code> the nearest matching position of the coordinates of <code>x</code> is found in the grid space of <code>coords</code>. The
motivating use-case is the curvilinear longitude and latitude arrays of ROMS model output.
</p>
<p>No account is made for the details of a ROMS cell, though this may be included in future. We tested only with the "lon_u" and "lat_u"
arrays.
</p>


<h3>Value</h3>

<p>input object with coordinates transformed to space of the coords
</p>


<h3>Note</h3>

<p>Do not use this for extraction purposes without checking the output, this is best used for exploration
and visualization. Re-mapping ROMS data is better done by looking up the <code>coords_points</code> within spatial objects,
and transferring via the grid index.
</p>


<h3>Examples</h3>

<pre><code class="language-R">ant_ice_coords &lt;- romsmap(antarctica, ice_coords)
plot(ice_fake, main = "sea ice in pure grid space")
plot(ant_ice_coords, add = TRUE)


</code></pre>


</div>