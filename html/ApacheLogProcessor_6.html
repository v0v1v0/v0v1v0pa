<div class="container">

<table style="width: 100%;"><tr>
<td>read.apache.access.log</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>read.apache.log</h2>

<h3>Description</h3>

<p>Reads the Apache Log Common or Combined Format and return a data frame with the log data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read.apache.access.log(file, format = "combined", url_includes = "",
  url_excludes = "", columns = c("ip", "datetime", "url", "httpcode",
  "size", "referer", "useragent"), num_cores = 1, fields_have_quotes = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>string. Full path to the log file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>string. Values "common" or "combined" to set the input log format. The default value is the combined.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url_includes</code></td>
<td>
<p>regex. If passed only the urls that matches with the regular expression passed will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url_excludes</code></td>
<td>
<p>regex. If passed only the urls that don't matches with the regular expression passed will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns</code></td>
<td>
<p>list. List of columns names that will be included in data frame output. All columns is the default value. c("ip", "datetime", "url", "httpcode", "size" , "referer", "useragent")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_cores</code></td>
<td>
<p>number. Number of cores for parallel execution, if not passed 1 core is assumed. Used only to convert datetime form string to datetime type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fields_have_quotes</code></td>
<td>
<p>boolean. If passesd as true search and remove the quotes inside the all text fields.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The functions recives a full path to the log file and process the default log in common or combined format of Apache. 
LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
LogFormat "%h %l %u %t \"%r\" %&gt;s %b\" common
</p>


<h3>Value</h3>

<p>a data frame with the apache log file information.
</p>


<h3>Author(s)</h3>

<p>Diogo Silveira Mendonca
</p>


<h3>See Also</h3>

<p><a href="http://httpd.apache.org/docs/1.3/logs.html">http://httpd.apache.org/docs/1.3/logs.html</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">path_combined = system.file("examples", "access_log_combined.txt", package = "ApacheLogProcessor")
path_common = system.file("examples", "access_log_common.txt", package = "ApacheLogProcessor")

#Read a log file with combined format and return it in a data frame
df1 = read.apache.access.log(path_combined)

#Read a log file with common format and return it in a data frame
df2 = read.apache.access.log(path_common, format="common") 

#Read only the lines that url matches with the pattern passed
df3 = read.apache.access.log(path_combined, url_includes="infinance")

#Read only the lines that url matches with the pattern passed, but do not matche the exclude pattern
df4 = read.apache.access.log(path_combined, 
url_includes="infinance", url_excludes="infinanceclient")

#Return only the ip, url and datetime columns
df5 = read.apache.access.log(path_combined, columns=c("ip", "url", "datetime"))

#Process using 2 cores in parallel for speed up. 
df6 = read.apache.access.log(path_combined, num_cores=2)


</code></pre>


</div>