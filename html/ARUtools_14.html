<div class="container">

<table style="width: 100%;"><tr>
<td>clean_metadata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract and clean ARU metadata from file names</h2>

<h3>Description</h3>

<p>Using regular expressions, metadata is extracted from file names and
directory structure, checked and cleaned.
</p>


<h3>Usage</h3>

<pre><code class="language-R">clean_metadata(
  project_dir = NULL,
  project_files = NULL,
  file_type = "wav",
  subset = NULL,
  subset_type = "keep",
  pattern_site_id = create_pattern_site_id(),
  pattern_aru_id = create_pattern_aru_id(),
  pattern_date = create_pattern_date(),
  pattern_time = create_pattern_time(),
  pattern_dt_sep = create_pattern_dt_sep(),
  pattern_tz_offset = create_pattern_tz_offset(),
  order_date = "ymd",
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>project_dir</code></td>
<td>
<p>Character. Directory where project files are stored. File
paths will be used to extract information and must actually exist.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>project_files</code></td>
<td>
<p>Character. Vector of project file paths. These paths can
be absolute or relative to the working directory, and don't actually need
to point to existing files unless you plan to use <code>clean_gps()</code> or other
sampling steps down the line. Must be provided if <code>project_dir</code> is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_type</code></td>
<td>
<p>Character. Type of file (extension) to summarize. Default
wav.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>Character. Text pattern to mark a subset of files/directories
to either <code>"keep"</code> or <code>"omit"</code> (see <code>subset_type</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset_type</code></td>
<td>
<p>Character. Either <code>keep</code> (default) or <code>omit</code>
files/directories which match the pattern in <code>subset</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern_site_id</code></td>
<td>
<p>Character. Regular expression to extract site ids. See
<code>create_pattern_site_id()</code>. Can be a vector of multiple patterns to match.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern_aru_id</code></td>
<td>
<p>Character. Regular expression to extract ARU ids. See
<code>create_pattern_aru_id()</code>. Can be a vector of multiple patterns to match.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern_date</code></td>
<td>
<p>Character. Regular expression to extract dates. See
<code>create_pattern_date()</code>. Can be a vector of multiple patterns to match.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern_time</code></td>
<td>
<p>Character. Regular expression to extract times. See
<code>create_pattern_time()</code>. Can be a vector of multiple patterns to match.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern_dt_sep</code></td>
<td>
<p>Character. Regular expression to mark separators
between dates and times. See <code>create_pattern_dt_sep()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern_tz_offset</code></td>
<td>
<p>Character. Regular expression to extract time zone
offsets from file names. See. <code>create_pattern_tz_offset()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order_date</code></td>
<td>
<p>Character. Order that the date appears in. "ymd"
(default), "mdy", or "dmy". Can be a vector of multiple patterns to match.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>Logical. Whether to suppress progress messages and other
non-essential updates.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that times are extracted by first combining the date, date/time
separator and the time patterns. This means that if there is a problem with
this combination, dates might be extracted but date/times will not. This
mismatch can be used to determine which part of a pattern needs to be
tweaked.
</p>
<p>See <code>vignette("customizing", package = "ARUtools")</code> for details on
customizing <code>clean_metadata()</code> for your project.
</p>


<h3>Value</h3>

<p>Data frame with extracted metadata
</p>


<h3>Examples</h3>

<pre><code class="language-R">clean_metadata(project_files = example_files)
clean_metadata(project_files = example_files, subset = "P02")

</code></pre>


</div>