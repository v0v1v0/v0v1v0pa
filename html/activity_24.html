<div class="container">

<table style="width: 100%;"><tr>
<td>solartime</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transforms clock time to solar time anchored to sun rise and sunset times for a given location.</h2>

<h3>Description</h3>

<p>This is a wrapper for <code>transtime</code> that takes non-numeric date-time input together with latitude and longitude to calculate mean average sunrise and sunset times, which are then used to anchor the transformation using average anchoring.
</p>


<h3>Usage</h3>

<pre><code class="language-R">solartime(
  dat,
  lat,
  lon,
  tz,
  ...,
  tryFormats = c("%Y-%m-%d %H:%M:%OS", "%Y/%m/%d %H:%M:%OS",
    "%Y:%m:%d %H:%M:%OS", "%Y-%m-%d %H:%M", "%Y/%m/%d %H:%M",
    "%Y:%m:%d %H:%M", "%Y-%m-%d", "%Y/%m/%d", "%Y:%m:%d")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>A vector of character, POSIXct or POSIXlt date-time values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat, lon</code></td>
<td>
<p>Single numeric values or numeric vectors the same length as <code>dat</code> giving site latitude and longitude in decimal format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>
<p>A single numeric value or numeric vector same length as <code>dat</code> giving time zone (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to as.POSIXlt</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tryFormats</code></td>
<td>
<p>formats to try when converting date from character, passed to as.POSIXlt</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Time zone <code>tz</code> should be expressed in numeric hours relative to UTC (GMT).
</p>


<h3>Value</h3>

<p>A list with elements:
</p>
<p><code>input</code>: event input dates-times in POSIXlt format.
</p>
<p><code>clock</code>: radian clock time data.
</p>
<p><code>solar</code>: radian solar time data anchored to average sun rise and sun set times.
</p>


<h3>References</h3>

<p>Vazquez, C., Rowcliffe, J.M., Spoelstra, K. and Jansen, P.A. in press. Comparing diel activity patterns of wildlife across latitudes and seasons: time transformation using day length. Methods in Ecology and Evolution.
</p>


<h3>See Also</h3>

<p><code>strptime, transtime</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(BCItime)
subdat &lt;- subset(BCItime, species=="ocelot")
times &lt;- solartime(subdat$date, 9.156335, -79.847682, -5)
rawAct &lt;- fitact(times$clock)
avgAct &lt;- fitact(times$solar)
plot(rawAct)
plot(avgAct, add=TRUE, data="n", tline=list(col="cyan"))
</code></pre>


</div>