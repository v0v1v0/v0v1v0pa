<div class="container">

<table style="width: 100%;"><tr>
<td>dice,SoilProfileCollection-method</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Efficient Slicing of <code>SoilProfileCollection</code> Objects</h2>

<h3>Description</h3>

<p>Cut ("dice") soil horizons into 1-unit thick slices. This function replaces <code>aqp::slice()</code>, which will be deprecated in aqp 2.0.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'SoilProfileCollection'
dice(
  x,
  fm = NULL,
  SPC = TRUE,
  pctMissing = FALSE,
  fill = FALSE,
  strict = TRUE,
  byhz = TRUE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>SoilProfileCollection</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fm</code></td>
<td>
<p>optional <code>formula</code> describing top depths and horizon level attributes to include: <code>integer.vector ~ var1 + var2 + var3</code> or <code>integer.vector ~ .</code> to include all horizon level attributes. Specification of <code>integer.vector</code> forces <code>fill = TRUE</code>. When <code>NULL</code> profiles are "diced" to depth and results will include all horizon level attributes. Note on interpretation of <code>integer.vector</code> (slice tops)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SPC</code></td>
<td>
<p>return the diced <code>SoilPrfolileCollection</code>, if <code>FALSE</code> a <code>data.frame</code> of horizon-level attributes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pctMissing</code></td>
<td>
<p>compute "percent missing data" by slice (when <code>TRUE</code> expect 6-8x longer run time)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>logical, fill with empty placeholder horizons in gaps within profiles, and/or, above/below interval specified in <code>fm</code>. Automatically set to <code>TRUE</code> when LHS of <code>fm</code> is specified. Backwards compatibility with <code>slice</code> is maintained by setting <code>fill = TRUE</code> with or without <code>fm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>perform horizon depth logic checking / flagging / removal</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byhz</code></td>
<td>
<p>Evaluate horizon depth logic at the horizon level (<code>TRUE</code>) or profile level (<code>FALSE</code>). Invalid depth logic invokes <code>HzDepthLogicSubset</code> which removes offending profiles or horizon records.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Print information about object size/memory usage. Default: <code>FALSE</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For large and potentially messy collections that may include missing horizon depth logic errors, consider using <code>repairMissingHzDepths()</code> before <code>dice()</code>. Consider using <code>accumulateDepths()</code> before invoking <code>dice()</code> on collections that may contain old-style O horizon notation (e.g. 5-0cm).
</p>


<h3>Value</h3>

<p>a <code>SoilProfileCollection</code> object, or <code>data.frame</code> when <code>SPC = FALSE</code>
</p>


<h3>Author(s)</h3>

<p>D.E. Beaudette and A.G. Brown
</p>


<h3>See Also</h3>

<p><code>repairMissingHzDepths()</code>, <code>accumulateDepths()</code>, <code>fillHzGaps()</code>
</p>


</div>