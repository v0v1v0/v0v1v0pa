<div class="container">

<table style="width: 100%;"><tr>
<td>orsf_scale_cph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Scale input data</h2>

<h3>Description</h3>

<p>These functions are exported so that users may access internal routines
that are used to scale inputs when orsf_control_cph is used.
</p>


<h3>Usage</h3>

<pre><code class="language-R">orsf_scale_cph(x_mat, w_vec = NULL)

orsf_unscale_cph(x_mat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x_mat</code></td>
<td>
<p>(<em>numeric matrix</em>) a matrix with values to be scaled or
unscaled. Note that <code>orsf_unscale_cph</code> will only accept <code>x_mat</code> inputs
that have an attribute containing transform values, which are added
automatically by <code>orsf_scale_cph</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_vec</code></td>
<td>
<p>(<em>numeric vector</em>) an optional vector of weights. If no weights
are supplied (the default), all observations will be equally weighted. If
supplied, <code>w_vec</code> must have length equal to <code>nrow(x_mat)</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The data are transformed by first subtracting the mean and then
multiplying by the scale. An inverse transform can be completed using
<code>orsf_unscale_cph</code> or by dividing each column by the corresponding scale
and then adding the mean.
</p>
<p>The values of means and scales are stored in an attribute of the output
returned by <code>orsf_scale_cph</code> (see examples)
</p>


<h3>Value</h3>

<p>the scaled or unscaled <code>x_mat</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
x_mat &lt;- as.matrix(pbc_orsf[, c('bili', 'age', 'protime')])

head(x_mat)

x_scaled &lt;- orsf_scale_cph(x_mat)

head(x_scaled)

attributes(x_scaled) # note the transforms attribute

x_unscaled &lt;- orsf_unscale_cph(x_scaled)

head(x_unscaled)

# numeric difference in x_mat and x_unscaled should be practically 0
max(abs(x_mat - x_unscaled))
</code></pre>


</div>