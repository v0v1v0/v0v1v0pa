<div class="container">

<table style="width: 100%;"><tr>
<td>az_kusto_database</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Kusto/Azure Data Explorer database resource class</h2>

<h3>Description</h3>

<p>Class representing a Kusto database, exposing methods for working with it.
</p>


<h3>Methods</h3>

<p>The following methods are available, in addition to those provided by the AzureRMR::az_resource class:
</p>

<ul>
<li> <p><code>new(...)</code>: Initialize a new storage object. See 'Initialization'.
</p>
</li>
<li> <p><code>add_principals(...)</code>: Add new database principals. See <code>Principals</code> below.
</p>
</li>
<li> <p><code>remove_principals(...)</code>: Remove database principals.
</p>
</li>
<li> <p><code>list_principals()</code>: Retrieve all database principals, as a data frame.
</p>
</li>
<li> <p><code>get_query_endpoint()</code>: Get a query endpoint object for interacting with the database.
</p>
</li>
<li> <p><code>get_ingestion_endpoint()</code>: Get an ingestion endpoint object for interacting with the database.
</p>
</li>
</ul>
<h3>Initialization</h3>

<p>Initializing a new object of this class can either retrieve an existing Kusto database, or create a new database on the server. Generally, the best way to initialize an object is via the <code>get_database</code>, <code>list_databases()</code> and <code>create_database</code> methods of the az_kusto class, which handle the details automatically.
</p>


<h3>Principals</h3>

<p>This class provides methods for managing the principals of a database.
</p>
<p><code>add_principal</code> takes the following arguments. It returns a data frame with one row per principal, containing the details for each principal.
</p>

<ul>
<li> <p><code>name</code>: The name of the principal to create.
</p>
</li>
<li> <p><code>role</code>: The role of the principal, for example "Admin" or "User".
</p>
</li>
<li> <p><code>type</code>: The type of principal, either "User" or "App".
</p>
</li>
<li> <p><code>fqn</code>: The fully qualified name of the principal, for example "aaduser=username@mydomain" for an Azure Active Directory account. If supplied, the other details will be obtained from this.
</p>
</li>
<li> <p><code>email</code>: For a user principal, the email address.
</p>
</li>
<li> <p><code>app_id</code>: For an application principal, the ID.
</p>
</li>
</ul>
<p><code>remove_principal</code> removes a principal. It takes the same arguments as <code>add_principal</code>; if the supplied details do not match the actual details for the principal, it is not removed.
</p>


<h3>See Also</h3>

<p>az_kusto, kusto_database_endpoint,
create_database, get_database, delete_database
</p>
<p><a href="https://learn.microsoft.com/en-us/azure/data-explorer/">Kusto/Azure Data Explorer documentation</a>,
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# recommended way of retrieving a resource: via a resource group object
db &lt;- resgroup$
    get_kusto_cluster("mykusto")$
    get_database("mydatabase")

# list principals
db$list_principals()

# add a new principal
db$add_principal("New User", role="User", fqn="aaduser=username@mydomain")

# get the endpoint
db$get_database_endpoint(use_integer64=FALSE)


## End(Not run)
</code></pre>


</div>