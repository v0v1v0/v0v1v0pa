<div class="container">

<table style="width: 100%;"><tr>
<td>setvarianceterms.call</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>allows the setting of bounds and initial values for terms in the 
<code>random</code> and <code>residual</code> arguments of an <code>asreml</code> call, with 
the resulting call being evaluated. </h2>

<h3>Description</h3>

<p>Takes an unevaluated <code>call</code> and evaluates the <code>call</code> 
after setting the bounds and initial values for the terms 
specified in <code>terms</code>. The elements of <code>terms</code> are matched 
with those generated by asreml and used, for example, in the 
<code>varcomp</code> component of a <code>summary.asreml</code> object. 
These names generally include descriptive suffices. To match an 
element of <code>terms</code> that includes such a suffix, set 
<code>ignore.suffices</code> to <code>FALSE</code> so that a literal match 
between the element and the assigned names is sought.</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'call'
setvarianceterms(call, terms, ignore.suffices = TRUE, 
                 bounds = "P", initial.values = NA, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>an unevaluated <code>call</code> to <code>asreml</code>. One way to create 
such a <code>call</code> is to use the <code>call</code> function with 
its <code>name</code> argument set to <code>"asreml"</code>. Another is to 
obtain it from the <code>call</code> component of an <code>asreml</code> 
object  (e.g. <code>call &lt;- asreml.obj$call</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>terms</code></td>
<td>
<p>A character vector specifying the terms 
that are to have bounds and/or initial values specified.
The names must match those in the <code>vparameters</code> component of the 
<code>asreml.obj</code> component in the <code>asrtests.object</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore.suffices</code></td>
<td>
<p>A logical vector specifying whether the suffices of the 
<code>asreml</code>-assigned names of the variance terms (i.e. the 
information to the right of an "!", other than "R!") is to be ignored in 
matching elements of <code>terms</code>. If <code>TRUE</code> for 
an element of <code>terms</code>, the suffices are stripped 
from the <code>asreml</code>-assigned names. If <code>FALSE</code> for 
an element of <code>terms</code>, the element must exactly match 
an <code>asreml</code>-assigned name for a variance term. This vector 
must be of length one or the same length as <code>terms</code>. 
If it is of length one then the same action is 
applied to the <code>asreml</code>-assigned suffices for all the terms 
in <code>terms</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bounds</code></td>
<td>
<p>A <code>character</code> vector specifying the bounds to be applied 
to the terms specified in <code>set.terms</code>. This vector 
must be of length one or the same length as <code>set.terms</code>. 
If it is of length one then the same constraint is 
applied to all the terms in <code>set.terms</code>. 
If any of the bounds are equal to NA then they are 
left unchanged for those terms.
</p>
<p>The codes used by ASReml are: 
</p>

<ul>
<li>
<p> B - fixed at a boundary;
</p>
</li>
<li>
<p> F - fixed by the user;
</p>
</li>
<li>
<p> P - positive definite;
</p>
</li>
<li>
<p> C - Constrained by user; 
</p>
</li>
<li>
<p> U - unbounded.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial.values</code></td>
<td>
<p>A character vector specifying the initial values for  
the terms specified in <code>terms</code>. This vector 
must be of length one or the same length as <code>terms</code>. 
If it is of length one then the same initial value is 
applied to all the terms in <code>terms</code>. 
If any of the initial.values are equal to NA then they are 
left unchanged for those terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be added to the call, or arguments in 
the call with changed values.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An <code>asreml</code> object.</p>


<h3>Author(s)</h3>

<p>Chris Brien</p>


<h3>References</h3>

<p>Butler, D. G., Cullis, B. R., Gilmour, A. R., Gogel, B. J. and 
Thompson, R. (2023). <em>ASReml-R Reference Manual Version 4.2.</em>  
VSN International Ltd, <a href="https://asreml.kb.vsni.co.uk/">https://asreml.kb.vsni.co.uk/</a>.</p>


<h3>See Also</h3>

<p><code>newfit.asreml</code>, <code>update.asreml</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
   m1.call &lt;- call("asreml", 
                   fixed = Height ~ (Block + Irrig)*csDay.num,
                   random= ~ spl(csDay.num)/(Irrig+Block)
                             + dev(csDay.num)
                             + str(~Block:Plot/csDay.num, ~us(2):id(20)) 
                             + Block:Plot:spl(csDay.num),
                   data=quote(dat)) ##use quote to stop evaluation of dat here 
   terms &lt;- c("Block:Plot+Block:Plot:csDay.num!us(2).2:1", "R!variance")
   m1.asreml &lt;- setvarianceterms(m1.call, terms, bounds=c("U","P"), 
                                 initial=c(NA,3), ignore.suffices=c(FALSE,TRUE))
   summary(m1.asreml)

## End(Not run)</code></pre>


</div>