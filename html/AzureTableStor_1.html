<div class="container">

<table style="width: 100%;"><tr>
<td>table_endpoint</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Table storage endpoint</h2>

<h3>Description</h3>

<p>Table storage endpoint object, and method to call it.
</p>


<h3>Usage</h3>

<pre><code class="language-R">table_endpoint(
  endpoint,
  key = NULL,
  token = NULL,
  sas = NULL,
  api_version = getOption("azure_storage_api_version")
)

call_table_endpoint(
  endpoint,
  path,
  options = list(),
  headers = list(),
  body = NULL,
  ...,
  http_verb = c("GET", "DELETE", "PUT", "POST", "HEAD", "PATCH"),
  http_status_handler = c("stop", "warn", "message", "pass"),
  return_headers = (http_verb == "HEAD"),
  metadata = c("none", "minimal", "full"),
  num_retries = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>endpoint</code></td>
<td>
<p>For <code>table_endpoint</code>, the URL of the table service endpoint. This will be of the form <code style="white-space: pre;">⁠https://{account-name}.table.core.windows.net⁠</code> if the service is provided by a storage account in the Azure public cloud, while for a CosmosDB database, it will be of the form <code style="white-space: pre;">⁠https://{account-name}.table.cosmos.azure.com:443⁠</code>. For <code>call_table_endpoint</code>, an object of class <code>table_endpoint</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>The access key for the storage account.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>An Azure Active Directory (AAD) authentication token. For compatibility with AzureStor; not used for table storage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sas</code></td>
<td>
<p>A shared access signature (SAS) for the account. At least one of <code>key</code> or <code>sas</code> should be provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_version</code></td>
<td>
<p>The storage API version to use when interacting with the host. Defaults to "2019-07-07".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>For <code>call_table_endpoint</code>, the path component of the endpoint call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>For <code>call_table_endpoint</code>, a named list giving the query parameters for the operation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>headers</code></td>
<td>
<p>For <code>call_table_endpoint</code>, a named list giving any additional HTTP headers to send to the host. AzureCosmosR will handle authentication details, so you don't have to specify these here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>body</code></td>
<td>
<p>For <code>call_table_endpoint</code>, the request body for a PUT/POST/PATCH call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>For <code>call_table_endpoint</code>, further arguments passed to <code>AzureStor::call_storage_endpoint</code> and <code>httr::VERB</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>http_verb</code></td>
<td>
<p>For <code>call_table_endpoint</code>, the HTTP verb (method) of the operation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>http_status_handler</code></td>
<td>
<p>For <code>call_table_endpoint</code>, the R handler for the HTTP status code of the response. <code>"stop"</code>, <code>"warn"</code> or <code>"message"</code> will call the corresponding handlers in httr, while <code>"pass"</code> ignores the status code. The latter is primarily useful for debugging purposes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_headers</code></td>
<td>
<p>For <code>call_table_endpoint</code>, whether to return the (parsed) response headers instead of the body. Ignored if <code>http_status_handler="pass"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metadata</code></td>
<td>
<p>For <code>call_table_endpoint</code>, the level of ODATA metadata to include in the response.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_retries</code></td>
<td>
<p>The number of times to retry the call, if the response is a HTTP error 429 (too many requests). The Cosmos DB endpoint tends to be aggressive at rate-limiting requests, to maintain the desired level of latency. This will generally not affect calls to an endpoint provided by a storage account.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>table_endpoint</code> returns an object of class <code>table_endpoint</code>, inheriting from <code>storage_endpoint</code>. This is the analogue of the <code>blob_endpoint</code>, <code>file_endpoint</code> and <code>adls_endpoint</code> classes provided by the AzureStor package.
</p>
<p><code>call_table_endpoint</code> returns the body of the response by default, or the headers if <code>return_headers=TRUE</code>. If <code>http_status_handler="pass"</code>, it returns the entire response object without modification.
</p>


<h3>See Also</h3>

<p>storage_table, table_entity, AzureStor::call_storage_endpoint
</p>
<p><a href="https://docs.microsoft.com/en-us/rest/api/storageservices/table-service-rest-api">Table service REST API reference</a>
</p>
<p><a href="https://docs.microsoft.com/en-us/rest/api/storageservices/authorize-requests-to-azure-storage">Authorizing requests to Azure storage services</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# storage account table endpoint
table_endpoint("https://mystorageacct.table.core.windows.net", key="mykey")

# Cosmos DB table endpoint
table_endpoint("https://mycosmosdb.table.cosmos.azure.com:443", key="mykey")


## End(Not run)
</code></pre>


</div>