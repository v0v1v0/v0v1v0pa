<div class="container">

<table style="width: 100%;"><tr>
<td>im.convert</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A wrapper for the ‘convert’ utility of ImageMagick or GraphicsMagick</h2>

<h3>Description</h3>

<p>The main purpose of these two functions is to create GIF animations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">im.convert(
  files,
  output = "animation.gif",
  convert = c("magick", "convert", "gm convert"),
  cmd.fun = if (.Platform$OS.type == "windows") shell else system,
  extra.opts = "",
  clean = FALSE
)

gm.convert(..., convert = "gm convert")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>files</code></td>
<td>
<p>either a character vector of file names, or a single string
containing wildcards (e.g. ‘<span class="file">Rplot*.png</span>’)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>the file name of the output (with proper extensions, e.g.
<code>gif</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convert</code></td>
<td>
<p>the <code>convert</code> command; it must be <code>'magick'</code>,
<code>'convert'</code> or <code>'gm convert'</code>; and it can be pre-specified as an
option in <code>ani.options('convert')</code>, e.g. (Windows users)
<code>ani.options(convert = 'c:/program
files/imagemagick/convert.exe')</code>, or (Mac users) <code>ani.options(convert
= '/opt/local/bin/convert')</code>; see the Note section for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cmd.fun</code></td>
<td>
<p>a function to invoke the OS command; by default
<code>system</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extra.opts</code></td>
<td>
<p>additional options to be passed to <code>convert</code> (or
<code>gm convert</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean</code></td>
<td>
<p>logical: delete the input <code>files</code> or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to be passed to <code>im.convert</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>im.convert</code> simply wraps the arguments of the
<code>convert</code> utility of ImageMagick to make it easier to call
ImageMagick in R;
</p>
<p>The function <code>gm.convert</code> is a wrapper for the command
<code>gm convert</code> of GraphicsMagick.
</p>


<h3>Value</h3>

<p>The command for the conversion.
</p>
<p>If <code>ani.options('autobrowse') == TRUE</code>, this function will also try to
open the output automatically.
</p>


<h3>Note</h3>

<p>If <code>files</code> is a character vector, please make sure the order of
filenames is correct! The first animation frame will be <code>files[1]</code>,
the second frame will be <code>files[2]</code>, ...
</p>
<p>Both ImageMagick and GraphicsMagick may have a limit on the number of
images to be converted. It is a known issue that this function can fail
with more than (approximately) 9000 images. The function
<code>saveVideo</code> is a better alternative in such a case.
</p>
<p>Most Windows users do not have read the boring notes below after they have
installed ImageMagick or GraphicsMagick. For the rest of Windows users:
</p>

<dl>
<dt><strong>ImageMagick users</strong></dt>
<dd>
<p>Please install ImageMagick from
<a href="http://www.imagemagick.org">http://www.imagemagick.org</a>, and make sure the the path to
<code>convert.exe</code> is in your <code>'PATH'</code> variable, in which case the
command <code>convert</code> can be called without the full path.  Windows
users are often very confused about the ImageMagick and <code>'PATH'</code>
setting, so I'll try to search for ImageMagick in the Registry Hive by
<code>readRegistry('SOFTWARE\ImageMagick\Current')$BinPath</code>, thus you might
not really need to modify your <code>'PATH'</code> variable.
</p>
<p>For Windows users who have installed LyX, I will also try to find the
<code>convert</code> utility in the LyX installation directory, so they do not
really have to install ImageMagick if LyX exists in their system (of
course, the LyX should be installed with ImageMagick).
</p>
<p>Once the <code>convert</code> utility is found, the animation option
<code>'convert'</code> will be set (<code>ani.options(convert =
  'path/to/convert.exe')</code>); this can save time for searching for
<code>convert</code> in the operating system next time.  </p>
</dd>
<dt><strong>GraphicsMagick users</strong></dt>
<dd>
<p>During the installation of
GraphicsMagick, you will be asked if you allow it to change the PATH
variable; please do check the option.  </p>
</dd>
</dl>
<p>A reported problem is <code>cmd.fun = shell</code> might not work under Windows
but <code>cmd.fun = system</code> works fine. Try this option in case of
failures.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie
</p>


<h3>References</h3>

<p>Examples at <a href="https://yihui.org/animation/example/im-convert/">https://yihui.org/animation/example/im-convert/</a>
</p>
<p>ImageMagick: <a href="http://www.imagemagick.org/script/convert.php">http://www.imagemagick.org/script/convert.php</a>
</p>
<p>GraphicsMagick: <a href="http://www.graphicsmagick.org">http://www.graphicsmagick.org</a>
</p>


<h3>See Also</h3>

<p>Other utilities: 
<code>saveGIF()</code>,
<code>saveHTML()</code>,
<code>saveLatex()</code>,
<code>saveSWF()</code>,
<code>saveVideo()</code>
</p>


</div>