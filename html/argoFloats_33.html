<div class="container">

<table style="width: 100%;"><tr>
<td>readProfiles</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read Argo Profiles From Local Files</h2>

<h3>Description</h3>

<p>This works with either a vector of NetCDF files,
or a <code>argoFloats</code> object of type <code>"profiles"</code>, as
created by <code>getProfiles()</code>.
During the reading, argo profile objects are created with <code>oce::read.argo()</code>
or a replacement function provided as the <code>FUN</code> argument.
</p>


<h3>Usage</h3>

<pre><code class="language-R">readProfiles(
  profiles,
  FUN,
  destdir = argoDefaultDestdir(),
  quiet = FALSE,
  debug = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>profiles</code></td>
<td>
<p>either (1) a character vector that holds
the names of NetCDF files or (2) an <code>argoFloats</code>
object created by <code>getProfiles()</code>. In the first case, any
items that start with <code>"ftp:"</code> are taken to represent
the full paths to remote files, and these first downloaded
to the <code>destdir</code> directory using <code>getProfileFromUrl()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>a function that reads the NetCDF files in which the argo
profiles are stored.  If <code>FUN</code> not provided, then it defaults
to <code>oce::read.argo()</code>.  Only experts should consider anything
other than this default, or a wrapper to it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destdir</code></td>
<td>
<p>character value indicating the directory in which to store
downloaded files. The default value is to compute this using
<code>argoDefaultDestdir()</code>, which returns <code style="white-space: pre;">⁠~/data/argo⁠</code> by default,
although it also provides ways to set other values using
<code>options()</code>.
Set <code>destdir=NULL</code>
if <code>destfile</code> is a filename with full path information.
File clutter is reduced by creating a top-level directory called
<code>data</code>, with subdirectories for various file types; see
“Examples”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>logical value; use <code>FALSE</code> to show more
verbose information when downloading files.
(Even if <code>quiet</code> is TRUE, problems will still be reported.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>an integer specifying the level of debugging. If
this is zero, the work proceeds silently. If it is 1,
a small amount of debugging information is printed.  Note that
<code>debug-1</code> is passed to <code>oce::read.argo()</code>, which actually reads
the file, and so it will print messages if <code>debug</code> exceeds 1.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, warnings are issued about any
profiles in which 10 percent or more of the measurements are flagged
with a quality-control code of 0, 3, 4, 6, 7, or 9 (see the
<code>applyQC()</code> documentation for the meanings of these codes). For more
on this function, see section 2 of Kelley et al. (2021).
</p>


<h3>Value</h3>

<p>An <code>argoFloats</code> object
with <code>type="argos"</code>, in which the <code>data</code> slot
contains a list named <code>argos</code> that holds objects
that are created by <code>oce::read.argo()</code>.
</p>


<h3>Author(s)</h3>

<p>Dan Kelley
</p>


<h3>References</h3>

<p>Kelley, D. E., Harbin, J., &amp; Richards, C. (2021). argoFloats: An R package for analyzing
Argo data. Frontiers in Marine Science, (8), 636922.
<a href="https://doi.org/10.3389/fmars.2021.635922">doi:10.3389/fmars.2021.635922</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Read from a local file
f &lt;- system.file("extdata", "SR2902204_131.nc", package="argoFloats")
p &lt;- readProfiles(f)

</code></pre>


</div>