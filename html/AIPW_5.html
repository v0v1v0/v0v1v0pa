<div class="container">

<table style="width: 100%;"><tr>
<td>aipw_wrapper</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>AIPW wrapper function</h2>

<h3>Description</h3>

<p>A wrapper function for <code>AIPW$new()$fit()$summary()</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">aipw_wrapper(
  Y,
  A,
  verbose = TRUE,
  W = NULL,
  W.Q = NULL,
  W.g = NULL,
  Q.SL.library,
  g.SL.library,
  k_split = 10,
  g.bound = 0.025,
  stratified_fit = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>Outcome (binary integer: 0 or 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>
<p>Exposure (binary integer: 0 or 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Whether to print the result (logical; Default = FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>
<p>covariates for both exposure and outcome models  (vector, matrix or data.frame). If null, this function will seek for
inputs from <code>W.Q</code> and <code>W.g</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W.Q</code></td>
<td>
<p>Only valid when <code>W</code> is null, otherwise it would be replaced by <code>W</code>.
Covariates for outcome model (vector, matrix or data.frame).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W.g</code></td>
<td>
<p>Only valid when <code>W</code> is null, otherwise it would be replaced by <code>W</code>.
Covariates for exposure model (vector, matrix or data.frame)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q.SL.library</code></td>
<td>
<p>SuperLearner libraries for outcome model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g.SL.library</code></td>
<td>
<p>SuperLearner libraries for exposure model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_split</code></td>
<td>
<p>Number of splitting (integer; range: from 1 to number of observation-1):
if k_split=1, no cross-fitting;
if k_split&gt;=2, cross-fitting is used
(e.g., <code>k_split=10</code>, use 9/10 of the data to estimate and the remaining 1/10 leftover to predict).
NOTE: it's recommended to use cross-fitting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g.bound</code></td>
<td>
<p>Value between [0,1] at which the propensity score should be truncated. Defaults to 0.025.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratified_fit</code></td>
<td>
<p>An indicator for whether the outcome model is fitted stratified by exposure status in the<code>fit()</code> method.
Only when using <code>stratified_fit()</code> to turn on <code>stratified_fit = TRUE</code>, <code>summary</code> outputs average treatment effects among the treated and the controls.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A fitted <code>AIPW</code> object with summarised results
</p>


<h3>See Also</h3>

<p>AIPW
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(SuperLearner)
aipw_sl &lt;- aipw_wrapper(Y=rbinom(100,1,0.5), A=rbinom(100,1,0.5),
                    W.Q=rbinom(100,1,0.5), W.g=rbinom(100,1,0.5),
                    Q.SL.library="SL.mean",g.SL.library="SL.mean",
                    k_split=1,verbose=FALSE)
</code></pre>


</div>