<div class="container">

<table style="width: 100%;"><tr>
<td>natural_abundance_correction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Natural Abundance correction for mass spectrometry data</h2>

<h3>Description</h3>

<p><code>natural_abundance_correction</code> returns the corrected and normalized
intensities of isotopically labeled mass spectrometry data. It was designed
to work with input data from
<a href="https://elucidatainc.github.io/ElMaven/">El-MAVEN</a> and
<a href="https://github.com/eugenemel/maven">MAVEN</a> software.
</p>


<h3>Usage</h3>

<pre><code class="language-R">natural_abundance_correction(
  data,
  sheet = NULL,
  compound_database = NULL,
  output_base = NULL,
  output_filetype = "xlsx",
  columns_to_skip = NULL,
  resolution,
  resolution_defined_at = 200,
  purity = NULL,
  report_pool_size_before_df = FALSE,
  path = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Path to input data file (xlsx, xls, csv, txt, or tsv) OR
dataframe. If dataframe is specified, specify output_base to output files
automatically written.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sheet</code></td>
<td>
<p>Name of sheet in xlsx file with columns 'compound',
'formula', 'isotopelabel', and one column per sample. Defaults to the
first sheet.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compound_database</code></td>
<td>
<p>Path to compound database in csv format. Only used
for classic MAVEN style input when formula is not specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_base</code></td>
<td>
<p>Path to basename of output file, default is the basename
of the input path. '_corrected' will be appended. If 'FALSE' then no
output file is written.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_filetype</code></td>
<td>
<p>Filetype of the output file, one of: 'xls', xlsx',
'csv', or 'tsv'. The default is 'xlsx'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns_to_skip</code></td>
<td>
<p>Specify column heading to skip. All other columns not
named 'compound', 'formula', and 'isotopelabel' will be assumed to be
sample names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution</code></td>
<td>
<p>For Exactive, the resolution is 100000, defined at Mw 200</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution_defined_at</code></td>
<td>
<p>Mw at which the resolution is defined, default
200 Mw</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>purity</code></td>
<td>
<p>Isotope purity, default: Carbon 0.99; Deuterium 0.98;
Nitrogen 0.99</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>report_pool_size_before_df</code></td>
<td>
<p>Report PoolSizeBeforeDF, default = FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>Deprecated. Specify path to input data file (alias for 'data').</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>C13, H2, and N15 isotopes are supported. The isotopes are detected from the
<code>isotopeLabel</code> column of the input file. The expected label text is
<code>C13-label-#</code>. <code>D-label-#</code>. or <code>N15-label-#</code>. Parent
(unlabeled) compounds are specified by <code>C12 PARENT</code>.
</p>


<h3>Value</h3>

<p>Named list of matrices: 'Corrected', 'Normalized',
'PoolBeforeDF', and 'PoolAfterDF'.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
natural_abundance_correction("inst/extdata/C_Sample_Input_Simple.xlsx",
  Resolution = 100000, ResDefAt = 200
)

## End(Not run)
</code></pre>


</div>