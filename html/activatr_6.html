<div class="container">

<table style="width: 100%;"><tr>
<td>mutate_with_speed</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Augments an <code>act_tbl</code> with a speed column</h2>

<h3>Description</h3>

<p>This returns a mutated <code>act_tbl</code> with a new column
representing speed, in meters per second. See <code>vignette("pace")</code> for
examples.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mutate_with_speed(df, method = c("2D", "3D"), lead = 0, lag = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>An <code>act_tbl</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>If "2D" (default), ignores elevation. If "3D", includes
elevation. "3D" is not often necessary, but for skiing
activities is likely to yield a more accurate value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lead</code></td>
<td>
<p>How far ahead to look for the "end" point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>How far behind to look for the "start" point.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The speed is determined by looking at the time difference
between the current point and the previous point: hence, it is always NA
for the first row in the data frame.
</p>
<p>The <code>lead</code> and <code>lag</code> values are helpful to get "smoother" values, especially
if the provided activity file has GPS errors in it.
</p>


<h3>Value</h3>

<p>That same <code>act_tbl</code>, but with a new <code>speed</code> column,
in meters per second.
</p>


<h3>Examples</h3>

<pre><code class="language-R">example_gpx_file &lt;- system.file(
  "extdata",
  "running_example.gpx.gz",
  package = "activatr"
)
example_act_tbl &lt;- parse_gpx(example_gpx_file)
example_act_tbl_with_speed &lt;- mutate_with_speed(example_act_tbl)
example_act_tbl_with_speed
</code></pre>


</div>