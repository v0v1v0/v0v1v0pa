<div class="container">

<table style="width: 100%;"><tr>
<td>extract_history</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract history</h2>

<h3>Description</h3>

<p>Used internally. Extracts relevant parameters at each conducted adaptive
analysis from a single trial.
</p>


<h3>Usage</h3>

<pre><code class="language-R">extract_history(object, metric = "prob")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>single <code>trial_result</code> from <code>run_trial()</code>, only works if run
with argument <code>sparse = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>
<p>either <code>"prob"</code> (default), in which case allocation
probabilities at each adaptive analysis are returned; <code>"n"</code>/<code>"n all"</code>, in
which case the total number of patients with available follow-up data
(<code>"n"</code>) or allocated (<code>"n all"</code>) to each <code>arm</code> during each adaptive
analysis are returned; <code>"pct"</code>/<code>"pct all"</code> in which case the proportions of
of patients allocated and having available follow-up data (<code>"pct"</code>) or
allocated in total (<code>"pct all"</code>) to each arm out of the total number of
patients are returned; <code>"sum ys"</code>/<code>"sum ys all"</code>, in which case the total
summed available outcome data (<code>"sum ys"</code>) or total summed outcome data
including outcomes of patients randomised that have not necessarily reached
follow-up yet (<code>"sum ys all"</code>) in each arm after each adaptive analysis are
returned; or <code>"ratio ys"</code>/<code>"ratio ys all"</code>, in which case the total summed
outcomes as specified for <code>"sum ys"</code>/<code>"sum ys all"</code> divided by the number
of patients after each analysis adaptive are returned.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tidy <code>data.frame</code> (one row per arm per look) containing the following
columns:
</p>

<ul>
<li> <p><code>look</code>: consecutive numbers (integers) of each interim look.
</p>
</li>
<li> <p><code>look_ns</code>: total number of patients (integers) with outcome data
available at current adaptive analysis look to all arms in the trial.
</p>
</li>
<li> <p><code>look_ns_all</code>: total number of patients (integers) randomised at
current adaptive analysis look to all arms in the trial.
</p>
</li>
<li> <p><code>arm</code>: the current <code>arm</code> in the trial.
</p>
</li>
<li> <p><code>value</code>: as described under <code>metric</code>.
</p>
</li>
</ul>
</div>