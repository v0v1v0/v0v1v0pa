<div class="container">

<table style="width: 100%;"><tr>
<td>redistribution_kernel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a redistribution kernel</h2>

<h3>Description</h3>

<p>From a fitted integrated step-selection function for a given position a
redistribution kernel is calculated (i.e., the product of the movement kernel
and the selection function).
</p>


<h3>Usage</h3>

<pre><code class="language-R">redistribution_kernel(
  x = make_issf_model(),
  start = make_start(),
  map,
  fun = function(xy, map) {
     extract_covariates(xy, map, where = "both")
 },
  covars = NULL,
  max.dist = get_max_dist(x),
  n.control = 1e+06,
  n.sample = 1,
  landscape = "continuous",
  compensate.movement = landscape == "discrete",
  normalize = TRUE,
  interpolate = FALSE,
  as.rast = FALSE,
  tolerance.outside = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code style="white-space: pre;">⁠[fit_issf]⁠</code> <br> A fitted integrated step-selection function. Generated either with <code>fit_issf()</code> or make <code>make_issf_model()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p><code style="white-space: pre;">⁠[sim_start]⁠</code> <br> The start position in space and time. See <code>make_start()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p><code style="white-space: pre;">⁠[SpatRaster]⁠</code> <br> A SpatRaster with all covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p><code style="white-space: pre;">⁠[function]⁠</code> <br> A function that is executed on each location of the redistribution kernel. The default function is <code>extract_covariates()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covars</code></td>
<td>
<p><code style="white-space: pre;">⁠[tibble]⁠</code> <br> Additional covariates that might be used in the model (e.g., time of day).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.dist</code></td>
<td>
<p><code style="white-space: pre;">⁠[numeric(1)]⁠</code> <br> The maximum distance of the redistribution kernel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.control</code></td>
<td>
<p><code style="white-space: pre;">⁠[integer(1)]{1e6}⁠</code> <br> The number of points of the redistribution kernel (this is only important if <code>landscape = "continuous"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.sample</code></td>
<td>
<p><code style="white-space: pre;">⁠[integer(1)]{1}⁠</code> <br> The number of points sampled from the redistribution kernel (this is only important if <code>as.rast = FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>landscape</code></td>
<td>
<p><code style="white-space: pre;">⁠[character(1)]{"continuous"}⁠</code> <br> If <code style="white-space: pre;">⁠"continuous⁠</code> the redistribution kernel is sampled using a random sample of size <code>n.control</code>. If <code>landscape = "discrete"</code> each cell in the redistribution kernel is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compensate.movement</code></td>
<td>
<p><code style="white-space: pre;">⁠[logical(1)]⁠</code> <br> Indicates if movement parameters are corrected or not. This only relevant if <code>landscape = 'discrete'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p><code style="white-space: pre;">⁠[logical(1)]{TRUE}⁠</code> <br> If <code>TRUE</code> the redistribution kernel is normalized to sum to one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interpolate</code></td>
<td>
<p><code style="white-space: pre;">⁠[logical(1)]{FALSE}⁠</code> <br> If <code>TRUE</code> a stochastic redistribution kernel is interpolated to return a raster layer. Note, this is just for completeness and is computationally inefficient in most situations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.rast</code></td>
<td>
<p><code style="white-space: pre;">⁠[logical(1)]{TRUE}⁠</code> <br> If <code>TRUE</code> a <code>SpatRaster</code> should be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance.outside</code></td>
<td>
<p><code style="white-space: pre;">⁠[numeric(1)]{0}⁠</code> <br> The proportion of the redistribution kernel that is allowed to be outside the <code>map</code>.</p>
</td>
</tr>
</table>
</div>