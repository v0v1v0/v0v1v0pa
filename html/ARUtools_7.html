<div class="container">

<table style="width: 100%;"><tr>
<td>calc_selection_weights</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate Selection Weights</h2>

<h3>Description</h3>

<p>Calculate selection weights for a series of recordings based on the selection
parameters defined by <code>sim_selection_weights()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calc_selection_weights(
  meta_sun,
  params,
  col_site_id = site_id,
  col_min = t2sr,
  col_day = date
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>meta_sun</code></td>
<td>
<p>(Spatial) Data frame. Recording meta data with time to
sunrise/sunset. Output of <code>calc_sun()</code>. Must have at least <code>col_min</code>,
<code>col_day</code>, and <code>col_site_id</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>Named list. Parameters created by <code>sim_selection_weights()</code>, containing
<code>min_range</code>, <code>min_mean</code>, <code>min_sd</code>, <code>day_range</code>, <code>day_mean</code>, <code>day_sd</code>,
<code>offset</code>, <code>return_log</code>, <code>selection_fun</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_site_id</code></td>
<td>
<p>Column. Unquoted column containing site strata IDs
(defaults to <code>site_id</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_min</code></td>
<td>
<p>Column. Unquoted column containing minutes to sunrise (<code>t2sr</code>)
or sunset (<code>t2ss</code>) output from <code>calc_sun()</code> (defaults to <code>t2sr</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_day</code></td>
<td>
<p>Column. Unquoted column containing dates or day-of-year (doy)
to use (defaults to <code>date</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns data with appended selection weights columns:
</p>

<ul>
<li> <p><code>psel_by</code> - The minutes column used
</p>
</li>
<li> <p><code>psel_min</code> - Probability of selection by time of day (min column)
</p>
</li>
<li> <p><code>psel_doy</code> - Probability of selection by day of year
</p>
</li>
<li> <p><code>psel</code> - Probability of selection overall
</p>
</li>
<li> <p><code>psel_scaled</code> - Probability of selection scaled overall
</p>
</li>
<li> <p><code>psel_std</code> - Probability of selection standardized within a site
</p>
</li>
<li> <p><code>psel_normalized</code> - Probability of selection normalized within a site
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">s &lt;- clean_site_index(example_sites_clean,
  name_date_time = c("date_time_start", "date_time_end")
)
m &lt;- clean_metadata(project_files = example_files) |&gt;
  add_sites(s) |&gt;
  calc_sun()

params &lt;- sim_selection_weights()
calc_selection_weights(m, params = params)
</code></pre>


</div>