<div class="container">

<table style="width: 100%;"><tr>
<td>tiers_add</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add tiers</h2>

<h3>Description</h3>

<p>Adds a tiers in all transcript objects of a corpus.
If tiers should be added only in certain transcripts, set the parameter <code>filterTranscriptNames</code>.
In case that you want to select transcripts by using regular expressions use the function <code>act::search_makefilter</code> first.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tiers_add(
  x,
  tierName,
  tierType = c("IntervalTier", "TextTier"),
  absolutePosition = NULL,
  destinationTier = NULL,
  relativePositionToDestinationTier = 0,
  insertOnlyIfDestinationExists = FALSE,
  filterTranscriptNames = NULL,
  skipIfTierAlreadyExists = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Corpus object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tierName</code></td>
<td>
<p>Character string; names of the tier to be added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tierType</code></td>
<td>
<p>Character string; type of the tier to be added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>absolutePosition</code></td>
<td>
<p>Integer; Absolute position where the tier will be inserted. Value 1 and values beloe 1 will insert the tier in the first position; To insert the tier at the end, leave 'absolutePosition' and 'destinationTier' open.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destinationTier</code></td>
<td>
<p>Character string; insert the tier relative to this tier.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relativePositionToDestinationTier</code></td>
<td>
<p>Integer; position relative to the destination tier; 1=immediately after; 0 and -1=immediately before;  bigger numbers are also allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>insertOnlyIfDestinationExists</code></td>
<td>
<p>Logical; if <code>TRUE</code> the new tier will only be added if the destination tier 'destinationTier' exists in the transcript object. If <code>FALSE</code> the new tier will only be added in any case. If the destination tier 'destinationTier' does not exist in the transcript object, the tier will be inserted at the end.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filterTranscriptNames</code></td>
<td>
<p>Vector of character strings; names of the transcripts to be modified. If left open, the tier will be added to all transcripts in the corpus.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skipIfTierAlreadyExists</code></td>
<td>
<p>Logical; if <code>TRUE</code> the new tier will be skipped if a tier with this name already exists in the transcript; if <code>FALSE</code> an error will be raised.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>You can either insert the new tier at a specific position (e.g. 'absolutePosition=1') or in relation to a existing tier (e.g. destinationTier='speaker1').
To insert a tier at the end, leave 'absolutePosition' and 'destinationTier' open.
</p>
<p>Results will be reported in <code>@history</code> of the transcript objects.
</p>


<h3>Value</h3>

<p>Corpus object.
</p>


<h3>See Also</h3>

<p>tiers_delete, tiers_rename, tiers_convert, tiers_sort
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(act)

# --- Add new interval tier.
# Since not position is set it will be inserted in the end, by default.
x &lt;- act::tiers_add(examplecorpus,
					tierName="TEST")
#check results
x@history[length(x@history)]
#have a look at the first transcript
x@transcripts[[1]]@tiers
#--&gt; New tier is inserted in the end.

# --- Add new interval tier in position 2
x &lt;- act::tiers_add(examplecorpus,
					tierName="TEST",
					absolutePosition=2)
#check results
x@history[length(x@history)]
#have a look at the first transcript
x@transcripts[[1]]@tiers
#--&gt; New tier is inserted as second tier.


# --- Add new interval tier at the position of "Entrevistador", only if this tier exists,
# If the destination tier does not exist, the new tier will NOT be inserted.

#Have a look at the first and the second transcript. 
examplecorpus@transcripts[[1]]@tiers
#Transcript 1 does contain a tier "Entrevistador" in the first position.
examplecorpus@transcripts[[2]]@tiers
#Transcript 2 does contain a tier "Entrevistador" in the first position.

#Insert new tier
x &lt;- act::tiers_add(examplecorpus,
					tierName="TEST",
					destinationTier="Entrevistador",
					relativePositionToDestinationTier=0,
					insertOnlyIfDestinationExists=TRUE)

#Check results
x@history[length(x@history)]
#Have a look at the transcript 1:
# Tier 'TEST' was in first position (e.g. where 'Entrevistador' was before).
x@transcripts[[1]]@tiers
#Have a look at the transcript 2:
#Tier 'TEST' was not inserted, since there was no destination tier 'Entrevistador'.
x@transcripts[[2]]@tiers

# --- Add new interval tier AFTER tier="Entrevistador"
# If the destination tier does not exist, the new tier will be inserted at the end in any case.
x &lt;- act::tiers_add(examplecorpus,
					tierName="TEST",
					destinationTier="Entrevistador",
					relativePositionToDestinationTier=1,
					insertOnlyIfDestinationExists=FALSE)
#check results
x@history[length(x@history)]
#Have a look at the transcript 1:
# Tier 'TEST' was inserted after the tier 'Entrevistador'.
x@transcripts[[1]]@tiers
#Have a look at the transcript 2:
#Tier 'TEST' was insertedat the end.
x@transcripts[[2]]@tiers

</code></pre>


</div>