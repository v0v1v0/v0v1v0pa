<div class="container">

<table style="width: 100%;"><tr>
<td>autoplot_exp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot experience study results</h2>

<h3>Description</h3>

<p>Plot experience study results
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'exp_df'
autoplot(
  object,
  ...,
  x = NULL,
  y = NULL,
  color = NULL,
  mapping,
  second_axis = FALSE,
  second_y = NULL,
  scales = "fixed",
  geoms = c("lines", "bars", "points"),
  y_labels = scales::label_percent(accuracy = 0.1),
  second_y_labels = scales::label_comma(accuracy = 1),
  y_log10 = FALSE,
  conf_int_bars = FALSE
)

## S3 method for class 'trx_df'
autoplot(
  object,
  ...,
  x = NULL,
  y = NULL,
  color = NULL,
  mapping,
  second_axis = FALSE,
  second_y = NULL,
  scales = "fixed",
  geoms = c("lines", "bars", "points"),
  y_labels = scales::label_percent(accuracy = 0.1),
  second_y_labels = scales::label_comma(accuracy = 1),
  y_log10 = FALSE,
  conf_int_bars = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class <code>exp_df</code> created by the
function <code>exp_stats()</code> or an object of class <code>trx_df</code> created by the function
<code>trx_stats()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Faceting variables passed to <code>ggplot2::facet_wrap()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An unquoted column name in <code>object</code> or expression to use as the <code>x</code>
variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>An unquoted column name in <code>object</code> or expression to use as the
<code>y</code> variable. If unspecified, <code>y</code> will default to the observed termination
rate (<code>q_obs</code>) for <code>exp_df</code> objects and the observed utilization rate
(<code>trx_util</code>) for <code>trx_df</code> objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>An unquoted column name in <code>object</code> or expression to use as the
<code>color</code> and <code>fill</code> variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapping</code></td>
<td>
<p>Aesthetic mapping passed to <code>ggplot2::ggplot()</code>. NOTE: If
<code>mapping</code> is supplied, the <code>x</code>, <code>y</code>, and <code>color</code> arguments will be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>second_axis</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the variable specified by
<code>second_y</code> (default = exposure) is plotted on a second
y-axis using an area geometry.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>second_y</code></td>
<td>
<p>An unquoted column name in <code>object</code> to use as the <code>y</code>
variable on the second y-axis. If unspecified, this will default to
<code>exposure</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales</code></td>
<td>
<p>The <code>scales</code> argument passed to <code>ggplot2::facet_wrap()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geoms</code></td>
<td>
<p>Type of geometry. If "lines" is passed, the plot will
display lines and points. If "bars", the plot will display bars. If "points",
the plot will display points only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_labels</code></td>
<td>
<p>Label function passed to <code>ggplot2::scale_y_continuous()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>second_y_labels</code></td>
<td>
<p>Same as <code>y_labels</code>, but for the second y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_log10</code></td>
<td>
<p>If <code>TRUE</code>, the y-axes are plotted on a log-10 scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf_int_bars</code></td>
<td>
<p>If <code>TRUE</code>, confidence interval error bars are included
in the plot. For <code>exp_df</code> objects, this option is available for termination
rates and actual-to-expected ratios. For <code>trx_df</code> objects, this option is
available for utilization rates and any <code>pct_of</code> columns.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If no aesthetic map is supplied, the plot will use the first
grouping variable in <code>object</code> on the x axis and <code>q_obs</code> on the y
axis. In addition, the second grouping variable in <code>object</code> will be
used for color and fill.
</p>
<p>If no faceting variables are supplied, the plot will use grouping
variables 3 and up as facets. These variables are passed into
<code>ggplot2::facet_wrap()</code>. Specific to <code>trx_df</code> objects, transaction
type (<code>trx_type</code>) will also be added as a faceting variable.
</p>


<h3>Value</h3>

<p>a <code>ggplot</code> object
</p>


<h3>See Also</h3>

<p><code>plot_termination_rates()</code>, <code>plot_actual_to_expected()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
study_py &lt;- expose_py(census_dat, "2019-12-31", target_status = "Surrender")

study_py &lt;- study_py |&gt;
  add_transactions(withdrawals)

exp_res &lt;- study_py |&gt; group_by(pol_yr) |&gt; exp_stats()
autoplot(exp_res)

trx_res &lt;- study_py |&gt; group_by(pol_yr) |&gt; trx_stats()
autoplot(trx_res)

</code></pre>


</div>