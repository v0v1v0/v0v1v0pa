<div class="container">

<table style="width: 100%;"><tr>
<td>getK</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract and set the number of analogues</h2>

<h3>Description</h3>

<p>An extractor function to access the number of analogues used in
particular models. The stored value of <code class="reqn">k</code> can be updated using
<code>setK</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getK(object, ...)

## S3 method for class 'mat'
getK(object, weighted = FALSE, ...)

## S3 method for class 'bootstrap.mat'
getK(object, which = c("bootstrap", "model"),
     prediction = FALSE, ...)

## S3 method for class 'predict.mat'
getK(object, which = c("model", "bootstrap"),
     ...)

setK(object, weighted = FALSE) &lt;- value

## S3 replacement method for class 'mat'
setK(object, weighted = FALSE) &lt;- value

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an R object; currently only for objects of class
<code>mat</code> and class <code>bootstrap.mat</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted</code></td>
<td>
<p>logical; extract/set number of analogues for a
weighted or un-weighted model?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>character; which <em>k</em> should be extracted, the one
from the model or the one from the bootstrap results?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>
<p>logical; should the extracted <em>k</em> be the one
that is minimum for the test set (<code>newdata</code>) or the model
(<code>object</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>integer; replacement value for <code class="reqn">k</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>getK</code> is a generic accessor function, and <code>setK&lt;-</code> is a generic
replacement function.
</p>
<p>Objects of class <code>bootstrap.mat</code> contain several different
<code>k</code>'s. If no predictions are performed, there will be two
<code>k</code>'s, one for the model and one from bootstrapping the
model. Where predictions are performed <strong>with</strong> <code>newenv</code>
supplied, in addition to the <code>k</code>'s above, there will be two
<code>k</code>' for the predictions, one for the model-based and one for the
bootstrap-based predictions. To select <code>k</code> for the predictions,
use <code>prediction = TRUE</code>. Argument <code>which</code> determines whether
the model-based or the bootstrap-based <code>k</code> is returned.
</p>


<h3>Value</h3>

<p>For <code>getK</code>, an integer value that is the number of analogues stored
for use. The returned object has attributes “auto” and
“weighted”. “auto” refers to whether the extracted value
of <code class="reqn">k</code> was set automatically (<code>TRUE</code>) or by the user
(<code>FALSE</code>). “weighted” states if the returned value is for
a <code>weighted</code> analysis or an un-<code>weighted</code> analysis (<code>FALSE</code>).
</p>
<p>For <code>setK&lt;-</code>, the updated object.
</p>


<h3>Author(s)</h3>

<p>Gavin L. Simpson</p>


<h3>See Also</h3>

<p><code>mat</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Imbrie and Kipp Sea Surface Temperature
data(ImbrieKipp)
data(SumSST)
data(V12.122)

## merge training set and core samples
dat &lt;- join(ImbrieKipp, V12.122, verbose = TRUE)

## extract the merged data sets and convert to proportions
ImbrieKipp &lt;- dat[[1]] / 100
ImbrieKippCore &lt;- dat[[2]] / 100

## fit a MAT model
ik.mat &lt;- mat(ImbrieKipp, SumSST, method = "chord")

## How many analogues gives lowest RMSE?
getK(ik.mat)
## note that this value was chosen automatically

## Now set k to be 10
setK(ik.mat) &lt;- 10

## check
getK(ik.mat)

</code></pre>


</div>