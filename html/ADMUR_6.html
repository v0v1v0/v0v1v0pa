<div class="container">

<table style="width: 100%;"><tr>
<td>CPLparsToHinges</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Converts CPL parameters (0 to 1) into hinge (x,y) coordinates (date and pdf) that describe a model</h2>

<h3>Description</h3>

<p>Converts either a vector of parameters, or a matrix of many parameter sets to CPL-model hinges (date and pdf coordinates).
<script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>


<h3>Usage</h3>

<pre><code class="language-R">CPLparsToHinges(pars, years)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pars</code></td>
<td>

<p>Either a vector of one parameter set, or a matrix of several parameter sets (one set per row). 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>years</code></td>
<td>

<p>A vector of years.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The CPL model requires pars to be of odd length, each between 0 and 1. A n-CPL model has \(2n-1\) parameters (\(n-1\) x-parameters and \(n\) y-parameters) that are mapped to \(n+1\) PD coordinates (x,y pairs) using a modified Stick Breaking Dirichlet Process. The first and last x-coordinate are set as \(x_{min}\) and \(x_{max}\), and the remaining internal x-coordinates are converted from their respective x-parameters using the Beta distribution CDF (where \(\alpha = 1\) and \(\beta =\) the number of pieces still to be broken). The y-parameters (between 0 and 1) are converted to y-coordinates in two steps. Firstly, they are mapped from the parameter range (0,1) to the coordinate range (0, \(\infty\)) using the formula \(\frac{1}{(1 - y)^2} - 1\), and the single remaining y-coordinate is set as \(\frac{1}{(1 - 0.5)^2} - 1\). Secondly, they are normalised by the total area under the curve, calculated as the sum of the areas under all \(n\) pieces: \[Area = \sum_{i=1}^{n} (\frac{y_i + y_{i+1}}{2})(x_{i+1} - x_i) \]
</p>


<h3>Examples</h3>

<pre><code class="language-R">	# convert a single random 6-CPL parameter set
	x &lt;- CPLparsToHinges(pars=runif(11), years=5500:7500)
	</code></pre>


</div>