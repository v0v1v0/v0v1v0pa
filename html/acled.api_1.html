<div class="container">

<table style="width: 100%;"><tr>
<td>acled.api</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Automated Retrieval of ACLED Conflict Event Data</h2>

<h3>Description</h3>

<p>Access and manage the application programming interface (API)
of the <a href="https://acleddata.com/">Armed Conflict Location &amp; Event Data Project (ACLED)</a>.
The function <em><code>acled.api()</code></em> makes it easy to retrieve a user-defined sample (or all of the
available data) of ACLED, enabling a seamless integration of regular data updates into
the research work flow. If the data are intended for replicable use (e.g., later publication of analysis results), the
downloaded data should be stored locally after retrieval. See the package's README file for a
note on replicability when using ACLED data. <br><br>
When using this package, you acknowledge that you have read ACLED's terms and
conditions of use, and that you agree with their attribution requirements.
</p>


<h3>Usage</h3>

<pre><code class="language-R">acled.api(
  email.address = Sys.getenv("ACLED_EMAIL_ADDRESS"),
  access.key = Sys.getenv("ACLED_ACCESS_KEY"),
  country = NULL,
  region = NULL,
  start.date = NULL,
  end.date = NULL,
  add.variables = NULL,
  all.variables = FALSE,
  dyadic = FALSE,
  interaction = NULL,
  other.query = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>email.address</code></td>
<td>
<p>character string. Supply the email address that you registered with <a href="https://developer.acleddata.com/">ACLED access</a>.
The email address can also be set as an environment variable using <em><code>Sys.setenv(ACLED_EMAIL_ADDRESS="your.email.address")</code></em>, in
which case this argument can be skipped. Usage examples below illustrate these two approaches.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>access.key</code></td>
<td>
<p>character string. Supply your ACLED access key. The  access key can also be set as an environment variable
using <em><code>Sys.setenv(ACLED_ACCESS_KEY="your.access.key")</code></em>, in which case this argument can be skipped. Usage examples below illustrate these two approaches.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>country</code></td>
<td>
<p>character vector. Supply one or more country names to narrow down which events should be retrieved. See the details
below for information on how the arguments "country" and "region" interact.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region</code></td>
<td>
<p>numeric or character vector. Supply one or more region codes (numeric) or region names (character)
to narrow down which events should be retrieved. You can run <code>get.api.regions()</code> to view supported region codes and names,
or see <a href="https://apidocs.acleddata.com/">ACLED's API Guide</a>.
See the details below for information on how the arguments "country" and "region" interact.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start.date</code></td>
<td>
<p>character string. Supply the earliest date to be retrieved. Format: "yyyy-mm-dd".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end.date</code></td>
<td>
<p>character string. Supply the last date to be retrieved. Format: "yyyy-mm-dd".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.variables</code></td>
<td>
<p>character vector. Supply the names of ACLED variables you wish to add to the
default output (see <a href="https://acleddata.com/resources/general-guides/">ACLED's codebook</a> for details). The default
output includes: event_id_cnty, region, country, year, event_date, source, admin1, admin2, admin3, location, latitude, longitude, event_type, sub_event_type,
interaction, fatalities, tags, and the download timestamp.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all.variables</code></td>
<td>
<p>logical. When set to FALSE (default), a narrow default selection of variables is returned (which
can be refined using the argument add.variables). If set to TRUE, all variables are included in the output (overrides
argument add.variables).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dyadic</code></td>
<td>
<p>logical. When set to FALSE (default), monadic data is returned (one
observation per event). If set to TRUE, dyadic data is returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interaction</code></td>
<td>
<p>numeric vector. Supply one or more interaction codes to narrow down which events should be
retrieved (see <a href="https://acleddata.com/resources/general-guides/">ACLED's codebook</a> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>other.query</code></td>
<td>
<p>character vector. Allows users to add their own ACLED API queries to the
GET call. Vector elements are assumed to be individual queries, and are automatically separated by an &amp; sign.
See <a href="https://apidocs.acleddata.com/">ACLED's API Guide</a> for information on making your custom query.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <em><code>acled.api()</code></em> is an R wrapper for
the <a href="https://acleddata.com/">Armed Conflict Location &amp; Event Data Project</a> API.
Internally it uses <em><code>httr</code></em> to access the API, and <em><code>jsonlite</code></em> to manage the JSON content that the call returns. The JSON data
are converted into the base class <em><code>data.frame</code></em>. Variables are of class <em><code>character</code></em> by default.
Variables which only contain numbers as recognized by the regular
expression <code style="white-space: pre;">⁠^[0-9]+$⁠</code> are coerced into <em><code>numeric</code></em> before the <em><code>data.frame</code></em> object is returned. <br><br><em>Authentification:</em> The user's registered email address and ACLED access key, which they obtain after registering with <a href="https://developer.acleddata.com/">ACLED access</a>, can be supplied as strings directly to their respective arguments,
or set in advance as environment variables
using <br><em><code>Sys.setenv(ACLED_EMAIL_ADDRESS="your.email.address")</code></em> and <br><em><code>Sys.setenv(ACLED_ACCESS_KEY="your.access.key")</code></em>. <br><br><em>Retrieving all data at once:</em> If both the country argument and the region argument are NULL (default), all available countries are retrieved. The same applies to
the time frame when both the start date and the end date are NULL (default). Note that the API cannot handle requests with only one
of the dates specified (either none of them or both of them need to be supplied). More recent versions of the API implemented a bandwidth limit that prevents
users from retrieving larger amounts of data in a single call. At the time of this writing (v. <em><code>acled.api()</code></em> 1.1.8), ACLED recommends using pagination to retrieve data
in separate calls of 5000 rows each. This is much less than what is actually possible to retrieve in a single call, and with a full dataset of &gt;2 million rows, pagination is less
practicable than simply downloading by individual regions or time periods. The separate data chunks obtained this way can then be combined using rbind(). Users who want to make use of
pagination can do so using the <em><code>other.query</code></em> filter. <br><br><em>Filter combinations:</em> By default, <em><code>acled.api()</code></em> combines different filters with a logical AND operator.
This usually conforms with desired behavior, with the country argument and the region argument as important exception: for example, specifying the
country "Togo" and the region "Southern Africa" leads the API to query for a country named "Togo" in the region "Southern Africa".
In this case, no data will be returned as no events match this query, and it is recommended to make two separate calls, one for Togo and one for Southern Africa.
More recent versions of the API also support OR operators to separate filters. These can be implemented through <em><code>acled.api()</code></em> by using the <em><code>other.query</code></em> filter.
To do so, see the <a href="https://apidocs.acleddata.com/">ACLED API Guide</a> for details.
</p>


<h3>Value</h3>

<p>A data frame containing ACLED events.
</p>


<h3>Author(s)</h3>

<p>Christoph Dworschak <br> Website: <a href="https://www.chrisdworschak.com/">https://www.chrisdworschak.com/</a>
</p>


<h3>References</h3>

<p>Armed Conflict Location &amp; Event Data Project (ACLED); <a href="https://acleddata.com/">https://acleddata.com/</a> <br>
Clionadh Raleigh, Andrew Linke, Havard Hegre and Joakim Karlsen. 2010.
"Introducing ACLED-Armed Conflict Location and Event Data." <em>Journal of Peace Research</em> 47 (5): 651-660.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Email and access key provided as strings:
my.data.frame1 &lt;- acled.api(
  email.address = "your.email.address",
  access.key = "your.access.key",
  region = c(1,7),
  start.date = "2018-11-01",
  end.date = "2018-11-31")
head(my.data.frame1)

# Email and access key provided as environment variables:
my.data.frame2 &lt;- acled.api(
  email.address = Sys.getenv("ACLED_EMAIL_ADDRESS"),
  access.key = Sys.getenv("ACLED_ACCESS_KEY"),
  region = c(1,7),
  start.date = "2020-01-01",
  end.date = "2020-11-31",
  interaction = c(10:18, 22:28),
  add.variables = c("geo_precision", "time_precision"))
sd(my.data.frame2$geo_precision)

## End(Not run)
</code></pre>


</div>