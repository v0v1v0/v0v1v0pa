<div class="container">

<table style="width: 100%;"><tr>
<td>occurs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Finding Subsequences
</h2>

<h3>Description</h3>

<p>Counts items, or finds subsequences of (integer) sequences.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  count(x, sorted = TRUE)

  occurs(subseq, series)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>array of items, i.e. numbers or characters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sorted</code></td>
<td>
<p>logical; default is to sort items beforehand.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subseq</code></td>
<td>
<p>vector of integers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>series</code></td>
<td>
<p>vector of integers.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>count</code> counts the items, similar to <code>table</code>, but as fast and
a more tractable output. If <code>sorted</code> then the total number per item
will be counted, else per repetition.
</p>
<p>If <code>m</code> and <code>n</code> are the lengths of <code>s</code> and <code>S</code> resp.,
then <code>occurs(s, S)</code> determines all positions <code>i</code> such that
<code>s == S[i, ..., i+m-1]</code>.
</p>
<p>The code is vectorized and relatively fast. It is intended to complement
this with an implementation of Rabin-Karp, and possibly Knuth-Morris-Pratt
and Boyer-Moore algorithms.
</p>


<h3>Value</h3>

<p><code>count</code> returns a list with components <code>v</code> the items and
<code>e</code> the number of times it apears in the array.
<code>occurs</code> returns a vector of indices, the positions where the
subsequence appears in the series.
</p>


<h3>Examples</h3>

<pre><code class="language-R">##  Examples
patrn &lt;- c(1,2,3,4)
exmpl &lt;- c(3,3,4,2,3,1,2,3,4,8,8,23,1,2,3,4,4,34,4,3,2,1,1,2,3,4)
occurs(patrn, exmpl)
## [1]  6 13 23

## Not run: 
set.seed(2437)
p &lt;- sample(1:20, 1000000, replace=TRUE)
system.time(i &lt;- occurs(c(1,2,3,4,5), p))  #=&gt;  [1] 799536
##  user  system elapsed 
## 0.017   0.000   0.017 [sec]

system.time(c &lt;- count(p))
##  user  system elapsed 
## 0.075   0.000   0.076 
print(c)
## $v
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
## $e
##  [1] 49904 50216 49913 50154 49967 50045 49747 49883 49851 49893
## [11] 50193 50024 49946 49828 50319 50279 50019 49990 49839 49990

## End(Not run)
</code></pre>


</div>