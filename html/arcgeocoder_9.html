<div class="container">

<table style="width: 100%;"><tr>
<td>arc_reverse_geo</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reverse Geocoding using the ArcGIS REST API</h2>

<h3>Description</h3>

<p>Generates an address from a latitude and longitude. Latitudes must be
in the range <code class="reqn">\left[-90, 90 \right]</code> and longitudes in the range
<code class="reqn">\left[-180, 180 \right]</code>. This function returns the
<code>tibble</code> associated with the query.
</p>


<h3>Usage</h3>

<pre><code class="language-R">arc_reverse_geo(
  x,
  y,
  address = "address",
  full_results = FALSE,
  return_coords = TRUE,
  verbose = FALSE,
  progressbar = TRUE,
  outsr = NULL,
  langcode = NULL,
  featuretypes = NULL,
  locationtype = NULL,
  custom_query = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>longitude values in numeric format. Must be in the range
<code class="reqn">\left[-180, 180 \right]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>latitude values in numeric format. Must be in the range
<code class="reqn">\left[-90, 90 \right]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>address</code></td>
<td>
<p>address column name in the output data (default  <code>"address"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>full_results</code></td>
<td>
<p>returns all available data from the API service. If
<code>FALSE</code> (default) only latitude, longitude and address columns are
returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_coords</code></td>
<td>
<p>return input coordinates with results if <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>if <code>TRUE</code> then detailed logs are output to the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progressbar</code></td>
<td>
<p>Logical. If <code>TRUE</code> displays a progress bar to indicate
the progress of the function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outsr</code></td>
<td>
<p>The spatial reference of the <code style="white-space: pre;">⁠x,y⁠</code> coordinates returned by a
geocode request. By default is <code>NULL</code> (i.e. the parameter won't be used in
the query). See <strong>Details</strong> and arc_spatial_references.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>langcode</code></td>
<td>
<p>Sets the language in which reverse-geocoded addresses are
returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>featuretypes</code></td>
<td>
<p>This parameter limits the possible match types returned.
By default is <code>NULL</code> (i.e. the parameter won't be used in the query).
See <strong>Details</strong>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locationtype</code></td>
<td>
<p>Specifies whether the output geometry of
<code>featuretypes = "PointAddress"</code> or <code>featuretypes = "Subaddress"</code> matches
should be the rooftop point or street entrance location. Valid values are
<code>NULL</code> (i.e. not using the parameter in the query), <code>rooftop</code> and <code>street</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>custom_query</code></td>
<td>
<p>API-specific parameters to be used, passed as a named
list.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>More info and valid values in the <a href="https://developers.arcgis.com/rest/geocode/api-reference/geocoding-reverse-geocode.htm">ArcGIS REST docs</a>.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> with the corresponding results. The <code style="white-space: pre;">⁠x,y⁠</code> values
returned by the API would be named <code style="white-space: pre;">⁠lon,lat⁠</code>. Note that these coordinates
correspond to the geocoded feature, and may be different of the <code style="white-space: pre;">⁠x,y⁠</code> values
provided as inputs.
</p>
<p>See the details of the output in
<a href="https://developers.arcgis.com/rest/geocode/api-reference/geocoding-service-output.htm">ArcGIS REST API Service output</a>.
</p>


<h3><code>outsr</code></h3>

<p>The spatial reference can be specified as either a well-known ID (WKID). If
not specified, the spatial reference of the output locations is the same as
that of the service ( WGS84, i.e. WKID = 4326)).
</p>
<p>See arc_spatial_references for values and examples.
</p>


<h3><code>featuretypes</code></h3>

<p>See <code>vignette("featuretypes", package = "arcgeocoder")</code> for a detailed
explanation of this parameter.
</p>
<p>This parameter may be used for filtering the type of feature to be returned
when geocoding. Possible values are:
</p>

<ul>
<li> <p><code>"StreetInt"</code>
</p>
</li>
<li> <p><code>"DistanceMarker"</code>
</p>
</li>
<li> <p><code>"StreetAddress"</code>
</p>
</li>
<li> <p><code>"StreetName"</code>
</p>
</li>
<li> <p><code>"POI"</code>
</p>
</li>
<li> <p><code>"Subaddress"</code>
</p>
</li>
<li> <p><code>"PointAddress"</code>
</p>
</li>
<li> <p><code>"Postal"</code>
</p>
</li>
<li> <p><code>"Locality"</code>
</p>
</li>
</ul>
<p>It is also possible to use several values as a vector
(<code>featuretypes = c("PointAddress", "StreetAddress")</code>).
</p>


<h3>References</h3>

<p><a href="https://developers.arcgis.com/rest/geocode/api-reference/geocoding-reverse-geocode.htm">ArcGIS REST <code>reverseGeocode</code></a>.
</p>


<h3>See Also</h3>

<p><code>tidygeocoder::reverse_geo()</code>
</p>
<p>Other functions for geocoding: 
<code>arc_geo()</code>,
<code>arc_geo_categories()</code>,
<code>arc_geo_multi()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">


arc_reverse_geo(x = -73.98586, y = 40.75728)

# Several coordinates
arc_reverse_geo(x = c(-73.98586, -3.188375), y = c(40.75728, 55.95335))

# With options: using some additional parameters
sev &lt;- arc_reverse_geo(
  x = c(-73.98586, -3.188375),
  y = c(40.75728, 55.95335),
  # Restrict to these feautures
  featuretypes = "POI,StreetInt",
  # Result on this WKID
  outsr = 102100,
  verbose = TRUE, full_results = TRUE
)

dplyr::glimpse(sev)


</code></pre>


</div>