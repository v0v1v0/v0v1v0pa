<div class="container">

<table style="width: 100%;"><tr>
<td>grid2stco</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert PRISM grid data to agricultural area weighted county data</h2>

<h3>Description</h3>

<p>The function calculates agricultural area weighted county values from PRISM grid data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">grid2stco(griddata, year)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>griddata</code></td>
<td>
<p>An output data.frame from <code>gddprism</code> or <code>pptprism</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>year of the griddata</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>grid2stco</code> converts an output data.frame from <code>gddprism</code> or <code>pptprism</code> to the county-level weighted average with agricultural areas in NLCD.<br>
If a single PRISM result is converted from grid to stco, the results are the same with the <code>stco</code> specification in <code>gddprism</code> or <code>pptprism</code>.<br>
This function would be helpful when cumulative precipitation or gdd are applied first and then calculate county-level values.<br>
The GDDs and precipitations in Schlenker and Roberts (2009) are replicable with these functions.<br><br>
The input of <code>griddata</code> should have the following variables.<br>
- For an output of <code>gddprism</code>: gridNum, stco, and gdd
<br>
- For an output of <code>pptprism</code>: gridNum, stco, and ppt
<br><br>
With the specified data year of <code>year</code>, the weights are applied as:<br>
- year &lt; 2004: agricultural areas in 2001 NLCD
<br>
- year = 2004 or 2005: agricultural areas in 2004 NLCD
<br>
- year = 2006 or 2007: agricultural areas in 2006 NLCD
<br>
- year = 2008, 2009, or 2010: agricultural areas in 2008 NLCD
<br>
- year = 2011 or 2012: agricultural areas in 2011 NLCD
<br>
- year = 2013, 2014, or 2015: agricultural areas in 2013 NLCD
<br>
- year = 2016, 2017, or 2018: agricultural areas in 2016 NLCD
<br>
- year &gt;= 2019: agricultural areas in 2019 NLCD
</p>


<h3>Value</h3>

<p>A data.frame of FIPS codes (stco) and growing degree days (GDDs) or precipitation (ppt)
</p>


<h3>References</h3>

<p>Schlenker, W. and M. Roberts. (2009) "Nonlinear temperature effects indicate severe damages to U.S. crop yields under climate change." <em>Proceedings of the National Academy of Sciences (PNAS)</em>. 15594-15598.
</p>


<h3>See Also</h3>

<p><code>gddprism, pptprism</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## PRISM data import
#######################################################
## Note: Need a PRISM raster to run this code
#######################################################
## Not run: 
pptdata &lt;- raster('./PRISM_ppt_stable_4kmD2_19960701_bil.bil')
## precipitation data by grid and stco
stcores &lt;- pptprism(pptdata,1996,'stco')
gridres &lt;- pptprism(pptdata,1996,'grid')
## Convert the gridres to stcores
converted &lt;- grid2stco(gridres,1996)
## Compare the results
converted$ppt[1:10]
stcores$ppt[1:10]

## End(Not run)
</code></pre>


</div>