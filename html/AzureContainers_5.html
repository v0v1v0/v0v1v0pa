<div class="container">

<table style="width: 100%;"><tr>
<td>agent_pool</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Utility function for specifying Kubernetes agent pools</h2>

<h3>Description</h3>

<p>Utility function for specifying Kubernetes agent pools
</p>


<h3>Usage</h3>

<pre><code class="language-R">agent_pool(name, count, size = "Standard_DS2_v2", os = "Linux",
  disksize = 0, use_scaleset = TRUE, low_priority = FALSE,
  autoscale_nodes = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>The name(s) of the pool(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>count</code></td>
<td>
<p>The number of nodes per pool.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>The VM type (size) to use for the pool. To see a list of available VM sizes, use the list_vm_sizes method for the resource group or subscription classes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>os</code></td>
<td>
<p>The operating system to use for the pool. Can be "Linux" or "Windows".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disksize</code></td>
<td>
<p>The OS disk size in gigabytes for each node in the pool. A value of 0 means to use the default disk size for the VM type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_scaleset</code></td>
<td>
<p>Whether to use a VM scaleset instead of individual VMs for this pool. A scaleset offers greater flexibility than individual VMs, and is the recommended method of creating an agent pool.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>low_priority</code></td>
<td>
<p>If this pool uses a scaleset, whether it should be made up of spot (low-priority) VMs. A spot VM pool is cheaper, but is subject to being evicted to make room for other, higher-priority workloads. Ignored if <code>use_scaleset=FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>autoscale_nodes</code></td>
<td>
<p>The cluster autoscaling parameters for the pool. To enable autoscaling, set this to a vector of 2 numbers giving the minimum and maximum size of the agent pool. Ignored if <code>use_scaleset=FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other named arguments, to be used as parameters for the agent pool.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>agent_pool</code> is a convenience function to simplify the task of specifying the agent pool for a Kubernetes cluster.
</p>


<h3>Value</h3>

<p>An object of class <code>agent_pool</code>, suitable for passing to the <code>create_aks</code> constructor method.
</p>


<h3>See Also</h3>

<p>create_aks, list_vm_sizes
</p>
<p><a href="https://docs.microsoft.com/en-us/rest/api/aks/managedclusters/createorupdate#managedclusteragentpoolprofile">Agent pool parameters on Microsoft Docs</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># pool of 5 Linux GPU-enabled VMs
agent_pool("pool1", 5, size="Standard_NC6s_v3")

# pool of 3 Windows Server VMs, 500GB disk size each
agent_pool("pool1", 3, os="Windows", disksize=500)

# enable cluster autoscaling, with a minimum of 1 and maximum of 10 nodes
agent_pool("pool1", 5, autoscale_nodes=c(1, 10))

# use individual VMs rather than scaleset
agent_pool("vmpool1", 3, use_scaleset=FALSE)

</code></pre>


</div>