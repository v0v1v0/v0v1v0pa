<div class="container">

<table style="width: 100%;"><tr>
<td>appe.lm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
<code class="reqn">L_1</code> and <code class="reqn">L_2</code> errors adjusted for predictor distributions
</h2>

<h3>Description</h3>

<p>Calculates adjusted <code class="reqn">L_1</code> and <code class="reqn">L_2</code> errors by predictor
distributions for a linear model. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">appe.lm(mdl, dat.train, dat.test, method = "uLSIF", sigma = NULL,
        lambda = NULL, kernel_num = NULL, fold = 5, stabilize = TRUE,
        qstb = 0.025, reps = 2000, conf.level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mdl</code></td>
<td>

<p>a <code>lm</code> object describing a prediction model to be evaluated. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat.train</code></td>
<td>

<p>same as in <code>appe.glm</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat.test</code></td>
<td>

<p>same as in <code>appe.glm</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>same as in <code>appe.glm</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>

<p>same as in <code>appe.glm</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>

<p>same as in <code>appe.glm</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernel_num</code></td>
<td>

<p>same as in <code>appe.glm</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fold</code></td>
<td>

<p>same as in <code>appe.glm</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stabilize</code></td>
<td>

<p>same as in <code>appe.glm</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qstb</code></td>
<td>

<p>same as in <code>appe.glm</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reps</code></td>
<td>

<p>same as in <code>appe.glm</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>

<p>same as in <code>appe.glm</code>.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Adjusted and non-adjusted estimates of <code class="reqn">L_1</code> and <code class="reqn">L_2</code> errors
are provided as matrix form. 
"L1" and "L2" indicate non-adjusted versions, "L1 adjusted by score"
and "L2 adjusted by score" indicate adjusted versions by linear
predictors distribution, "L1 adjusted by predictors" and
"L2 adjusted by predictors" indicate adjusted versions by
predictor distributions (multi-dimensionally). 
For confidence intervals, "Percentile" indicates a confidence interval
by percentile method and "Approx" indicates approximated versions
by Normal distribution.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(100)

# generating development data
n0  = 100
Z   = cbind(rbeta(n0, 3, 3), rbeta(n0, 3, 3))
Y   = apply(Z, 1, function(xx) { rlnorm(1, sum(c(1, 1) * xx), 0.3) })
dat = data.frame(Za=Z[,1], Zb=Z[,2], Y=Y)

# the model to be evaluated
mdl = lm(Y~ Za + Zb, data=dat)

# generating validation dataset 
n1   = 100
Z1   = cbind(rbeta(n0, 3.5, 2.5), rbeta(n0, 3.5, 2.5))
Y1   = apply(Z1, 1, function(xx) { rlnorm(1, sum(c(1, 1) * xx), 0.3) })
dat1 = data.frame(Za=Z1[,1], Zb=Z1[,2], Y=Y1)

# calculation of L1 and L2 for this model
appe.lm(mdl, dat, dat1, reps=0)
</code></pre>


</div>