<div class="container">

<table style="width: 100%;"><tr>
<td>tsACV</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform time-series cross-validation</h2>

<h3>Description</h3>

<p>Function <code>tsACV()</code> computes contrasts between forecasts produced by a given algorithm and the original time-series on which the algorithm is trained.
This can then be used to estimate the loss of the algorithm.
Unlike the similar <code>tsCV()</code> function from the <code>'forecast'</code> package, <code>tsACV()</code> also records in-sample contrasts as these can be leveraged to produce more accurate out-of-sample loss estimates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tsACV(
  y,
  algorithm,
  m,
  h = 1,
  v = 1,
  xreg = NULL,
  lossFunction = function(y, yhat) {     (y - yhat)^2 },
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Univariate time-series object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>algorithm</code></td>
<td>
<p>Algorithm which is to be applied to the time-series. The object which the algorithm produces should respond to <code>fitted</code> and <code>forecast</code> methods.
Alternatively in the case of more complex custom algorithms, the algorithm may be a function which takes named arguments <code style="white-space: pre;">⁠("yInSample", "yOutSample", "h")⁠</code> or <code style="white-space: pre;">⁠("yInSample", "yOutSample", "h", "xregInSample", "xregOutSample")⁠</code> as inputs and produces a list with named elements <code style="white-space: pre;">⁠("yhatInSample", "yhatOutSample")⁠</code> containing vectors of in-sample and out-of-sample forecasts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Length of the window on which the algorithm should be trained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>Number of predictions made after a single training of the algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>Number of periods by which the estimation window progresses forward once the predictions are generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xreg</code></td>
<td>
<p>Matrix of exogenous regressors supplied to the algorithm (if applicable).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lossFunction</code></td>
<td>
<p>Loss function used to compute contrasts (defaults to squared error).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters passed to the algorithm.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Matrix of computed contrasts <code>Phi</code>. Each row corresponds to a particular period of the <code>y</code> time-series and each column corresponds to a particular location of the training window.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(1)
y &lt;- rnorm(40)
m &lt;- 36
h &lt;- 1
v &lt;- 1
tsACV(y, forecast::Arima, m = m, h = h, v = v)

</code></pre>


</div>