<div class="container">

<table style="width: 100%;"><tr>
<td>groupedProfilePlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Grouped Soil Profile Plot</h2>

<h3>Description</h3>

<p>Plot a collection of soil profiles, sorted by group.
</p>
<p>The left-right ordering of groups can be adjusted by converting
<code>groups</code> into a factor and explicitly setting factor levels.
Alpha-numeric ordering is used for all other types.
</p>


<h3>Usage</h3>

<pre><code class="language-R">groupedProfilePlot(
  x,
  groups,
  group.name.offset = -5,
  group.name.cex = 0.75,
  group.line.col = "RoyalBlue",
  group.line.lwd = 2,
  group.line.lty = 2,
  break.style = c("line", "arrow", "both"),
  break.offset = 0.5,
  arrow.offset = group.name.offset + 5,
  arrow.length = 0.1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>SoilProfileCollection</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>the name of a site-level attribute that defines groups, factor
levels will influence plotting order</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group.name.offset</code></td>
<td>
<p>vertical offset for group names, single numeric
value or vector of offsets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group.name.cex</code></td>
<td>
<p>font size for group names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group.line.col</code></td>
<td>
<p>color for line that splits groups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group.line.lwd</code></td>
<td>
<p>width of line that splits groups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group.line.lty</code></td>
<td>
<p>style of line that splits groups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>break.style</code></td>
<td>
<p>style of group boundaries: "line", "arrow", "both"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>break.offset</code></td>
<td>
<p>horizontal offset used to place vertical breaks and/or arrows, shifted slightly to the right of default when <code>hz.depths=TRUE</code> is passed to <code>plotSPC()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow.offset</code></td>
<td>
<p>vertical offset for "arrow" style boundaries, single
numeric value or vector of offsets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow.length</code></td>
<td>
<p>value passed to <code>arrows</code> to define arrow head size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to <code>plotSPC</code></p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>D.E. Beaudette
</p>


<h3>See Also</h3>

<p><code>plotSPC</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# sample data
data(sp1)
# convert colors from Munsell to hex-encoded RGB
sp1$soil_color &lt;- with(sp1, munsell2rgb(hue, value, chroma))

# promote to SoilProfileCollection
depths(sp1) &lt;- id ~ top + bottom
site(sp1) &lt;- ~ group

# add a groups
sp1$group.2 &lt;- sprintf("%s-%s", rev(LETTERS[1:3]), sp1$group)

# convert fake groupt to factor with new levels
sp1$group.3 &lt;- factor(sp1$group.2, levels=c('C-2', 'B-2', 'A-2', 'C-1', 'B-1', 'A-1'))

# plot profiles, sorted and annotated by 'group' (integers)
par(mar=c(1,1,1,1))
groupedProfilePlot(sp1, groups='group', max.depth=150, group.name.offset = -5, id.style='side')

# plot profiles, sorted and annotated by 'group.2' (characters)
par(mar=c(1,1,1,1))
groupedProfilePlot(sp1, groups='group.2', max.depth=150, group.name.offset = -5, id.style='side')

# plot profiles, sorted and annotated by 'group.3' (characters)
par(mar=c(1,1,1,1))
groupedProfilePlot(sp1, groups='group.3', max.depth=150, group.name.offset = -5, id.style='side')


# make fake site-level attribute and adjust levels
sp1$new.group &lt;- sample(letters[1:3], size=length(sp1), replace=TRUE)

# tabulate pedons / group
tab &lt;- table(sp1$new.group)

# sort large -&gt; small
tab &lt;- sort(tab, decreasing = TRUE)

# set levels based on sorted tabulation
# assign custom labels
sp1$new.group &lt;- factor(sp1$new.group, levels=names(tab),
labels=paste0(names(tab), ' (', tab, ')'))

groupedProfilePlot(sp1, groups='new.group', max.depth=150,
group.name.offset = -10, id.style='side')

# offsets can be set using a vector of values, recycled as needed
groupedProfilePlot(sp1, groups='new.group', max.depth=150,
group.name.offset=c(-10, -5), id.style='side')

# annotate with arrows instead of vertical lines
groupedProfilePlot(sp1, groups='new.group', max.depth=150,
group.name.offset=c(-10, -12), break.style='arrow', arrow.offset=-3,
group.line.lty = 1, group.line.lwd = 1, id.style='side')


## Not run: 
# more complete example using data from soilDB package
data(loafercreek, package='soilDB')
par(mar=c(1,1,1,1))
# lines
groupedProfilePlot(loafercreek, groups='hillslopeprof', group.name.cex = 0.5,
group.name.offset = -10)

# arrows
groupedProfilePlot(loafercreek, groups='hillslopeprof', group.name.cex = 0.5,
group.name.offset = -10, break.style ='arrow', group.line.lty = 1,
group.line.lwd = 1)

# both
groupedProfilePlot(loafercreek, groups='hillslopeprof', group.name.cex = 0.5,
group.name.offset = -10, break.style ='both', group.line.lty = 1,
group.line.lwd = 1)

## End(Not run)

</code></pre>


</div>