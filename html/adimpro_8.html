<div class="container">

<table style="width: 100%;"><tr>
<td>combine</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pixelwise operations on a pair of images</h2>

<h3>Description</h3>

<p>The function allows to perform pixelwise operations, specified by a
supplied function, on a pair of images. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">combine(img1, img2, fun = "+", rescale = TRUE, compress = TRUE, gammatype = "None",
        whitep = "D65", cspace = "Adobe", xmode = "RGB", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>img1</code></td>
<td>
<p> image, object of class adimpro </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>img2</code></td>
<td>
<p> image, object of class adimpro, need to have the same dimension as img1 </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p> A function or primitive of two (or more) arguments
specifying the operation. The first argument corresponds to 
grey/color-values in img1, the second to img2. Auxiliary parameters can passed throug <code>"..."</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rescale</code></td>
<td>
<p> logical: if TRUE the resulting image is rescaled
to fit into the range of possible grey/color-values, if FALSE
values outside the range are truncated. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compress</code></td>
<td>
<p> logical, determines if image data are stored in raw-format. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gammatype</code></td>
<td>
<p> character, determines the type of gamma correction within the image.
"ITU" stands for ITU-R BT.709-3 as e.g. used by <code>dcraw</code>. Alternatives recognized
within the package are "None", "sRGB" and "CIE" (CIE L*). Please specify if you know
that your image is not gamma corrected using ITU-R BT.709-3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>whitep</code></td>
<td>
<p>White point in <code>xyY</code> space. Can be given as one of (character)
<code>c("A","B","C","E","D50","D55","D65","D75","F2","F7","F11")</code> or as a two element numeric
vector of chromatic <code>xy</code> coordinates. <code>"D65"</code> corresponds to the default white point of <code>"sRGB"</code> and <code>"Adobe"</code> RGB-spaces. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cspace</code></td>
<td>
<p> defines the output color space, default "sRGB" (sRGB D65), alternatives are 
"RAW" (Camera specific), "Adobe"
(Adobe 1998 D65), "wGamut" (Wide Gamut  D65), "kodak" (Kodak ProPhoto D65)
and "XYZ", see manpages of dcraw.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xmode</code></td>
<td>
<p><code>xmode</code> determines how to interpret the values in <code>x</code> if <code>length(dim(x))==3</code>.
Implemented are <code>xmode="RGB"</code> (default) and <code>xmode="HSI"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> additional parameters for function <code>fun</code> </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are two mayor applications for this function. First it allows to add noise to an image by first creating an image that contains the noise  and then adding this image using <code>fun="+"</code>. Second it offers a way to replace parts of an image, see examples.
</p>


<h3>Value</h3>

<p>object of class "adimpro" containing the image. The object has the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>img</code></td>
<td>
<p> array containing the color values in the color space specified by <code>value$type</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p> the color space.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depth</code></td>
<td>
<p> color depth, here "16bit".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dim</code></td>
<td>
<p> vector of length 2 containing the number of pixel in horizontal and vertival direction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p> the argument <code>file</code> identifying the image.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cspace</code></td>
<td>
<p> the type of rgb space used, as specified by <code>cspace</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interp</code></td>
<td>
<p> interpolation applied by dcraw, as specified by <code>interp</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p> has a gamma correction been applied, here FALSE for <code>read.raw</code> and TRUE for <code>read.image</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gammatype</code></td>
<td>
<p> type of gamma correction <code>read.image.</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wb</code></td>
<td>
<p> type of white balance, as specified by <code>wb</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compressed</code></td>
<td>
<p> image data are stored as raw-vector (TRUE) or array of integers (FALSE).</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p> Karsten Tabelow <a href="mailto:tabelow@wias-berlin.de">tabelow@wias-berlin.de</a> and Joerg Polzehl <a href="mailto:polzehl@wias-berlin.de">polzehl@wias-berlin.de</a> </p>


<h3>See Also</h3>

 <p><code>make.image</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: demo(combine)
</code></pre>


</div>