<div class="container">

<table style="width: 100%;"><tr>
<td>canvas_flow</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Draw A Flow Field</h2>

<h3>Description</h3>

<p>This function draws flow fields on a canvas. The algorithm simulates the flow of points through a field of angles which can be set manually or generated from the predictions of a supervised learning method (i.e., knn, svm, random forest) trained on randomly generated data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">canvas_flow(
  colors,
  background = "#fafafa",
  lines = 500,
  lwd = 0.05,
  iterations = 100,
  stepmax = 0.01,
  outline = c("none", "circle", "square"),
  polar = FALSE,
  angles = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>
<p>a string or character vector specifying the color(s) used for the artwork.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>background</code></td>
<td>
<p>a character specifying the color used for the background.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lines</code></td>
<td>
<p>the number of lines to draw.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>expansion factor for the line width.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iterations</code></td>
<td>
<p>the maximum number of iterations for each line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stepmax</code></td>
<td>
<p>the maximum proportion of the canvas covered in each iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outline</code></td>
<td>
<p>character. Which outline to use for the artwork. Possible options are <code>none</code> (default), <code>circle</code> or <code>square</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>polar</code></td>
<td>
<p>logical. Whether to draw the flow field with polar coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angles</code></td>
<td>
<p>optional, a 200 x 200 matrix containing the angles in the flow field, or a character indicating the type of noise to use (<code>svm</code>, <code>knn</code>, <code>rf</code>, <code>perlin</code>, <code>cubic</code>, <code>simplex</code>, or <code>worley</code>). If <code>NULL</code> (the default), the noise type is chosen randomly.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>ggplot</code> object containing the artwork.
</p>


<h3>Author(s)</h3>

<p>Koen Derks, <a href="mailto:koen-derks@hotmail.com">koen-derks@hotmail.com</a>
</p>


<h3>References</h3>

<p><a href="https://tylerxhobbs.com/essays/2020/flow-fields">https://tylerxhobbs.com/essays/2020/flow-fields</a>
</p>


<h3>See Also</h3>

<p><code>colorPalette</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(1)

# Simple example
canvas_flow(colors = colorPalette("dark2"))

# Outline example
canvas_flow(
  colors = colorPalette("vrolik1"), lines = 10000,
  outline = "circle", iterations = 10, angles = "svm"
)

# Polar example
canvas_flow(
  colors = colorPalette("vrolik2"), lines = 300,
  lwd = 0.5, polar = TRUE
)

# Advanced example
angles &lt;- matrix(0, 200, 200)
angles[1:100, ] &lt;- seq(from = 0, to = 2 * pi, length = 100)
angles[101:200, ] &lt;- seq(from = 2 * pi, to = 0, length = 100)
angles &lt;- angles + rnorm(200 * 200, sd = 0.1)
canvas_flow(
  colors = colorPalette("tuscany1"), background = "black",
  angles = angles, lwd = 0.4, lines = 1000, stepmax = 0.001
)


</code></pre>


</div>