<div class="container">

<table style="width: 100%;"><tr>
<td>createClusterST</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a short-term storage cluster</h2>

<h3>Description</h3>

<p><img src="../help/figures/badge_api_ok.svg" alt="Antares API OK"></p>
<p>Create a new ST-storage cluster for &gt;= v8.6.0 Antares studies.
</p>


<h3>Usage</h3>

<pre><code class="language-R">createClusterST(
  area,
  cluster_name,
  group = "Other1",
  storage_parameters = storage_values_default(),
  PMAX_injection = NULL,
  PMAX_withdrawal = NULL,
  inflows = NULL,
  lower_rule_curve = NULL,
  upper_rule_curve = NULL,
  add_prefix = TRUE,
  overwrite = FALSE,
  opts = antaresRead::simOptions()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>
<p>The area where to create the cluster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_name</code></td>
<td>
<p>Name for the cluster, it will prefixed by area name, unless you set <code>add_prefix = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>Group of the cluster, one of : "PSP_open", "PSP_closed", "Pondage", "Battery", "Other".
It corresponds to the type of stockage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>storage_parameters</code></td>
<td>
<p><code>list </code> Parameters to write in the Ini file (see <code>Note</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PMAX_injection</code></td>
<td>
<p>Modulation of charging capacity on an 8760-hour basis. <code>numeric</code> {0;1} (8760*1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PMAX_withdrawal</code></td>
<td>
<p>Modulation of discharging capacity on an 8760-hour basis. <code>numeric</code> {0;1} (8760*1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inflows</code></td>
<td>
<p>Algebraic deviation of the state of charge of the storage, which does not induce any power
generation or consumption on the system <code>numeric</code> {&lt;0;&gt;0} (8760*1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower_rule_curve</code></td>
<td>
<p>This is the lower limit for filling the stock imposed each hour. <code>numeric</code> {0;1} (8760*1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper_rule_curve</code></td>
<td>
<p>This is the upper limit for filling the stock imposed each hour. <code>numeric</code> {0;1} (8760*1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_prefix</code></td>
<td>
<p>If <code>TRUE</code> (the default), <code>cluster_name</code> will be prefixed by area name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical, overwrite the cluster or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opts</code></td>
<td>
<p>List of simulation parameters returned by the function
<code>antaresRead::setSimulationPath()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An updated list containing various information about the simulation.
</p>


<h3>Note</h3>

<p>To write parameters to the <code>list.ini</code> file. You have function <code>storage_values_default()</code> who is called by default.
This function return <code>list</code> containing properties according study version for cluster <code>st-storage</code>.
</p>
<p>Study version &gt;= "8.6.0" :
</p>

<ul>
<li>
<p> efficiency = 1  (<code>numeric</code> {0;1})
</p>
</li>
<li>
<p> reservoircapacity = 0  (<code>integer</code> &gt;= 0)
</p>
</li>
<li>
<p> initiallevel = 0  (<code>numeric</code> {0;1})
</p>
</li>
<li>
<p> withdrawalnominalcapacity = 0  (<code>integer</code> &gt;= 0)
</p>
</li>
<li>
<p> injectionnominalcapacity = 0  (<code>integer</code> &gt;= 0)
</p>
</li>
<li>
<p> initialleveloptim = FALSE (<code>logical</code> TRUE/FALSE)
</p>
</li>
</ul>
<p>Study version &gt;= "8.8.0" (update + new parameter) :
</p>

<ul>
<li>
<p> initiallevel = 0.5  (<code>numeric</code> {0;1})
</p>
</li>
<li>
<p> enabled = TRUE (<code>logical</code> TRUE/FALSE)
</p>
</li>
</ul>
<p>By default, these values don't allow you to have an active cluster (See example section.)
</p>


<h3>See Also</h3>

<p>All the functions needed to manage a storage cluster,
<code>antaresRead::readClusterSTDesc()</code>, <code>editClusterST()</code>, <code>removeClusterST()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# list for cluster parameters : 
storage_values_default()

# create a cluster by default (with default parameters values + default data values):
createClusterST(area = "my_area", 
               "my_cluster") 
  
# Read cluster in study                            
 # by default, cluster name is prefixed 
 # by the area name
levels(readClusterSTDesc()$cluster)
# &gt; "my_area_my_cluster"

# create cluster with custom parameter and data
  # use the function to create your own list of parameters (no Antares optim)
  # if you want optim (my_parameters$initialleveloptim &lt;- TRUE)
my_parameters &lt;- storage_values_default()
my_parameters$efficiency &lt;- 0.5
my_parameters$initiallevel &lt;- 10
my_parameters$withdrawalnominalcapacity &lt;- 100
my_parameters$injectionnominalcapacity &lt;- 1000
my_parameters$reservoircapacity &lt;- 10000

  # time series 
inflow_data &lt;- matrix(3, 8760)
ratio_data &lt;- matrix(0.7, 8760)

createClusterST(area = "my_area", 
                "my_cluster",
                storage_parameters = my_parameters,
                PMAX_withdrawal = ratio_data, 
                inflows = inflow_data, 
                PMAX_injection = ratio_data, 
                lower_rule_curve = ratio_data, 
                upper_rule_curve = ratio_data)

## End(Not run)

</code></pre>


</div>