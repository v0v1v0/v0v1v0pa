<div class="container">

<table style="width: 100%;"><tr>
<td>Sim-Functions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Merger Simulation With User-Supplied Demand Parameters</h2>

<h3>Description</h3>

<p>Simulates the price effects of a merger between two firms
with user-supplied demand parameters under the
assumption that all firms in the market are playing either a
differentiated products Bertrand pricing game, 2nd price (score) auction, or bargaining game.
</p>
<p>Let k denote the number of products produced by all firms below.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim(
  prices,
  supply = c("bertrand", "auction", "bargaining", "bargaining2nd"),
  demand = c("Linear", "AIDS", "LogLin", "Logit", "CES", "LogitNests", "CESNests",
    "LogitCap"),
  demand.param,
  ownerPre,
  ownerPost,
  nests,
  capacities,
  mcDelta = rep(0, length(prices)),
  subset = rep(TRUE, length(prices)),
  insideSize = 1,
  priceOutside,
  priceStart,
  bargpowerPre = rep(0.5, length(prices)),
  bargpowerPost = bargpowerPre,
  labels = paste("Prod", 1:length(prices), sep = ""),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prices</code></td>
<td>
<p>A length k vector of product prices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>supply</code></td>
<td>
<p>A character string indicating how firms compete with one another. Valid
values are "bertrand" (Nash Bertrand),  "auction2nd"
(2nd score auction), "bargaining", or "bargaining2nd".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>demand</code></td>
<td>
<p>A character string indicating the type of demand system
to be used in the merger simulation. Supported demand systems are
linear (‘Linear’), log-linear(‘LogLin’), logit (‘Logit’), nested logit
(‘LogitNests’), ces (‘CES’), nested CES (‘CESNests’) and capacity
constrained Logit (‘LogitCap’).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>demand.param</code></td>
<td>
<p>See Below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ownerPre</code></td>
<td>
<p>EITHER a vector of length k whose values
indicate which firm produced a product pre-merger OR
a k x k matrix of pre-merger ownership shares.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ownerPost</code></td>
<td>
<p>EITHER a vector of length k whose values
indicate which firm produced a product after the merger OR
a k x k matrix of post-merger ownership shares.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nests</code></td>
<td>
<p>A length k vector identifying the nest that each
product belongs to. Must be supplied when ‘demand’ equals ‘CESNests’ and
‘LogitNests’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>capacities</code></td>
<td>
<p>A length k vector of product capacities. Must be
supplied when ‘demand’ equals ‘LogitCap’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcDelta</code></td>
<td>
<p>A vector of length k where each element equals the
proportional change in a product's marginal costs due to
the merger. Default is 0, which assumes that the merger does not
affect any products' marginal cost.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>A vector of length k where each element equals TRUE if
the product indexed by that element should be included in the
post-merger simulation and FALSE if it should be excluded.Default is a
length k vector of TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>insideSize</code></td>
<td>
<p>A length 1 vector equal to total units sold if ‘demand’ equals "logit", or total revenues if
‘demand’ equals "ces".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priceOutside</code></td>
<td>
<p>A length 1 vector indicating the price of the
outside good. This option only applies to the ‘Logit’ class and its child classes
Default for ‘Logit’,‘LogitNests’, and ‘LogitCap’ is 0,
and for ‘CES’ and ‘CesNests’ is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priceStart</code></td>
<td>
<p>A length k vector of starting values used to solve for
equilibrium price. Default is the ‘prices’ vector for all values of
demand except for ‘AIDS’, which is set equal to a vector of 0s.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bargpowerPre</code></td>
<td>
<p>A length k vector of pre-merger bargaining power parameters. Values
must be between 0 (sellers have the power) and 1 (buyers the power). Ignored if ‘supply’ not equal
to "bargaining" or bargaining2nd.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bargpowerPost</code></td>
<td>
<p>A length k vector of post-merger bargaining power parameters. Values
must be between 0 (sellers have the power) and 1 (buyers the power). Default is ‘bargpowerPre’.
Ignored if ‘supply’ not equal to "bargaining".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>A k-length vector of labels. Default is “Prod#”, where
‘#’ is a number between 1 and the length of ‘prices’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional options to feed to the
optimizer used to solve for equilibrium prices.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Using user-supplied demand parameters,
<code>sim</code> simulates the effects of a merger in a market where
firms are playing a differentiated products pricing game.
</p>
<p>If ‘demand’ equals ‘Linear’, ‘LogLin’, or
‘AIDS’, then ‘demand.param’ must be a
list containing ‘slopes’, a k x k matrix of slope coefficients, and
‘intercepts’, a length-k vector of intercepts. Additionally, if
‘demand’ equals ‘AIDS’, ‘demand.param’ must contain ‘mktElast’, an
estimate of aggregate market elasticity.  For ‘Linear’
demand models, <code>sim</code> returns an error if any intercepts are
negative, and for both ‘Linear’, ‘LogLin’, and ‘AIDS’ models,  <code>sim</code>
returns an error if not all diagonal elements of the slopes matrix are
negative.
</p>
<p>If ‘demand’ equals ‘Logit’ or ‘LogitNests’, then
‘demand.param’ must equal a list containing
</p>

<ul>
<li>
<p>alphaThe price coefficient.
</p>
</li>
<li>
<p>meanvalA length-k vector of mean valuations ‘meanval’. If
none of the values of ‘meanval’ are zero, an outside good is assumed
to exist.
</p>
</li>
</ul>
<p>If demand equals ‘CES’ or ‘CESNests’, then
‘demand.param’ must equal a list containing
</p>

<ul>
<li>
<p>gamma The price coefficient,
</p>
</li>
<li>
<p>alphaThe coefficient on the numeraire good. May instead be
calibrated using ‘shareInside’,
</p>
</li>
<li>
<p>meanvalA length-k vector of mean valuations ‘meanval’. If
none of the values of ‘meanval’ are zero, an outside good is assumed
to exist,
</p>
</li>
<li>
<p>shareInside The budget share of all products in the
market. Default is 1, meaning that all consumer wealth is spent on
products in the market. May instead be specified using ‘alpha’.
</p>
</li>
</ul>
<h3>Value</h3>

<p><code>sim</code> returns an instance of the class specified by the
‘demand’ argument.
</p>


<h3>Author(s)</h3>

<p>Charles Taragin <a href="mailto:ctaragin+antitrustr@gmail.com">ctaragin+antitrustr@gmail.com</a>
</p>


<h3>See Also</h3>

<p>The S4 class documentation for: <code>Linear</code>,
<code>AIDS</code>, <code>LogLin</code>, <code>Logit</code>,
<code>LogitNests</code>, <code>CES</code>, <code>CESNests</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Calibration and simulation results from a merger between Budweiser and
## Old Style. Note that the in the following model there is no outside
## good; BUD's mean value has been normalized to zero.

## Source: Epstein/Rubenfeld 2004, pg 80


prodNames &lt;- c("BUD","OLD STYLE","MILLER","MILLER-LITE","OTHER-LITE","OTHER-REG")
ownerPre &lt;-c("BUD","OLD STYLE","MILLER","MILLER","OTHER-LITE","OTHER-REG")
ownerPost &lt;-c("BUD","BUD","MILLER","MILLER","OTHER-LITE","OTHER-REG")
nests &lt;- c("Reg","Reg","Reg","Light","Light","Reg")

price    &lt;- c(.0441,.0328,.0409,.0396,.0387,.0497)

demand.param=list(alpha=-48.0457,
                  meanval=c(0,0.4149233,1.1899885,0.8252482,0.1460183,1.4865730)
)

sim.logit &lt;- sim(price,supply="bertrand",demand="Logit",demand.param,
                 ownerPre=ownerPre,ownerPost=ownerPost)



print(sim.logit)           # return predicted price change
summary(sim.logit)         # summarize merger simulation

elast(sim.logit,TRUE)      # returns premerger elasticities
elast(sim.logit,FALSE)     # returns postmerger elasticities

diversion(sim.logit,TRUE)  # return premerger diversion ratios
diversion(sim.logit,FALSE) # return postmerger diversion ratios


cmcr(sim.logit)            #calculate compensating marginal cost reduction
upp(sim.logit)             #calculate Upwards Pricing Pressure Index

CV(sim.logit)              #calculate representative agent compensating variation

</code></pre>


</div>