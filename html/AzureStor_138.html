<div class="container">

<table style="width: 100%;"><tr>
<td>create_blob_snapshot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create, list and delete blob snapshots</h2>

<h3>Description</h3>

<p>Create, list and delete blob snapshots
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_blob_snapshot(container, blob, ...)

list_blob_snapshots(container, blob)

delete_blob_snapshot(container, blob, snapshot, confirm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>container</code></td>
<td>
<p>A blob container.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blob</code></td>
<td>
<p>The path/name of a blob.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>For <code>create_blob_snapshot</code>, an optional list of name-value pairs that will be treated as the metadata for the snapshot. If no metadata is supplied, the metadata for the base blob is copied to the snapshot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>snapshot</code></td>
<td>
<p>For <code>delete_blob_snapshot</code>, the specific snapshot to delete. This should be a datetime string, in the format <code>yyyy-mm-ddTHH:MM:SS.SSSSSSSZ</code>. To delete <em>all</em> snapshots for the blob, set this to <code>"all"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confirm</code></td>
<td>
<p>Whether to ask for confirmation on deleting a blob's snapshots.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Blobs can have <em>snapshots</em> associated with them, which are the contents and optional metadata for the blob at a given point in time. A snapshot is identified by the date and time on which it was created.
</p>
<p><code>create_blob_snapshot</code> creates a new snapshot, <code>list_blob_snapshots</code> lists all the snapshots, and <code>delete_blob_snapshot</code> deletes a given snapshot or all snapshots for a blob.
</p>
<p>Note that snapshots are only supported if the storage account does NOT have hierarchical namespaces enabled.
</p>


<h3>Value</h3>

<p>For <code>create_blob_snapshot</code>, the datetime string that identifies the snapshot.
</p>
<p>For <code>list_blob_snapshots</code> a vector of such strings, or NULL if the blob has no snapshots.
</p>


<h3>See Also</h3>

<p>Other AzureStor functions that support blob snapshots by passing a <code>snapshot</code> argument: download_blob, get_storage_properties, get_storage_metadata
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

cont &lt;- blob_container("https://mystorage.blob.core.windows.net/mycontainer", key="access_key")

snap_id &lt;- create_blob_snapshot(cont, "myfile", tag1="value1", tag2="value2")

list_blob_snapshots(cont, "myfile")

get_storage_properties(cont, "myfile", snapshot=snap_id)

# returns list(tag1="value1", tag2="value2")
get_storage_metadata(cont, "myfile", snapshot=snap_id)

download_blob(cont, "myfile", snapshot=snap_id)

# delete all snapshots
delete_blob_snapshots(cont, "myfile", snapshot="all")


## End(Not run)
</code></pre>


</div>