<div class="container">

<table style="width: 100%;"><tr>
<td>aggregate_age_counts-deprecated</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aggregate counts across ages</h2>

<h3>Description</h3>

<p>DEPRECATED: <code>reaggregate_counts()</code> can be used as an alternative.
</p>
<p><code>aggregate_age_counts()</code> provides aggregation of counts across ages (in
years). It is similar to a <code>cut()</code> and <code>tapply()</code> pattern but optimised for
speed over flexibility. It takes a specified set of breaks representing the
left hand limits of a closed open interval, i.e [x, y), and returns the
corresponding interval and upper bounds. The resulting intervals span from
the minimum break through to the maximum age. Missing values are grouped as
NA.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aggregate_age_counts(
    counts,
    ages = seq_along(counts) - 1L,
    breaks
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ages</code></td>
<td>
<p><code style="white-space: pre;">⁠[numeric]⁠</code>.
</p>
<p>Vector of age in years.
</p>
<p>Double values are coerced to integer prior to categorisation / aggregation.
</p>
<p>For <code>aggregate_age_counts()</code>, these must corresponding to the <code>counts</code> entry
and will defaults to 0:(N-1) where <code>N</code> is the number of counts present.
</p>
<p>No (non-missing) age can be less than the minimum break.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p><code style="white-space: pre;">⁠[numeric]⁠</code>.
</p>
<p>1 or more cut points in increasing (strictly) order.
</p>
<p>These correspond to the left hand side of the desired intervals (e.g. the
closed side of [x, y).
</p>
<p>Double values are coerced to integer prior to categorisation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>counts</code></td>
<td>
<p><code style="white-space: pre;">⁠[numeric]⁠</code>.
</p>
<p>Vector of counts to be aggregated.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame with 4 entries; <code>interval</code>, <code>lower_bound</code>, <code>upper_bound</code> and an
associated <code>count</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# default ages generated if only counts provided (here ages will be 0:64)
aggregate_age_counts(counts = 1:65, breaks = c(0L, 1L, 5L, 15L, 25L, 45L, 65L))

# NA ages are handled with their own grouping
ages &lt;- 1:65
ages[1:44] &lt;- NA
aggregate_age_counts(
    counts = 1:65,
    ages = ages,
    breaks = c(0L, 1L, 5L, 15L, 25L, 45L, 65L)
)

</code></pre>


</div>