<div class="container">

<table style="width: 100%;"><tr>
<td>regAbcrf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Create a reg-ABC-RF object: a regression random forest from a reference table aimed out predicting posterior expectation, variance and quantiles for a parameter</h2>

<h3>Description</h3>

<p><code>regAbcrf</code> constructs a regression random forest from a reference table towards predicting posterior expectations, variances and quantiles of a parameter.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'formula'
regAbcrf(formula, data, ntree=500,
mtry=max(floor((dim(data)[2]-1)/3), 1), sampsize=min(1e5, nrow(data)),
paral=FALSE, ncores=if(paral) max(detectCores()-1,1) else 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula: left of ~, variable representing
the response variable; right of ~, summary statistics of the reference table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing the reference table, composed of response variable (parameter) and summary statistics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntree</code></td>
<td>
<p>number of trees to grow in the forest, by default 500 trees.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mtry</code></td>
<td>
<p>Number of variables to possibly split at in each node. Default is the minimum between 1 and the number of variables divided by 3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampsize</code></td>
<td>
<p>size of the sample from the reference table used to grow a tree of the regression forest, by default the minimum between the number of elements of the reference table and 100,000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paral</code></td>
<td>
<p>a boolean that indicates if the calculations of the regression random forest should be parallelized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncores</code></td>
<td>
<p>the number of CPU cores to use. If paral=TRUE, it is used the number of CPU cores minus 1. If ncores is not specified and <code>detectCores</code> does not detect the number of CPU cores with success then 1 core is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed on to <code>ranger</code> used to construct the regression random forest that predicts the response variable.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>regAbcrf</code>, which is a list with the
following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>the original call to <code>regAbcrf</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>the formula used to construct the regression random forest,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.rf</code></td>
<td>
<p>an object of class <code>ranger</code> containing the trained forest with the reference table.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Raynal L., Marin J.-M. Pudlo P., Ribatet M., Robert C. P. and Estoup, A. (2019)
<em>ABC random forests for Bayesian parameter inference</em> Bioinformatics
<a href="https://doi.org/10.1093/bioinformatics/bty867">doi:10.1093/bioinformatics/bty867</a>
</p>


<h3>See Also</h3>

<p><code>plot.regAbcrf</code>,
<code>err.regAbcrf</code>,
<code>predict.regAbcrf</code>,
<code>covRegAbcrf</code>,
<code>ranger</code>,
<code>densityPlot</code>,
<code>predictOOB</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(snp)
modindex &lt;- snp$modindex
sumsta &lt;- snp$sumsta[modindex == "3",]
r &lt;- snp$param$r[modindex == "3"]
r &lt;- r[1:500]
sumsta &lt;- sumsta[1:500,]
data2 &lt;- data.frame(r, sumsta)
model.rf.r &lt;- regAbcrf(r~., data2, ntree=100)
model.rf.r
</code></pre>


</div>