<div class="container">

<table style="width: 100%;"><tr>
<td>abc_optim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Artificial Bee Colony Optimization</h2>

<h3>Description</h3>

<p>Implements Karaboga (2005) Artificial Bee Colony (ABC) Optimization algorithm.
</p>


<h3>Usage</h3>

<pre><code class="language-R">abc_optim(par, fn, ..., FoodNumber = 20, lb = rep(-Inf, length(par)),
  ub = rep(+Inf, length(par)), limit = 100, maxCycle = 1000,
  optiinteger = FALSE, criter = 50, parscale = rep(1, length(par)),
  fnscale = 1)

## S3 method for class 'abc_answer'
print(x, ...)

abc_cpp(par, fn, ..., FoodNumber = 20, lb = rep(-Inf, length(par)),
  ub = rep(+Inf, length(par)), limit = 100, maxCycle = 1000,
  criter = 50, parscale = rep(1, length(par)), fnscale = 1)

## S3 method for class 'abc_answer'
plot(x, y = NULL,
  main = "Trace of the Objective Function", xlab = "Number of iteration",
  ylab = "Value of the objective Function", type = "l", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>par</code></td>
<td>
<p>Initial values for the parameters to be optimized over</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn</code></td>
<td>
<p>A function to be minimized, with first argument of the vector of
parameters over which minimization is to take place. It should return a
scalar result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>In the case of <code>abc_*</code>, further arguments to be passed to 'fn',
otherwise, further arguments passed to the method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FoodNumber</code></td>
<td>
<p>Number of food sources to exploit. Notice that the param
<code>NP</code> has been deprecated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lb</code></td>
<td>
<p>Lower bound of the parameters to be optimized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ub</code></td>
<td>
<p>Upper bound of the parameters to be optimized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>Limit of a food source.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxCycle</code></td>
<td>
<p>Maximum number of iterations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optiinteger</code></td>
<td>
<p>Whether to optimize binary parameters or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criter</code></td>
<td>
<p>Stop criteria (numer of unchanged results) until stopping</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parscale</code></td>
<td>
<p>Numeric vector of length <code>length(par)</code>. Scale applied
to the parameters (see <code>optim</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fnscale</code></td>
<td>
<p>Numeric scalar. Scale applied function. If <code>fnscale &lt; 0</code>,
then the problem becomes a maximization problem (see <code>optim</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>abc_answer</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Passed to <code>plot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Passed to <code>plot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Passed to <code>plot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Passed to <code>plot</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This implementation of the ABC algorithm was developed based on the basic
version written in <code>C</code> and published at the algorithm's official
website (see references).
</p>
<p><code>abc_optim</code> and <code>abc_cpp</code> are two different implementations of the
algorithm, the former using pure <code>R</code> code, and the later using <code>C++</code>,
via the <span class="pkg">Rcpp</span> package. Besides of the output, another important
difference between the two implementations is speed, with <code>abc_cpp</code>
showing between 50% and 100% faster performance.
</p>
<p>Upper and Lower bounds (<code>ub</code>, <code>lb</code>) equal to infinite will be replaced
by either <code>.Machine$double.xmax</code> or <code>-.Machine$double.xmax</code>.
</p>
<p>If <code>D</code> (the number of parameters to be optimzed) is greater than one,
then <code>lb</code> and <code>ub</code> can be either scalars (assuming that all the
parameters share the same boundaries) or vectors (the parameters have
different boundaries each other).
</p>
<p>The <code>plot</code> method shows the trace of the objective function
as the algorithm unfolds. The line is merely the result of the objective
function evaluated at each point (row) of the <code>hist</code> matrix return by
<code>abc_optim</code>/<code>abc_cpp</code>.
</p>
<p>For now, the function will return with error if <code>...</code> was passed to
<code>abc_optim</code>/<code>abc_cpp</code>, since those argumens are not stored with the
result.
</p>


<h3>Value</h3>

<p>An list of class <code>abc_answer</code>, holding the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Foods</code></td>
<td>
<p>Numeric matrix. Last position of the bees.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>Numeric vector. Value of the function evaluated at each set of <code>Foods</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitness</code></td>
<td>
<p>Numeric vector. Fitness of each <code>Foods</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trial</code></td>
<td>
<p>Integer vector. Number of trials at each <code>Foods</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>Numeric scalar. Value of the function evaluated at the optimum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par</code></td>
<td>
<p>Numeric vector. Optimum found.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>counts</code></td>
<td>
<p>Integer scalar. Number of cycles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hist</code></td>
<td>
<p>Numeric matrix. Trace of the global optimums.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>George Vega Yon <a href="mailto:g.vegayon@gmail.com">g.vegayon@gmail.com</a>
</p>


<h3>References</h3>

<p>D. Karaboga, <em>An Idea based on Honey Bee Swarm for
Numerical Optimization</em>, tech. report TR06,Erciyes University, Engineering
Faculty, Computer Engineering Department, 2005
<a href="http://mf.erciyes.edu.tr/abc/pub/tr06_2005.pdf">http://mf.erciyes.edu.tr/abc/pub/tr06_2005.pdf</a>
</p>
<p>Artificial Bee Colony (ABC) Algorithm (website)
<a href="http://mf.erciyes.edu.tr/abc/index.htm">http://mf.erciyes.edu.tr/abc/index.htm</a>
</p>
<p>Basic version of the algorithm implemented in <code>C</code> (ABC's official
website) <a href="http://mf.erciyes.edu.tr/abc/form.aspx">http://mf.erciyes.edu.tr/abc/form.aspx</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# EXAMPLE 1: The minimum is at (pi,pi) --------------------------------------

fun &lt;- function(x) {
  -cos(x[1])*cos(x[2])*exp(-((x[1] - pi)^2 + (x[2] - pi)^2))
}

abc_optim(rep(0,2), fun, lb=-10, ub=10, criter=50)

# This should be equivalent
abc_cpp(rep(0,2), fun, lb=-10, ub=10, criter=50)

# We can also turn this into a maximization problem, and get the same
# results 
fun &lt;- function(x) {
  # We've removed the '-' from the equation
  cos(x[1])*cos(x[2])*exp(-((x[1] - pi)^2 + (x[2] - pi)^2))
}

abc_cpp(rep(0,2), fun, lb=-10, ub=10, criter=50, fnscale = -1)

# EXAMPLE 2: global minimum at about (-15.81515) ----------------------------

fw &lt;- function (x)
  10*sin(0.3*x)*sin(1.3*x^2) + 0.00001*x^4 + 0.2*x+80

ans &lt;- abc_optim(50, fw, lb=-100, ub=100, criter=100)
ans[c("par", "counts", "value")]


# EXAMPLE 3: 5D sphere, global minimum at about (0,0,0,0,0) -----------------
fs &lt;- function(x) sum(x^2)

ans &lt;- abc_optim(rep(10,5), fs, lb=-100, ub=100, criter=200)
ans[c("par", "counts", "value")]


# EXAMPLE 4: An Ordinary Linear Regression ----------------------------------

set.seed(1231)
k &lt;- 4
n &lt;- 5e2

# Data generating process
w &lt;- matrix(rnorm(k), ncol=1)     # This are the model parameters
X &lt;- matrix(rnorm(k*n), ncol = k) # This are the controls
y &lt;- X %*% w                      # This is the observed data

# Objective function
fun &lt;- function(x) {
  sum((y - X%*%x)^2)
}

# Running the regression
ans &lt;- abc_optim(rep(0,k), fun, lb = -10000, ub=10000)

# Here are the outcomes: Both columns should be the same
cbind(ans$par, w)
#             [,1]        [,2]
# [1,] -0.08051177 -0.08051177
# [2,]  0.69528553  0.69528553
# [3,] -1.75956316 -1.75956316
# [4,]  0.36156427  0.36156427


# This is just like OLS, with no constant
coef(lm(y~0+X))
#         X1          X2          X3          X4 
#-0.08051177  0.69528553 -1.75956316  0.36156427 

</code></pre>


</div>