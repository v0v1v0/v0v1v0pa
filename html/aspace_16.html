<div class="container">

<table style="width: 100%;"><tr>
<td>calc_sde</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate the Standard Deviation Ellipse</h2>

<h3>Description</h3>

<p>This function computes the Standard Deviation Ellipse (SDE) from a set of points. The SDE is a centrographic measure used to characterize the dispersion of point observations along two orthogonal axes. The SDE also captures directional bias in a spatial point pattern, the ellipse will be oriented in the direction of maximum dispersion.</p>


<h3>Usage</h3>

<pre><code class="language-R">calc_sde(id=1, centre.xy=NULL, calccentre=TRUE,
weighted=FALSE, weights=NULL, points=NULL, verbose=FALSE)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A unique integer to identify the shape</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centre.xy</code></td>
<td>
<p>A vector of length 2, containing the x- and y-coordinates of the SDE centre (Planar Coordinates Only!)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calccentre</code></td>
<td>
<p>Boolean: Set to TRUE if the mean center is to be calculated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted</code></td>
<td>
<p>Boolean: Set to TRUE if the weighted mean center is to be computed with weighted coordinates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Weights applied to point observations, number of weights should equal the number of observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points</code></td>
<td>
<p>A 2-column matrix or data frame containing point coordinates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Boolean: Set to TRUE if extensive feedback is desired on the standard output</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Use the LOCATIONS element in the output list object along with the ATTRIBUTES elements can be used to produce shapefiles or other vector point files for geographic data.</p>


<h3>Value</h3>

<p>The returned result is a list:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>TYPE</code></td>
<td>
<p>The type of calculation results stored in the object: BOX, SDD, SDE, CMD, CF, or CF2PTS, MNC, MDC</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DATE</code></td>
<td>
<p>The date and time that the function was run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>Identifier for the SDE shape - it should be unique</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LOCATIONS</code></td>
<td>
<p>Locations pertinent for the SDE that can be used with ATTRIBUTES if wishing to build a vector point file for geographic data outside of this pacakge.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FORPLOTTING</code></td>
<td>
<p>Coordinates and identifiers used for plotting by plot_sde()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ATTRIBUTES</code></td>
<td>
<p>Attributes for the output SDE that can be used with LOCATIONS coordinates if wishing to build a vector point file for geographic data outside of this package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Identifier for the SDE shape - it should be unique</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calccentre</code></td>
<td>
<p>Boolean: TRUE if mean centre is computed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted</code></td>
<td>
<p>Boolean: TRUE if the weighted mean centre is to be used instead</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CENTRE.x</code></td>
<td>
<p>X-coordinate of the centre</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CENTRE.y</code></td>
<td>
<p>Y-coordinate of the centre</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sigma.x</code></td>
<td>
<p>Half-length of axis along x-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sigma.y</code></td>
<td>
<p>Half-length of axis along y-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Major</code></td>
<td>
<p>String indicating which axis is the major elliptical axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Minor</code></td>
<td>
<p>String indicating which axis is the minor elliptical axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Theta</code></td>
<td>
<p>Rotation angle in degrees</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Eccentricity</code></td>
<td>
<p>A measure of eccentricity (i.e., the flatness of the ellipse)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Area.sde</code></td>
<td>
<p>Area of the SDE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TanTheta</code></td>
<td>
<p>Trigonometric result</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SinTheta</code></td>
<td>
<p>Trigonometric result</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CosTheta</code></td>
<td>
<p>Trigonometric result</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SinThetaCosTheta</code></td>
<td>
<p>Trigonometric result</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sin2Theta</code></td>
<td>
<p>Trigonometric result</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Cos2Theta</code></td>
<td>
<p>Trigonometric result</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ThetaCorr</code></td>
<td>
<p>Corrected theta angle for rotation of major axis from north</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Results specific for plotting are stored in the FORPLOTTING element within the produced list object. Pass the entire object to plot_box() and the function automatically extracts this information. This function can be used on its own (once) or repetitively in a loop to process grouped point data stored in a larger table. When used repetitively, be sure to increment the id argument to ensure that each SDE has a unique identifier.</p>


<h3>Author(s)</h3>

<p>Tarmo K. Remmel, Randy Bui, Ron N. Buliung</p>


<h3>References</h3>

<p>See chapter 4 of the documentation manual for CrimeStat at http://www.icpsr.umich.edu/CRIMESTAT/ and Ebdon, D. 1987. Statistics in geography. 2nd edition. New York, NY Basil Blackwell Ltd. 232 p.</p>


<h3>See Also</h3>

<p><code>calc_box</code>,
<code>calc_sde</code>,
<code>calc_cmd</code>,
<code>calc_cf</code>,
<code>calc_cf2pts</code>,
<code>calc_mnc</code>,
<code>calc_mdc</code>,
<code>gridpts</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># SDE EXAMPLE
data(activities)
a &lt;- calc_sde(id=1, centre.xy=NULL, points=activities)
str(a)
print(a)

# IF THE RESULT OF THIS FUNCTION IS STORED TO AN OBJECT, THE plot_sde()
# FUNCTION WILL TAKE THAT OBJECT AS INPUT FOR PLOTTING VIA THE datin ARGUMENT

# SDE TO SHAPEFILE EXAMPLE (REMOVE THE COMMENTS TO RUN)
# shp &lt;- convert.to.shapefile(a$LOCATIONS, a$ATTRIBUTES, "id", 5)
# write.shapefile(shp, "SDE_Shape", arcgis=T)
</code></pre>


</div>