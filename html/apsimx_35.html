<div class="container">

<table style="width: 100%;"><tr>
<td>edit_apsim_replace_soil_profile</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Edit APSIM ‘Classic’ file with a replaced soil profile</h2>

<h3>Description</h3>

<p>Edits an APSIM Classic simulation by replacing the soil profile
</p>


<h3>Usage</h3>

<pre><code class="language-R">edit_apsim_replace_soil_profile(
  file = "",
  src.dir = ".",
  wrt.dir = NULL,
  soil.profile = NULL,
  swim = NULL,
  soilwat = NULL,
  initialwater = NULL,
  edit.tag = "-edited",
  overwrite = FALSE,
  verbose = TRUE,
  root
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>name of the .apsim file to be edited</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>src.dir</code></td>
<td>
<p>source directory</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrt.dir</code></td>
<td>
<p>writing directory</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>soil.profile</code></td>
<td>
<p>a soil profile object with class ‘soil_profile’</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>swim</code></td>
<td>
<p>list with SWIM specific parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>soilwat</code></td>
<td>
<p>list with SoilWat specific parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initialwater</code></td>
<td>
<p>list with InitialWater specific parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edit.tag</code></td>
<td>
<p>default edit tag ‘-edited’</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>default FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>default TRUE. Will print messages indicating what was done.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>root</code></td>
<td>
<p>supply the node postion in the case of multiple simulations such as factorials.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is designed to batch replace the whole soil in an APSIM simulation.
</p>


<h3>Value</h3>

<p>writes an APSIM file to disk with the supplied soil profile
</p>


<h3>Note</h3>

<p>There is no such thing as a default soil, carefully build the profile for each simulation.
This function replaces values and it can grow an XML node, but it cannot edit a property
which is not present in the original file.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
sp &lt;- apsimx_soil_profile(nlayers = 20,
                          crops = c("Barley", "Chickpea", "Lucerne", 
                          "Maize", "Perennial Grass", "Sorghum", 
                          "Wheat", "Millet"))

extd.dir &lt;- system.file("extdata", package = "apsimx")

## Writing to a temp directory
tmp.dir &lt;- tempdir()
edit_apsim_replace_soil_profile("Millet.apsim", soil.profile = sp, 
                                edit.tag = "-newsoil",
                                src.dir = extd.dir, 
                                wrt.dir = tmp.dir)
                                
inspect_apsim("Millet-newsoil.apsim", src.dir = tmp.dir,
              node = "Soil", soil.child = "Water")
 

</code></pre>


</div>