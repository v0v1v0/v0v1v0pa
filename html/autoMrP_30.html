<div class="container">

<table style="width: 100%;"><tr>
<td>post_stratification</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Apply post-stratification to classifiers.</h2>

<h3>Description</h3>

<p>Apply post-stratification to classifiers.
</p>


<h3>Usage</h3>

<pre><code class="language-R">post_stratification(
  y,
  L1.x,
  L2.x,
  L2.unit,
  L2.reg,
  best.subset.opt,
  lasso.opt,
  lasso.L2.x,
  pca.opt,
  gb.opt,
  svm.opt,
  svm.L2.reg,
  svm.L2.unit,
  svm.L2.x,
  mrp.include,
  n.minobsinnode,
  L2.unit.include,
  L2.reg.include,
  kernel,
  mrp.L2.x,
  data,
  ebma.fold,
  census,
  verbose,
  deep.mrp,
  deep.L2.x,
  deep.L2.reg,
  deep.splines
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Outcome variable. A character vector containing the column names of
the outcome variable. A character scalar containing the column name of
the outcome variable in <code>survey</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L1.x</code></td>
<td>
<p>Individual-level covariates. A character vector containing the
column names of the individual-level variables in <code>survey</code> and
<code>census</code> used to predict outcome <code>y</code>. Note that geographic unit
is specified in argument <code>L2.unit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L2.x</code></td>
<td>
<p>Context-level covariates. A character vector containing the
column names of the context-level variables in <code>survey</code> and
<code>census</code> used to predict outcome <code>y</code>. To exclude context-level
variables, set <code>L2.x = NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L2.unit</code></td>
<td>
<p>Geographic unit. A character scalar containing the column
name of the geographic unit in <code>survey</code> and <code>census</code> at which
outcomes should be aggregated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L2.reg</code></td>
<td>
<p>Geographic region. A character scalar containing the column
name of the geographic region in <code>survey</code> and <code>census</code> by which
geographic units are grouped (<code>L2.unit</code> must be nested within
<code>L2.reg</code>). Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>best.subset.opt</code></td>
<td>
<p>Optimal tuning parameters from best subset selection
classifier. A list returned by <code>run_best_subset()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lasso.opt</code></td>
<td>
<p>Optimal tuning parameters from lasso classifier A list
returned by <code>run_lasso()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lasso.L2.x</code></td>
<td>
<p>Lasso context-level covariates. A character vector
containing the column names of the context-level variables in
<code>survey</code> and <code>census</code> to be used by the lasso classifier. If
<code>NULL</code> and <code>lasso</code> is set to <code>TRUE</code>, then lasso uses the
variables specified in <code>L2.x</code>. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pca.opt</code></td>
<td>
<p>Optimal tuning parameters from best subset selection with
principal components classifier A list returned by <code>run_pca()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gb.opt</code></td>
<td>
<p>Optimal tuning parameters from gradient tree boosting
classifier A list returned by <code>run_gb()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svm.opt</code></td>
<td>
<p>Optimal tuning parameters from support vector machine
classifier A list returned by <code>run_svm()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svm.L2.reg</code></td>
<td>
<p>SVM L2.reg. A logical argument indicating whether
<code>L2.reg</code> should be included in the SVM classifier. Default is
<code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svm.L2.unit</code></td>
<td>
<p>SVM L2.unit. A logical argument indicating whether
<code>L2.unit</code> should be included in the SVM classifier. Default is
<code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svm.L2.x</code></td>
<td>
<p>SVM context-level covariates. A character vector containing
the column names of the context-level variables in <code>survey</code> and
<code>census</code> to be used by the SVM classifier. If <code>NULL</code> and
<code>svm</code> is set to <code>TRUE</code>, then SVM uses the variables specified in
<code>L2.x</code>. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mrp.include</code></td>
<td>
<p>Whether to run MRP classifier. A logical argument
indicating whether the standard MRP classifier should be used for
predicting outcome <code>y</code>. Passed from <code>autoMrP()</code> argument
<code>mrp</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.minobsinnode</code></td>
<td>
<p>GB minimum number of observations in the terminal
nodes. An integer-valued scalar specifying the minimum number of
observations that each terminal node of the trees must contain. Passed from
<code>autoMrP()</code> argument <code>gb.n.minobsinnode</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L2.unit.include</code></td>
<td>
<p>GB L2.unit. A logical argument indicating whether
<code>L2.unit</code> should be included in the GB classifier. Passed from
<code>autoMrP()</code> argument <code>gb.L2.unit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L2.reg.include</code></td>
<td>
<p>A logical argument indicating whether <code>L2.reg</code>
should be included in the GB classifier. Passed from <code>autoMrP()</code>
argument <code>GB L2.reg</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernel</code></td>
<td>
<p>SVM kernel. A character-valued scalar specifying the kernel to
be used by SVM. The possible values are <code>linear</code>, <code>polynomial</code>,
<code>radial</code>, and <code>sigmoid</code>. Passed from <code>autoMrP()</code> argument
<code>svm.kernel</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mrp.L2.x</code></td>
<td>
<p>MRP context-level covariates. A character vector containing
the column names of the context-level variables in <code>survey</code> and
<code>census</code> to be used by the MRP classifier. The character vector
<em>empty</em> if no context-level variables should be used by the MRP
classifier. If <code>NULL</code> and <code>mrp</code> is set to <code>TRUE</code>, then MRP
uses the variables specified in <code>L2.x</code>. Default is <code>NULL</code>. Note:
For the empty MrP model, set <code>L2.x = NULL</code> and <code>mrp.L2.x = ""</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data.frame containing the survey data used in classifier
training.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ebma.fold</code></td>
<td>
<p>A data.frame containing the data not used in classifier
training.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>census</code></td>
<td>
<p>Census data. A <code>data.frame</code> whose column names include
<code>L1.x</code>, <code>L2.x</code>, <code>L2.unit</code>, if specified, <code>L2.reg</code> and
<code>pcs</code>, and either <code>bin.proportion</code> or <code>bin.size</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Verbose output. A logical argument indicating whether or not
verbose output should be printed. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deep.mrp</code></td>
<td>
<p>Deep MRP classifier. A logical argument indicating whether
the deep MRP classifier should be used for predicting outcome <code>y</code>.
Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deep.L2.x</code></td>
<td>
<p>Deep MRP context-level covariates. A character vector
containing the column names of the context-level variables in <code>survey</code>
and <code>census</code> to be used by the deep MRP classifier. If <code>NULL</code> and
<code>deep.mrp</code> is set to <code>TRUE</code>, then deep MRP uses the variables
specified in <code>L2.x</code>. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deep.L2.reg</code></td>
<td>
<p>Deep MRP L2.reg. A logical argument indicating whether
<code>L2.reg</code> should be included in the deep MRP classifier. Default is
<code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deep.splines</code></td>
<td>
<p>Deep MRP splines. A logical argument indicating whether
splines should be used in the deep MRP classifier. Default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
</div>