<div class="container">

<table style="width: 100%;"><tr>
<td>alignTransect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate Relative Positions from Transect Data</h2>

<h3>Description</h3>

<p>This function is used to support relative positioning of soil profiles by <code>plotSPC</code>, based on transect or gradient values typically associated with a site level attribute (e.g. elevation). Gradient values specified in <code>x</code> are translated to the range used by <code>plotSPC</code> (usually <code style="white-space: pre;">⁠1, length(SPC)⁠</code>) specified in <code>x.min</code> and <code>x.max</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">alignTransect(x, x.min, x.max, fix = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric vector, describing values along a transect: distance, elevation, climatic variables, etc.. Typically sourced from the site level attributes of a <code>SoilProfileCollection</code> object. Order is not important.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.min</code></td>
<td>
<p>numeric, lower boundary to relative position scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.max</code></td>
<td>
<p>numeric, upper boundary to relative position scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fix</code></td>
<td>
<p>logical, attempt fixing overlapping positions with <code>fixOverlap</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to <code>fixOverlap</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See the <a href="http://ncss-tech.github.io/AQP/aqp/genhz-distance-eval.html">Pair-Wise Distances by Generalized Horizon Labels</a> tutorial for additional examples.
</p>


<h3>Value</h3>

<p><code>list</code> containing:
</p>

<ul>
<li> <p><code>grad</code>: values of <code>x</code> in ascending order
</p>
</li>
<li> <p><code>order</code>: ordering vector of <code>x</code>
</p>
</li>
<li> <p><code>relative.pos</code>: elements of <code>x</code> translated to the new relative scale defined by <code>x.min</code> and <code>x.max</code>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
data("sierraTransect")

# split transects
g &lt;- subset(sierraTransect, transect == 'Granite')
a &lt;- subset(sierraTransect, transect == 'Andesite')

g.p &lt;- alignTransect(g$elev, x.min = 1, x.max = length(g), fix = FALSE)
a.p &lt;- alignTransect(a$elev, x.min = 1, x.max = length(a), fix = FALSE)

op &lt;- par(mar=c(2,0,0,2), mfrow=c(2,1))

plotSPC(g, width=0.25, name.style='center-center', 
        cex.names=0.75, 
        relative.pos = g.p$relative.pos, plot.order = g.p$order)

axis(1, at = g.p$relative.pos, labels = g.p$grad, line = -1.5)

plotSPC(a, width=0.25, name.style='center-center', 
        cex.names=0.75, 
        relative.pos = a.p$relative.pos, plot.order = a.p$order)

axis(1, at = a.p$relative.pos, labels = a.p$grad, line = -1.5)


par(op)

</code></pre>


</div>