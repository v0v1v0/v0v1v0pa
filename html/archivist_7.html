<div class="container">

<table style="width: 100%;"><tr>
<td>ahistory</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Show Artifact's History</h2>

<h3>Description</h3>

<p><code>ahistory</code> extracts artifact's history and creates a data frame with  
history of calls and md5hashes of partial results. The overloaded 
<code>print.ahistory</code> function prints this history in a concise way. The overloaded
<code>print.ahistoryKable</code> function prints this history in the same way as kable.
When <code>alink=TRUE</code> one can create history table/kable with hooks to partial results (artifacts) as in the alink function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ahistory(
  artifact = NULL,
  md5hash = NULL,
  repoDir = aoptions("repoDir"),
  format = "regular",
  alink = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>artifact</code></td>
<td>
<p>An artifact which history is supposed to be reconstructed.
It will be converted  into md5hash.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>md5hash</code></td>
<td>
<p>If <code>artifact</code> is not specified then <code>md5hash</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repoDir</code></td>
<td>
<p>A character denoting an existing directory in which an artifact will be saved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>A character denoting whether to print history in either a <code>"regular"</code> (default) way or like in a <code>"kable"</code> function.
See Notes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alink</code></td>
<td>
<p>Whether to provide hooks to objects like in alink. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further parameters passed to alink function. Used when <code>format = "kable"</code> and <code>alink = TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All artifacts created with %a% operator are archivised with 
detailed information  about it's source (both call and md5hash of the input).
The function <code>ahistory</code> reads all artifacts that 
precede <code>artifact</code> and create a description of the input flow. 
The generic <code>print.ahistory</code> function plots the history in a human readable  way.
</p>


<h3>Value</h3>

<p>A data frame with two columns - names of calls and md5hashes of partial results.
</p>


<h3>Contact</h3>

<p>Bug reports and feature requests can be sent to 
<a href="https://github.com/pbiecek/archivist/issues">https://github.com/pbiecek/archivist/issues</a>
</p>


<h3>Demonstration</h3>

<p>This function is well explained on this  blog post.
</p>


<h3>Note</h3>

<p>There are provided functions (<code>print.ahistory</code> and <code>print.ahistoryKable</code>) to print the artifact's history. 
History can be printed either in a <code>regular</code> way which is friendly for the console output or in a <code>kable</code> format which 
prints the artifact's history in a way kable function would. This is convenient when one prints history
in <code>.Rmd</code> files using rmarkdown.
</p>
<p>Moreover when user passes <code>format = 'kable'</code> and <code>alink = TRUE</code> then one can use links for remote Repository. 
Then md5hashes are taken from Local Repository, so user has to specify <code>repo</code>, <code>user</code> and <code>repoDir</code> even though 
they are set globally, because <code>repo</code> is a substring of <code>repoDir</code> and during evaluation of <code>...</code> R treats <code>repo</code> as <code>repoDir</code>.
</p>


<h3>Author(s)</h3>

<p>Przemyslaw Biecek, <a href="mailto:przemyslaw.biecek@gmail.com">przemyslaw.biecek@gmail.com</a>
</p>
<p>Marcin Kosinski, <a href="mailto:m.p.kosinski@gmail.com">m.p.kosinski@gmail.com</a>
</p>


<h3>References</h3>

<p>Biecek P and Kosinski M (2017). "archivist: An R Package for Managing,
Recording and Restoring Data Analysis Results." _Journal of Statistical
Software_, *82*(11), pp. 1-28. doi: 10.18637/jss.v082.i11 (URL:
http://doi.org/10.18637/jss.v082.i11).
URL https://github.com/pbiecek/archivist
</p>


<h3>See Also</h3>

<p>Other archivist: 
<code>Repository</code>,
<code>Tags</code>,
<code>%a%()</code>,
<code>addHooksToPrint()</code>,
<code>addTagsRepo()</code>,
<code>aformat()</code>,
<code>alink()</code>,
<code>aoptions()</code>,
<code>archivistPackage</code>,
<code>aread()</code>,
<code>areadLocal()</code>,
<code>asearch()</code>,
<code>asearchLocal()</code>,
<code>asession()</code>,
<code>atrace()</code>,
<code>cache()</code>,
<code>copyLocalRepo()</code>,
<code>createLocalRepo()</code>,
<code>createMDGallery()</code>,
<code>deleteLocalRepo()</code>,
<code>getRemoteHook()</code>,
<code>getTagsLocal()</code>,
<code>loadFromLocalRepo()</code>,
<code>md5hash</code>,
<code>removeTagsRepo()</code>,
<code>restoreLibs()</code>,
<code>rmFromLocalRepo()</code>,
<code>saveToLocalRepo()</code>,
<code>searchInLocalRepo()</code>,
<code>setLocalRepo()</code>,
<code>shinySearchInLocalRepo()</code>,
<code>showLocalRepo()</code>,
<code>splitTagsLocal()</code>,
<code>summaryLocalRepo()</code>,
<code>zipLocalRepo()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
createLocalRepo("ahistory_check", default = TRUE)
library(dplyr)
iris %a%
filter(Sepal.Length &lt; 6) %a%
 lm(Petal.Length~Species, data=.) %a%
 summary() -&gt; artifact
 
ahistory(artifact)
ahistory(artifact, format = "kable")  
print(ahistory(artifact, format = "kable"), format = "latex")
ahistory(artifact, format = "kable", alink = TRUE, repoDir = "ahistory_check",
repo = "repo", user = "user")


repoDir &lt;- file.path(getwd(), "ahistory_check")
deleteLocalRepo(repoDir, deleteRoot = TRUE)
aoptions('repoDir', NULL, unset = TRUE)

</code></pre>


</div>