<div class="container">

<table style="width: 100%;"><tr>
<td>scrape_urls</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>scrape_urls: Scraping Urls from the Internet Archive</h2>

<h3>Description</h3>

<p><code>scrape_urls</code> scrapes Urls of mementos and lower-level web pages stored in the Internet Archive using XPaths as default
</p>


<h3>Usage</h3>

<pre><code class="language-R">scrape_urls(
  Urls,
  Paths,
  collapse = TRUE,
  startnum = 1,
  attachto = NULL,
  CSS = FALSE,
  archiveDate = FALSE,
  ignoreErrors = FALSE,
  stopatempty = TRUE,
  emptylim = 10,
  encoding = "UTF-8",
  lengthwarning = TRUE,
  nonArchive = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Urls</code></td>
<td>
<p>A character vector of the memento of the Internet Archive</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Paths</code></td>
<td>
<p>A named character vector of the content to be scraped from the memento. Takes XPath expressions as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>
<p>Logical value indicating whether to collapse matching html nodes, or character input of xpath by which matches are supposed to be collapsed. Structuring Xpaths can only be used with Xpath selectors as Paths input and CSS = FALSE. If a Xpath is given, the Paths argument only refers to children of the structure given in collapse.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startnum</code></td>
<td>
<p>Specify the starting number for scraping the Urls. Important when scraping breaks during process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attachto</code></td>
<td>
<p>Scraper attaches new content to existing object in working memory. Object should stem from same scraping process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CSS</code></td>
<td>
<p>Use CSS selectors as input for the Paths</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>archiveDate</code></td>
<td>
<p>Retrieve the archiving date</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignoreErrors</code></td>
<td>
<p>Ignore errors for some Urls and proceed scraping</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stopatempty</code></td>
<td>
<p>Stop if scraping does not succeed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>emptylim</code></td>
<td>
<p>Specify the number of Urls not being scraped until break-off</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>Specify a default encoding for the homepage. Default is 'UTF-8'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lengthwarning</code></td>
<td>
<p>Warning function for large number of URLs appears. Set FALSE to disable default warning.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nonArchive</code></td>
<td>
<p>Logical input. Can be set to TRUE if you want to use the archiveRetriever to scrape web pages outside the Internet Archive. Cannot be used in combination with archiveDate.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function scrapes the content of mementos or lower-level web pages from the Internet Archive. It returns a tibble including Urls and the scraped content. However, a memento being stored in the Internet Archive does not guarantee that the information from the homepage can be actually scraped. As the Internet Archive is an internet resource, it is always possible that a request fails due to connectivity problems. One easy and obvious solution is to re-try the function.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
scrape_urls(
Urls = "https://web.archive.org/web/20201001000859/https://www.nytimes.com/section/politics",
Paths = c(title = "//article/div/h2//text()", teaser = "//article/div/p/text()"),
collapse = FALSE, archiveDate = TRUE)

scrape_urls(
 Urls = "https://stackoverflow.com/questions/21167159/css-nth-match-doesnt-work",
 Paths = c(ans="//div[@itemprop='text']/*", aut="//div[@itemprop='author']/span[@itemprop='name']"),
 collapse = "//div[@id='answers']/div[contains(@class, 'answer')]",
 nonArchive = TRUE,
 encoding = "bytes")

## End(Not run)
</code></pre>


</div>