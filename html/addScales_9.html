<div class="container">

<table style="width: 100%;"><tr>
<td>prepanel.trim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Lattice Prepanel Function to Trim Panel Limits
</h2>

<h3>Description</h3>

<p>Trims numeric x and or y limits to specified quantiles. May be useful when unusual extreme values distort the scales and obscure informative features of the data. Scales for factors are not affected.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prepanel.trim(x, y, trim.x = 0, trim.y = 0.05, min.trim = 20, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, y</code></td>
<td>

<p>x and y values, numeric or factor.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim.x, trim.y</code></td>
<td>

<p>Numeric trimming proportions, p, with 0 &lt;= p &lt; .5 .<br><code>trim.x</code> and <code>trim.y</code> can be different.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.trim</code></td>
<td>

<p>The minimum number of data values needed before trimming
<em>after removing</em> ‘<span class="samp">⁠NAs⁠</span>’ and ‘<span class="samp">⁠Infs⁠</span>’. Otherwise the
range of the data is returned (min and max of all the remaining finite
values).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Other arguments, usually ignored
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the trimming proportion is p, the limits returned are essentially
<code>quantile(p, 1-p, type = 8)</code>. See <code>quantile</code> for details.
So, for example if p = .1, roughly 10% of the lowest and 10% of the highest values are removed, and the range of the middle 80% of the data are returned. More precisely (quoting from <code>xyplot</code>), “... the actual limits of the panels are guaranteed to include the limits returned by the prepanel function” – i.e., these quantiles.
</p>


<h3>Value</h3>

<p>For numeric data, a numeric vector of length 2, as would be returned by
<code>range</code>. For a factor, a list with components <code>yat</code> and <code>ylim</code>,
as described in the <code>prepanel</code> section of <code>xyplot</code>
</p>


<h3>Note</h3>

<p>No banking calculations are done.
</p>


<h3>Author(s)</h3>

<p>Bert Gunter <a href="mailto:bgunter.4567@gmail.com">bgunter.4567@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>xyplot</code>, <code>prepanel.default.xyplot</code>,
<code>quantile</code>
</p>


</div>