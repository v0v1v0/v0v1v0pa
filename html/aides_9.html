<div class="container">

<table style="width: 100%;"><tr>
<td>TestDisparity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Test assumption of disparities in sample size.</h2>

<h3>Description</h3>

<p><strong>TestDisparity()</strong> is a function for disparities in sample size analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">TestDisparity(
  n,
  data = NULL,
  study = NULL,
  time = NULL,
  outlier = NULL,
  ctf = 0.2,
  vrblty = NULL,
  ctfLwr = 0.1,
  ctfUpr = 0.3,
  rplctns = 1000,
  plot = FALSE,
  sort = NULL,
  color = "firebrick3"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>NUMERIC values for sample size (n) of each study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>DATA FRAME consists of columns for study label, study
year, and sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>study</code></td>
<td>
<p>CHARACTER for study labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>NUMERIC values of time sequence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlier</code></td>
<td>
<p>CHARACTER for method of outlier detection. Current version
consists of four methods, and three of them can be used for
normal distribution. The rest one method can be used for data
with non-normal distribution. For normal distribution data,
outlier detection can be performed using 1.5 interquartile range
method ("IQR"), z score method ("Z"), and generalized extreme
studentized deviate method ("GESD"). For data with non-normal
distribution, package <em>aides</em> detects outliers using median
absolute deviation method ("MAD"). Parameter <code>outlier</code> with
argument "Default" automatically takes "GESD" or "MAD" based on
data distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ctf</code></td>
<td>
<p>NUMERIC value of cutoff point for proportion of excessive cases
in outlier-based disparity test, and the value should be larger
than 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vrblty</code></td>
<td>
<p>CHARACTER for method of variability detection. Current version
consists of two methods in terms of coefficient of variation
(CV) and robust CV (RCV) using MAD. For normal distribution data,
variability detection can be performed common CV method, and
MAD based RCV could be used for data with non-normal distribution.
Default argument for parameter <code>vrblty</code> is "CV" in order to
detect variability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ctfLwr</code></td>
<td>
<p>NUMERIC value of cutoff value for lower boundary of variability
that should be larger than 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ctfUpr</code></td>
<td>
<p>NUMERIC value of cutoff value for upper boundary of variability
that should be larger than <code>ctfLwr</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rplctns</code></td>
<td>
<p>INTEGER value of bootstrap replications for obtaining probability
of variability-based disparity test, and the integer must be equal
or larger than 1,000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>LOGIC value for indicating whether to illustrate proportion of
excessive cases plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>CHARACTER of data sorting reference for disparity plot. Current
version consists of "time", "size", and "excessive" for
displaying observations on disparity plot of outlier(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>CHARACTER of a color name for emphasizing the significant
disparities in sample size.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><strong>TestDisparity()</strong> returns a summary of result regarding disparities in sample
size, and can be stored as an object in <code>disparity</code> class. Explanations of returned
information are listed as follows:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>disparity</code></td>
<td>
<p>String to return the overall judgement of disparity test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w.normality</code></td>
<td>
<p>A numeric value of statistics of normality test to show whether
sample sizes among studies are distributed normally.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.normality</code></td>
<td>
<p>A numeric value of p-value of normality test to show whether
sample sizes among studies are distributed normally.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlier.method</code></td>
<td>
<p>String shows outlier detection method used in disparity test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vrblty.method</code></td>
<td>
<p>String shows variability detection method used in disparity test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlier</code></td>
<td>
<p>A data frame to show details of identified outliers (studies).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.outlier</code></td>
<td>
<p>A numeric value to show proportion of outliers among all studies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.excessive</code></td>
<td>
<p>A numeric value of excessive cases among all samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.prop.outlier</code></td>
<td>
<p>A numeric value of p-value of disparity outlier test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lci.prop.outlier</code></td>
<td>
<p>A numeric value for lower limit of 95% confidence interval
of disparity outlier test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uci.prop.outlier</code></td>
<td>
<p>A numeric value for upper limit of 95% confidence interval
of disparity outlier test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variability</code></td>
<td>
<p>A numeric value to show variability among all studies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.variability</code></td>
<td>
<p>A numeric value of p-value of disparity variability test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lci.variability</code></td>
<td>
<p>A numeric value for lower limit of 95% confidence interval of
disparity variability test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uci.variability</code></td>
<td>
<p>A numeric value for lower limit of 95% confidence interval of
disparity variability test.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Enoch Kang
</p>


<h3>References</h3>

<p>Shapiro, S. S., &amp; Wilk, M. B. (1965). An analysis of variance test for
normality (complete samples). <strong>Biometrika</strong>, <em>52(3)</em>, 591-611.
</p>
<p>Rosner, B. (1983). Percentage Points for a Generalized ESD Many-Outlier
Procedure. <strong>Technometrics</strong>, <em>25(2)</em>, 165-172.
</p>
<p>Leys, C., Ley, C., Klein, O., Bernard, P., &amp; Licata, L. (2013). Detecting
outliers: Do not use standard deviation around the mean, use absolute deviation
around the median. <strong>Journal of experimental social psychology</strong>, <em>49(4)</em>, 764-766.
</p>
<p>Rousseeuw, P. J.  &amp; Croux C. (1993). Alternatives to the Median Absolute
Deviation, <strong>Journal of the American Statistical Association</strong>, <em>88(424)</em>,
1273-1283. http://dx.doi.org/10.1080/01621459.1993.10476408
</p>
<p>Hendricks, W. A., &amp; Robey, K. W. (1936). The sampling distribution of the
coefficient of variation. <strong>The Annals of Mathematical Statistics</strong>, <em>7(3)</em>,
129-132.
</p>
<p>Sokal, R. R., &amp; Braumann, C. A. (1980). Significance tests for coefficients
of variation and variability profiles. <strong>Systematic Biology</strong>, <em>29(1)</em>, 50-66.
</p>


<h3>See Also</h3>

<p><code>TestDiscordance</code>, <code>PlotDisparity</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run:
# 1. Import a dataset of study by Olkin (1995)
library(meta)
data("Olkin1995")
data &lt;- Olkin1995

# 2. Calculate total sample size and standard error of each study
data$n  &lt;- data$n.exp + data$n.cont

# 3. Test disparities in sample sizes
output &lt;- TestDisparity(n, data, author, year)

# 4. Illustrate disparity plot
TestDisparity(n, data, author, year, plot = TRUE)

## End(Not run)

</code></pre>


</div>