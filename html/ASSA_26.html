<div class="container">

<table style="width: 100%;"><tr>
<td>sst</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Singular Spectrum Trendline</h2>

<h3>Description</h3>

<p>Computes a trendline for univariate time series data using
singular spectrum analysis. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">sst(y, l = "automatic", m = "automatic")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>tsframe format data containing univariate time series data. 
More appropriate method for multivariate time series is <code>msst</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l</code></td>
<td>
<p>window length; the string <code>"automatic"</code> automatic sets
the default option <br><code>l = ceiling(y$n + 1) / 2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>number of leading eigentriples; the string <code>"automatic"</code>
yields an automatic criterion for choosing m based on the cumulative periodogram of the
residuals; see details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Singular spectrum analysis decompose time series data (<code>y</code>)
into principal components, and a cumulative periodogram-based
criterion learn about elementary reconstructed components
(<code>erc</code>) that contribute to the signal. The trendline results
from adding principal components selected by a cumulative
periodogram-based criteria; see de Carvalho and Martos (2018,
Section 4.1). The <code>plot</code> method yields the resulting trendlines
along with the data; <code>options</code> for the plot method are give by
a list including the strings <code>"trendline"</code>,
<code>"components"</code>, <code>"cpgram"</code>, and <code>"screeplot"</code>,
along with a set of values (<code>ncomp</code>) indicating the components
on which these diagnostics are to be depicted (e.g. <code>plot(fit,
  options = list(type = "components", ncomp = 1:3))</code>.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>trendline</code></td>
<td>
<p>tsframe object with trendline estimation from
targeted grouping based on a cumulative periodogram criterion (or
according to the number of components specified in <code>m</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l</code></td>
<td>
<p>window length.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>number of leading eigentriples. An automatic
criterion based on the cumulative periodogram of the residuals is
provided by default by using the string <code>"automatic"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>residuals</code></td>
<td>
<p>tsframe object with the residuals from targeted
grouping based on a cumulative periodogram criterion (or according
to the number of components specified in <code>m</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svd</code></td>
<td>
<p>Singular value decomposition corresponding to the trajectory matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>erc</code></td>
<td>
<p>elementary reconstructed components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observations</code></td>
<td>
<p>tsframe object with the raw data.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Gabriel Martos and Miguel de Carvalho</p>


<h3>References</h3>

<p>de Carvalho, M. and Martos, G. (2020). Brexit: Tracking and
disentangling the sentiment towards leaving the EU. <em>International Journal
of Forecasting</em>, <b>36</b>, 1128â€“1137.
</p>


<h3>See Also</h3>

<p>See <code>msst</code> for a version of the routine for multivariate
time series, and see <code>msstc</code> for a version of the routine
for multivariate time series of compositional data.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## BREXIT DATA EXAMPLE
data(brexit); attach(brexit)
l &lt;- tsframe(date, brexit[, 1] / 100) # l = leave
fit &lt;- sst(l); 
fit$m; fit$l # Number of ERC and parameter l in the model.
plot(fit, col = "red", lwd = 3, xlab = 'Time', ylab = 'Leave')
points(date, brexit[, 1] / 100, pch = 20)

## Scree-plot
plot(fit, options = list(type = "screeplot", ncomp = 1:10,
                         series.names = c('Leave')), type = "b", pch = 20, lwd = 2)


## Plot cumulative periodogram
par(mfrow=c(1,1), mar=c(4,2,1,1))
plot(fit, options = list(type = "cpgram", series.names = c('Leave')) )

## Elementary Reconstructed Components (ERC) plot:
plot(fit, options = list(type = "components", ncomp = 1:2))
</code></pre>


</div>