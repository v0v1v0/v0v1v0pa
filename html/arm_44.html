<div class="container">

<table style="width: 100%;"><tr>
<td>matching</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Single Nearest Neighborhood Matching</h2>

<h3>Description</h3>

<p>Function for processing matching with propensity score 
</p>


<h3>Usage</h3>

<pre><code class="language-R">matching(z, score, replace=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>vector of indicators for treatment or control.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score</code></td>
<td>
<p>vector of the propensity scores in the same order as z.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>whether the control units could be reused for matching, 
default is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Function for matching each treatment unit in turn 
the control unit (not previously chosen) with the 
closest propensity score </p>


<h3>Value</h3>

<p>The function returns a vector of indices that the corresponding 
unit is matched to. 0 means matched to nothing.</p>


<h3>Author(s)</h3>

<p>Jeniffer Hill <a href="mailto:jh1030@columbia.edu">jh1030@columbia.edu</a>;
Yu-Sung Su <a href="mailto:suyusung@tsinghua.edu.cn">suyusung@tsinghua.edu.cn</a>
</p>


<h3>References</h3>

<p>Andrew Gelman and Jennifer Hill. (2006).
<em>Data Analysis Using Regression and Multilevel/Hierarchical Models</em>.
Cambridge University Press.</p>


<h3>See Also</h3>

<p><code>balance</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># matching first
data(lalonde)
attach(lalonde)
fit &lt;- glm(treat ~ re74 + re75 + age + factor(educ) + 
            black + hisp + married + nodegr + u74 + u75, 
            family=binomial(link="logit"))
pscores &lt;- predict(fit, type="response")
matches &lt;- matching(z=lalonde$treat, score=pscores)
matched &lt;- matches$cnts

# balance check!
b.stats &lt;- balance(lalonde, treat, matched)
print(b.stats)
plot(b.stats)
</code></pre>


</div>