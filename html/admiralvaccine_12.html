<div class="container">

<table style="width: 100%;"><tr>
<td>derive_vars_merged_vaccine</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add New Variable(s) to the Input dataset Based on Variables from Another dataset</h2>

<h3>Description</h3>

<p>Add new variables to the input dataset based on variables from another dataset.
The variables to be added to the output dataset will be based on input variables
passed on <code>ex_vars</code> argument.
</p>


<h3>Usage</h3>

<pre><code class="language-R">derive_vars_merged_vaccine(
  dataset,
  dataset_ex,
  by_vars_sys,
  by_vars_adms,
  ex_vars
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>Input dataset which should have been combined with the supplementary(if exists).
</p>
<p>The variables specified by the <code>by_vars</code> argument inside the
<code>derive_vars_merged</code>are expected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataset_ex</code></td>
<td>
<p><code>ex</code> dataset(combined with <code>suppex</code>) to merge with the input dataset.
</p>
<p>The variables specified by the <code>ex_vars</code> argument are expected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by_vars_sys</code></td>
<td>
<p>Grouping variables for systemic events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by_vars_adms</code></td>
<td>
<p>Grouping variables for administration site events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ex_vars</code></td>
<td>
<p>Variables to be added to the output dataset from EX dataset</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The input dataset will be merged with <code>EX</code> dataset for "ADMINISTRATION SITE" and
"SYSTEMIC" categories separately and these datasets will be bound together as
the final output dataset.
</p>
<p>This function is intended to add only <code>EX</code> variables to the input dataset and user
is expected to handle if any pre-processing is required.
</p>
<p>Only the variables passed to the <code>ex_vars</code> will be added in the output dataset
</p>
<p>If the input dataset has multiple vaccination for a subject at same visit
then this function will not merge ex dataset and will return the <code>dataset</code>.
</p>


<h3>Value</h3>

<p>The dataset with variables added from the EX dataset.
</p>


<h3>Author(s)</h3>

<p>Vikram S
</p>


<h3>See Also</h3>

<p>Other der_var: 
<code>derive_var_aval_adis()</code>,
<code>derive_vars_crit()</code>,
<code>derive_vars_event_flag()</code>,
<code>derive_vars_max_flag()</code>,
<code>derive_vars_params()</code>,
<code>derive_vars_vaxdt()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(tibble)
library(admiral)
library(dplyr)
library(pharmaversesdtm)

derive_vars_merged_vaccine(
  dataset = face_vaccine,
  dataset_ex = ex_vaccine,
  by_vars_sys = exprs(USUBJID, FATPTREF = EXLNKGRP),
  by_vars_adms = exprs(USUBJID, FATPTREF = EXLNKGRP, FALOC = EXLOC, FALAT = EXLAT),
  ex_vars = exprs(EXTRT, EXDOSE, EXDOSU, EXSTDTC, EXENDTC)
) %&gt;%
  select(USUBJID, FATPTREF, FALOC, FALAT, EXTRT, EXDOSE, EXDOSU, EXSTDTC, EXENDTC) %&gt;%
  head(10)

derive_vars_merged_vaccine(
  dataset = face_vaccine,
  dataset_ex = ex_vaccine,
  by_vars_sys = exprs(USUBJID, FATPTREF = EXLNKGRP),
  by_vars_adms = exprs(USUBJID, FATPTREF = EXLNKGRP, FALOC = EXLOC, FALAT = EXLAT),
  ex_vars = exprs(EXTRT, EXDOSE, EXDOSU, EXSTDTC, EXENDTC)
)

</code></pre>


</div>