<div class="container">

<table style="width: 100%;"><tr>
<td>rules-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class rules â€” A Set of Rules</h2>

<h3>Description</h3>

<p>Defines the <code>rules</code> class to represent a set of association rules and methods to work
with <code>rules</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rules(rhs, lhs, itemLabels = NULL, quality = data.frame())

## S4 method for signature 'rules'
summary(object, ...)

## S4 method for signature 'rules'
length(x)

## S4 method for signature 'rules'
nitems(x)

## S4 method for signature 'rules'
labels(object, ruleSep = " =&gt; ", ...)

## S4 method for signature 'rules'
itemLabels(object)

## S4 replacement method for signature 'rules'
itemLabels(object) &lt;- value

## S4 method for signature 'rules'
itemInfo(object)

lhs(x)

## S4 method for signature 'rules'
lhs(x)

lhs(x) &lt;- value

## S4 replacement method for signature 'rules'
lhs(x) &lt;- value

rhs(x)

rhs(x) &lt;- value

## S4 replacement method for signature 'rules'
rhs(x) &lt;- value

## S4 method for signature 'rules'
rhs(x)

## S4 method for signature 'rules'
items(x)

generatingItemsets(x)

## S4 method for signature 'rules'
generatingItemsets(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rhs, lhs</code></td>
<td>
<p>itemMatrix objects or objects that can be converted using <code>encode()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>itemLabels</code></td>
<td>
<p>a vector of all
possible item labels (character) or a transactions object to copy the item
coding used for <code>encode()</code> (see itemCoding for details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quality</code></td>
<td>
<p>a data.frame with quality information (one row per rule).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object, x</code></td>
<td>
<p>the object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ruleSep</code></td>
<td>
<p>rule separation symbol</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>replacement value</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Mined rule sets typically contain several interest measures accessible with
the <code>quality()</code> method. Additional measures can be calculated via
<code>interestMeasure()</code>.
</p>
<p>To create rules manually, the itemMatrix for the LHS and the RHS of the
rules need to be compatible. See itemCoding for details.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>summary(rules)</code>: create a summary
</p>
</li>
<li> <p><code>length(rules)</code>: returns the number of rules.
</p>
</li>
<li> <p><code>nitems(rules)</code>: returns the number of items used in the current encoding.
</p>
</li>
<li> <p><code>labels(rules)</code>: labels for the rules.
</p>
</li>
<li> <p><code>itemLabels(rules)</code>: returns item labels for the current encoding.
</p>
</li>
<li> <p><code>itemLabels(rules) &lt;- value</code>: change the item labels in the current encoding.
</p>
</li>
<li> <p><code>itemInfo(rules)</code>: returns the item info data.frame.
</p>
</li>
<li> <p><code>lhs(rules)</code>: returns the LHS of the rules as an itemMatrix.
</p>
</li>
<li> <p><code>lhs(rules) &lt;- value</code>: replaces the LHS of the rules with an itemMatrix.
</p>
</li>
<li> <p><code>rhs(rules) &lt;- value</code>: replaces the RHS of the rules with an itemMatrix.
</p>
</li>
<li> <p><code>rhs(rules)</code>: returns the RHS of the rules as an itemMatrix.
</p>
</li>
<li> <p><code>items(rules)</code>: returns all items in a rule (LHS and RHS) an itemMatrix.
</p>
</li>
<li> <p><code>generatingItemsets(rules)</code>: returns a collection of the itemsets which generated the rules, one itemset for each rule. Note that the collection can be a multiset and contain duplicated elements. Use <code>unique()</code> to remove duplicates and obtain a proper set. This method produces the same as the result as calling <code>items()</code>, but wrapped into an itemsets object with support information.
</p>
</li>
</ul>
<h3>Slots</h3>


<dl>
<dt><code>lhs,rhs</code></dt>
<dd>
<p>itemMatrix representing the left-hand-side and right-hand-side of
the rules.</p>
</dd>
<dt><code>quality</code></dt>
<dd>
<p>the quality data.frame</p>
</dd>
<dt><code>info</code></dt>
<dd>
<p>a list with mining information.</p>
</dd>
</dl>
<h3>Objects from the Class</h3>

<p>Objects are the result of calling the
function <code>apriori()</code>. Objects can also be created by calls of the
form <code>new("rules", ...)</code>
or by using the constructor function <code>rules()</code>.
</p>


<h3>Coercions</h3>


<ul><li> <p><code>as("rules", "data.frame")</code>
</p>
</li></ul>
<h3>Author(s)</h3>

<p>Michael Hahsler
</p>


<h3>See Also</h3>

<p>Superclass: associations
</p>
<p>Other associations functions: 
<code>abbreviate()</code>,
<code>associations-class</code>,
<code>c()</code>,
<code>duplicated()</code>,
<code>extract</code>,
<code>inspect()</code>,
<code>is.closed()</code>,
<code>is.generator()</code>,
<code>is.maximal()</code>,
<code>is.redundant()</code>,
<code>is.significant()</code>,
<code>is.superset()</code>,
<code>itemsets-class</code>,
<code>match()</code>,
<code>sample()</code>,
<code>sets</code>,
<code>size()</code>,
<code>sort()</code>,
<code>unique()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("Adult")

## Mine rules
rules &lt;- apriori(Adult, parameter = list(support = 0.3))
rules

## Select a subset of rules using partial matching on the items
## in the right-hand-side and a quality measure
rules.sub &lt;- subset(rules, subset = rhs %pin% "sex" &amp; lift &gt; 1.3)

## Display the top 3 support rules
inspect(head(rules.sub, n = 3, by = "support"))

## Display the first 3 rules
inspect(rules.sub[1:3])

## Get labels for the first 3 rules
labels(rules.sub[1:3])
labels(rules.sub[1:3], itemSep = " + ", setStart = "", setEnd="",
  ruleSep = " ---&gt; ")

## Manually create rules using the item coding in Adult and calculate some interest measures
twoRules &lt;- rules(
  lhs = list(
    c("age=Young", "relationship=Unmarried"),
    c("age=Old")
  ),
  rhs = list(
    c("income=small"),
    c("income=large")
  ),
  itemLabels = Adult
)

quality(twoRules) &lt;- interestMeasure(twoRules,
  measure = c("support", "confidence", "lift"), transactions = Adult)

inspect(twoRules)

</code></pre>


</div>