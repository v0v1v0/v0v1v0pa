<div class="container">

<table style="width: 100%;"><tr>
<td>apollo_classAlloc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculates class allocation probabilities for a Latent Class model</h2>

<h3>Description</h3>

<p>Calculates class allocation probabilities for a Latent Class model using a Multinomial Logit model and can also perform other operations based on the value of the <code>functionality</code> argument.
</p>


<h3>Usage</h3>

<pre><code class="language-R">apollo_classAlloc(classAlloc_settings)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>classAlloc_settings</code></td>
<td>
<p>List of inputs of the MNL model. It should contain the following.
</p>

<ul>
<li> <p><strong><code>utilities</code></strong>: Named list of deterministic utilities . Utilities of the classes in class allocation model. Names of elements must match those in <code>avail</code>, if provided.
</p>
</li>
<li> <p><strong><code>avail</code></strong>: Named list of numeric vectors or scalars. Availabilities of classes, one element per class Names of elements must match those in <code>classes</code>. Values can be 0 or 1. These can be scalars or vectors (of length equal to rows in the database). A user can also specify <code>avail=1</code> to indicate universal availability, or omit the setting completely.
</p>
</li>
<li> <p><strong><code>rows</code></strong>: Boolean vector. Consideration of which rows to include. Length equal to the number of observations (nObs), with entries equal to TRUE for rows to include, and FALSE for rows to exclude. Default is <code>"all"</code>, equivalent to <code>rep(TRUE, nObs)</code>. 
</p>
</li>
<li> <p><strong><code>componentName</code></strong>: Character. Name given to model component. If not provided by the user, Apollo will set the name automatically according to the element in <code>P</code> to which the function output is directed.
</p>
</li>
</ul>
</td>
</tr></table>
<h3>Value</h3>

<p>The returned object depends on the value of argument <code>functionality</code>, which it fetches from the calling stack (see apollo_validateInputs).
</p>

<ul>
<li> <p><strong><code>"components"</code></strong>: Same as <code>"estimate"</code>.
</p>
</li>
<li> <p><strong><code>"conditionals"</code></strong>: Same as <code>"estimate"</code>.
</p>
</li>
<li> <p><strong><code>"estimate"</code></strong>: List of vector/matrices/arrays with the allocation probabilities for each class.
</p>
</li>
<li> <p><strong><code>"gradient"</code></strong>: List containing the likelihood and gradient of the model component.
</p>
</li>
<li> <p><strong><code>"output"</code></strong>: Same as <code>"estimate"</code>.
</p>
</li>
<li> <p><strong><code>"prediction"</code></strong>: Same as <code>"estimate"</code>.
</p>
</li>
<li> <p><strong><code>"preprocess"</code></strong>: Returns a list with pre-processed inputs, based on <code>classAlloc_settings</code>.
</p>
</li>
<li> <p><strong><code>"raw"</code></strong>: Same as <code>"estimate"</code>.
</p>
</li>
<li> <p><strong><code>"report"</code></strong>: Same as <code>"estimate"</code>.
</p>
</li>
<li> <p><strong><code>"shares_LL"</code></strong>: List with probabilities for each class in an equal shares setting.
</p>
</li>
<li> <p><strong><code>"validate"</code></strong>: Same as <code>"estimate"</code>, but it also runs a set of tests to validate the function inputs.
</p>
</li>
<li> <p><strong><code>"zero_LL"</code></strong>: List with probabilities for each class in an equal shares setting.
</p>
</li>
</ul>
</div>