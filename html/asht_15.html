<div class="container">

<table style="width: 100%;"><tr>
<td>metaNorm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Meta analysis of normally distributed parameters with assumed known variance
</h2>

<h3>Description</h3>

<p>Performs either a random effects meta analysis (Paule-Mandel method or Dersimonian-Laird method) or a fixed effects meta analysis. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">metaNorm(y, s2, method = c("PM", "DL", "fixed"), df = NULL, nullparm = 0,
    conf.level = 0.95, alternative = c("two.sided", "less", "greater"),  
    niter = 100, epsilon = 1e-10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>vector of parameter estimates
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s2</code></td>
<td>

<p>vector of variances of parameter estimates
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>either "PM" (Paule-Mandel random effects method), "DL" (Dersimonian-Laird random effects method) or "fixed" (fixed effects method)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>

<p>degrees of freedom, NULL gives either df=k-1 (method="PM"), df=Inf (method="DL" or "fixed")
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>

<p>confidence level 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>

<p>type of alternative hypothesis
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nullparm</code></td>
<td>

<p>null value of the parameter for calculating the p-value
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>niter</code></td>
<td>

<p>maximum number of iterations for method="PM" 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epsilon</code></td>
<td>

<p>small number for determining convergence of Paule-Mandel method.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Assume you have a vector of treatment effect estimates from K studies (y), together with variance estimates (s2). Assume that 
y[i] is distributed normal with mean theta[i] and variance s2[i], and assume the theta[i] (the latent treatment effect for the ith study) is normally distributed with mean theta and variance tau2 (tau^2). Assume independence between studies. 
</p>
<p>We are interested in estimating the weighted average of the theta[i]. If tau2 is known, then an efficient estimator weighs each study proportional to the inverse of its variance, w[i] = 1/(tau2 + s2[i]). We can either assume tau2=0, and we have a fixed effects model (in other words, the treatment effect is constant across all the studies), or estimate tau2. The method for estimating tau2 either uses a simple method of moments estimator of Dersimonian and Laird (1986), or an iterative method of moments estimator of Paule and Mandel (1982). Dersimonian and Kacker (2007) give the details. 
</p>
<p>For the Paule-Mandel estimator, to account for the fact that we are estimating tau2, we default to using a t-distribution with K-1 degrees of freedom (for motivation see Brittain, Fay and Follmann, 2012, Supplement, Section 3).
</p>


<h3>Value</h3>

<p>A list with class <code>"htest"</code> containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>
<p>a vector of [1] the estimator of tau2 and [2] the t-statistic (or Z-statistic)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>degrees of freedom of the t-distribution (df=Inf gives a normal distribution)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p>the p-value for the test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>a confidence interval</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p>a vector of [1] the estimated weighted means and [2] the estimated standard error of the weighted means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null.value</code></td>
<td>
<p>the specified hypothesized value of the weighted means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string describing the alternative
hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character string describing the test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.name</code></td>
<td>
<p>a character string giving the name(s) of the data.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Michael P. Fay
</p>


<h3>References</h3>

<p>Brittain, Fay, and Follmann (2012) A valid formulation of the analysis of noninferiority trials under random effects meta-analysis. Biostatistics 13(4): 637-649.
</p>
<p>Dersimonian, R and Kacker, R (2007) Random-effects model for meta-analysis of clinical trials: an update. Contemporary Clinical Trials 28:105-144. 
</p>
<p>Dersimonian, R and Laird, N. (1986). Meta-analysis in clinical trials. Controled Clinical Trials. 7:177-187.
</p>
<p>Paule, RC and Mandel, J (1982). Consensus values and weighting factors. J Res Natl Bur Stand 87: 377-385.
</p>


<h3>See Also</h3>

<p><a href="https://CRAN.R-project.org/package=meta"><span class="pkg">meta</span></a>   package on CRAN
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Data from Table III of Teo et al, BMJ 303:1499-1503
# Effects of intravenous magnesium in suspected acute myocardial
# infarction: overview of randomised trials
# xt/nt = deaths/total in treatment group (magnesium)
# xc/nc = deaths/total in control group
xt&lt;-c(1,9,2,1,10,1,1)
nt&lt;-c(40,135,200,48,150,59,25)
xc&lt;-c(2,23,7,1,8,9,3)
nc&lt;-c(36,135,200,46,148,56,23)

rt&lt;- xt/nt
rc&lt;- xc/nc
logOR&lt;- log(rt*(1-rc)/(rc*(1-rt)))
varLogOR&lt;- 1/(nt*rt*(1-rt)) + 1/(nc*rc*(1-rc))

# Compare weighted mean and std err to Table 4 of Dersimonian and Kacker, 2007
metaNorm(logOR,varLogOR,method="PM")
metaNorm(logOR,varLogOR,method="DL")
metaNorm(logOR,varLogOR,method="fixed")
# Compare tau values to Table 3 of Dersimonian and Kacker, 2007
sqrt( metaNorm(logOR,varLogOR,method="PM")$statistic["tau squared"] )
sqrt( metaNorm(logOR,varLogOR,method="DL")$statistic["tau squared"] )

</code></pre>


</div>