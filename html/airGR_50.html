<div class="container">

<table style="width: 100%;"><tr>
<td>plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Default preview of model outputs</h2>

<h3>Description</h3>

<p>Function which creates a screen plot giving an overview of the model outputs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'OutputsModel'
plot(x, Qobs = NULL, IndPeriod_Plot = NULL,
     BasinArea = NULL, which = "synth", log_scale = FALSE,
     cex.axis = 1, cex.lab = 0.9, cex.leg = 0.9, lwd = 1,
     AxisTS = function(x) axis.POSIXct(side = 1, x = x$DatesR, ...),
     LayoutMat = NULL,
     LayoutWidths = rep.int(1, ncol(LayoutMat)),
     LayoutHeights = rep.int(1, nrow(LayoutMat)),
     verbose = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>[object of class <em>OutputsModel</em>] list of model outputs (which must at least include DatesR, Precip and Qsim) [POSIXlt, mm/time step, mm/time step]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Qobs</code></td>
<td>
<p>(optional) [numeric] time series of observed flow (for the same time steps than simulated) [mm/time step]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IndPeriod_Plot</code></td>
<td>
<p>(optional) [numeric] indices of the time steps to be plotted (among the OutputsModel series)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BasinArea</code></td>
<td>
<p>(optional) [numeric] basin area [km2], used to plot flow axes in m3/s</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>(optional) [character] choice of plots <br> (e.g. c(<code>"Precip"</code>, <code>"Temp"</code>, <code>"SnowPack"</code>, <code>"Flows"</code>, <code>"Error"</code>, <code>"Regime"</code>, <code>"CumFreq"</code>, <code>"CorQQ"</code>)), default = <code>"synth"</code>, see details below</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_scale</code></td>
<td>
<p>(optional) [boolean] indicating if the flow and the error time series axis and the flow error time series axis are to be logarithmic, default = <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.axis</code></td>
<td>
<p>(optional) [numeric] the magnification to be used for axis annotation relative to the current setting of <code>cex</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.lab</code></td>
<td>
<p>(optional) [numeric] the magnification to be used for x and y labels relative to the current setting of <code>cex</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.leg</code></td>
<td>
<p>(optional) [numeric] the magnification to be used for the legend labels relative to the current setting of <code>cex</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>(optional) [numeric] the line width (a positive number)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AxisTS</code></td>
<td>
<p>(optional) [function] to manage x-axis representing calendar dates and times on time series plots (see <code>axis</code> and <code>axis.POSIXct</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LayoutMat</code></td>
<td>
<p>(optional) [numeric] a matrix object specifying the location of the next N figures on the output device. Each value in the matrix must be 0 or a positive integer. If N is the largest positive integer in the matrix, then the integers <code class="reqn">1, \dots, N-1</code> must also appear at least once in the matrix (see <code>layout</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LayoutWidths</code></td>
<td>
<p>(optional) [numeric] a vector of values for the widths of columns on the device (see <code>layout</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LayoutHeights</code></td>
<td>
<p>(optional) [numeric] a vector of values for the heights of rows on the device (see <code>layout</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>(optional) [boolean] indicating if the function is run in verbose mode or not, default = <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>(optional) other parameters to be passed through to plotting functions</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Different types of independent graphs are available (depending on the model, but always drawn in this order):
</p>

<ul>
<li> <p><code>"Precip"</code>: time series of total precipitation
</p>
</li>
<li> <p><code>"PotEvap"</code>: time series of potential evapotranspiration
</p>
</li>
<li> <p><code>"ActuEvap"</code>: time series of simulated actual evapotranspiration (overlaid to <code>"PotEvap"</code> if already drawn)
</p>
</li>
<li> <p><code>"Temp"</code>: time series of temperature (plotted only if CemaNeige is used)
</p>
</li>
<li> <p><code>"SnowPack"</code>: time series of snow water equivalent (plotted only if CemaNeige is used)
</p>
</li>
<li> <p><code>"Flows"</code>: time series of simulated flows (and observed flows if provided)
</p>
</li>
<li> <p><code>"Error"</code>: time series of simulated flows minus observed flows (and observed flows if provided)
</p>
</li>
<li> <p><code>"Regime"</code>: centred 30-day rolling mean applied on interannual average of daily simulated flows (and observed flows if provided)
</p>
</li>
<li> <p><code>"CorQQ"</code>: correlation plot between simulated and observed flows (only if observed flows provided)
</p>
</li>
<li> <p><code>"CumFreq"</code>: cumulative frequency plot for simulated flows (and observed flows if provided)
</p>
</li>
</ul>
<p>Different dashboards of results including various graphs are available:
</p>

<ul>
<li> <p><code>"perf"</code>: corresponds to <code>"Error"</code>, <code>"Regime"</code>, <code>"CumFreq"</code> and <code>"CorQQ"</code>
</p>
</li>
<li> <p><code>"ts"</code>: corresponds to <code>"Precip"</code>, <code>"PotEvap"</code>, <code>"Temp"</code>, <code>"SnowPack"</code> and <code>"Flows"</code>
</p>
</li>
<li> <p><code>"synth"</code>: corresponds to <code>"Precip"</code>, <code>"Temp"</code>, <code>"SnowPack"</code>, <code>"Flows"</code>, <code>"Regime"</code>, <code>"CumFreq"</code> and <code>"CorQQ"</code>
</p>
</li>
<li> <p><code>"all"</code>: corresponds to <code>"Precip"</code>, <code>"PotEvap"</code>, <code>"ActuEvap"</code>, <code>"Temp"</code>, <code>"SnowPack"</code>, <code>"Flows"</code>, <code>"Error"</code>, <code>"Regime"</code>, <code>"CumFreq"</code> and <code>"CorQQ"</code>
</p>
</li>
</ul>
<p>If several dashboards are selected, or if an independent graph is called with a dashboard, the graphical device will include all the requested graphs without redundancy.
</p>


<h3>Value</h3>

<p>Screen plot window.
</p>


<h3>Author(s)</h3>

<p>Laurent Coron, Olivier Delaigue, Guillaume Thirel
</p>


<h3>Examples</h3>

<pre><code class="language-R">### see examples of RunModel_GR4J or RunModel_CemaNeigeGR4J functions
### to understand how the example datasets have been prepared


## loading examples dataset for GR4J and GR4J + CemaNeige
data(exampleSimPlot)


### Qobs and outputs from GR4J and GR4J + CemaNeige models
str(simGR4J, max.level = 1)
str(simCNGR4J, max.level = 1)


### default dashboard (which = "synth")

## GR models whithout CemaNeige
plot(simGR4J$OutputsModel, Qobs = simGR4J$Qobs)

## GR models whith CemaNeige ("Temp" and "SnowPack" added)
plot(simCNGR4J$OutputsModel, Qobs = simCNGR4J$Qobs)


### "Error" and "CorQQ" plots cannot be display whithout Qobs
plot(simGR4J$OutputsModel, which = "all", Qobs = simGR4J$Qobs)
plot(simGR4J$OutputsModel, which = "all", Qobs = NULL)


### complex plot arrangements
plot(simGR4J$OutputsModel, Qobs = simGR4J$Qobs,
     which = c("Flows", "Regime", "CumFreq", "CorQQ"),
     LayoutMat = matrix(c(1, 2, 3, 1, 4, 4), ncol = 2),
     LayoutWidths  = c(1.5, 1),
     LayoutHeights = c(0.5, 1, 1))


### customize x-axis on time series plot
FunAxisTS &lt;- function(x) {
  axis.POSIXct(side = 1, x = x$DatesR,
  at = pretty(x$DatesR, n = 10),
  format = "%Y-%m-%d")
}
plot(simGR4J$OutputsModel, Qobs = simGR4J$Qobs, AxisTS = FunAxisTS)


### add a main title

## the whole list of settable par's
opar &lt;- par(no.readonly = TRUE)

## define outer margins and a title inside it
par(oma = c(0, 0, 3, 0))
plot(simGR4J$OutputsModel, Qobs = simGR4J$Qobs)
title(main = "GR4J outputs", outer = TRUE, line = 1.2, cex.main = 1.4)

## reset original par
par(opar)
</code></pre>


</div>