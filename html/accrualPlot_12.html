<div class="container">

<table style="width: 100%;"><tr>
<td>accrual_plot_cum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cumulative accrual plots</h2>

<h3>Description</h3>

<p>Plot of cumulative recruitment using an accrual data frame produced by <code>accrual_create_df</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">accrual_plot_cum(
  accrual_df,
  ylim = NA,
  xlim = NA,
  ylab = "Recruited patients",
  xlabn = 5,
  xlabminn = xlabn%/%2,
  xlabformat = "%d%b%Y",
  xlabpos = NA,
  xlabsrt = 45,
  xlabadj = c(1, 1),
  xlabcex = 1,
  col = rep(1:8, 5),
  lty = rep(1:5, each = 8),
  legend.list = NULL,
  ...
)

gg_accrual_plot_cum(accrual_df, xlabformat = "%d%b%Y")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>accrual_df</code></td>
<td>
<p>object of class 'accrual_df' or 'accrual_list' produced by <code>accrual_create_df</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>limits for y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>limits for x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>y-axis label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlabn</code></td>
<td>
<p>integer giving the desired number of intervals for the xlabel, default=5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlabminn</code></td>
<td>
<p>negative integer giving the minimal number of intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlabformat</code></td>
<td>
<p>format of date on x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlabpos</code></td>
<td>
<p>position of the x-label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlabsrt</code></td>
<td>
<p>rotation of x-axis labels in degrees.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlabadj</code></td>
<td>
<p>adjustment of x-label, numeric vector with length 1 or 2
for different adjustment in x- and y-direction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlabcex</code></td>
<td>
<p>size of x-axis label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>color for line(s) in plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>line type(s) in plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.list</code></td>
<td>
<p>named list with options passed to legend().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further options passed to plot() and axis().</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When the <code>accrual_df</code> includes multiple sites, the dataframe
passed to <code>ggplot</code> includes a <code>site</code> variable
which can be used for faceting
</p>


<h3>Value</h3>

<p><code>accrual_plot_cum</code> returns a plot of the cumulative accrual (per site if accrual_df is a list).
</p>
<p>ggplot2 object
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(2020)
enrollment_dates &lt;- as.Date("2018-01-01") + sort(sample(1:30, 50, replace=TRUE))
accrual_df&lt;-accrual_create_df(enrollment_dates)
accrual_plot_cum(accrual_df)
accrual_plot_cum(accrual_df,cex.lab=1.2,cex.axis=1.1,xlabcex=1.1)

#several sites
set.seed(1)
centers&lt;-sample(c("Site 1","Site 2","Site 3"),length(enrollment_dates),replace=TRUE)
accrual_df&lt;-accrual_create_df(enrollment_dates,by=centers)
accrual_plot_cum(accrual_df)

#assuming a common start and current date
accrual_df&lt;-accrual_create_df(enrollment_dates,by=centers,start_date="common",current_date="common")
accrual_plot_cum(accrual_df)

#plot and legend options
accrual_plot_cum(accrual_df,col=c("red",rep(1,3)),lty=c(1,1:3),cex.lab=1.2,cex.axis=1.1,xlabcex=1.1)
accrual_plot_cum(accrual_df,legend.list=list(ncol=2,bty=TRUE,cex=0.8))

#without overall
accrual_df&lt;-accrual_create_df(enrollment_dates,by=centers,overall=FALSE)
accrual_plot_cum(accrual_df)

### ggplot2 approach
data(accrualdemo)
accrual_df&lt;-accrual_create_df(accrualdemo$date)
gg_accrual_plot_cum(accrual_df)
gg_accrual_plot_cum(accrual_df) +
  ggplot2::theme_classic()

#several sites
accrual_df &lt;- accrual_create_df(accrualdemo$date, by = accrualdemo$site)
gg_accrual_plot_cum(accrual_df)

#assuming a common start and current date
accrual_df &lt;-
  accrual_create_df(
    accrualdemo$date,
    by = accrualdemo$site,
    start_date = "common",
    current_date = "common"
  )
gg_accrual_plot_cum(accrual_df)

#without overall
accrual_df &lt;-
  accrual_create_df(accrualdemo$date, by = accrualdemo$site, overall = FALSE)
gg_accrual_plot_cum(accrual_df)
</code></pre>


</div>