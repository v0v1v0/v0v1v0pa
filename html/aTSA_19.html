<div class="container">

<table style="width: 100%;"><tr>
<td>Winters</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Winters Three-parameter Smoothing</h2>

<h3>Description</h3>

<p>Performs Winters three-parameter smoothing for a univariate time series
with seasonal pattern.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Winters(x, period = NULL, trend = 2, lead = 0, plot = TRUE,
  seasonal = c("additive", "multiplicative"), damped = FALSE, alpha = 0.2,
  beta = 0.1057, gamma = 0.07168, phi = 0.98, a.start = NA,
  b.start = NA, c.start = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a univariate time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period</code></td>
<td>
<p>seasonal period. The default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trend</code></td>
<td>
<p>the type of trend component, can be one of 1,2,3 which represents constant,
linear and quadratic trend, respectively. The default is <code>trend = 2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lead</code></td>
<td>
<p>the number of steps ahead for which prediction is required.
The default is <code>0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>a logical value indicating to display the smoothed graph. The default is
<code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seasonal</code></td>
<td>
<p>character string to select an "<code>additive</code>" or "<code>multiplicative</code>"
seasonal model. The default is "<code>additive</code>".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>damped</code></td>
<td>
<p>a logical value indicating to include the damped trend, only valid for
<code>trend = 2</code>. The default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>the parameter of level smoothing. The default is <code>0.2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>the parameter of trend smoothing. The default is <code>0.1057</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>the parameter of season smoothing. The default is <code>0.07168</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi</code></td>
<td>
<p>the parameter of damped trend smoothing, only valid for <code>damped = TRUE</code>.
The default is <code>0.98</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a.start</code></td>
<td>
<p>the starting value for level smoothing. The default is <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b.start</code></td>
<td>
<p>the starting value for trend smoothing. The default is <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c.start</code></td>
<td>
<p>the starting value for season smoothing. The default is <code>NA</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The Winters filter is used to decompose the trend and seasonal components by
updating equations. This is similar to the function <code>HoltWinters</code> in
<code>stats</code> package but may be in different perspective. To be precise, it uses the
updating equations similar to exponential
smoothing to fit the parameters for the following models when
<code>seasonal = "additive"</code>.
If the trend is constant (<code>trend = 1</code>):
</p>
<p style="text-align: center;"><code class="reqn">x[t] = a[t] + s[t] + e[t].</code>
</p>

<p>If the trend is linear (<code>trend = 2</code>):
</p>
<p style="text-align: center;"><code class="reqn">x[t] = (a[t] + b[t]*t) + s[t] + e[t].</code>
</p>

<p>If the trend is quadratic (<code>trend = 3</code>):
</p>
<p style="text-align: center;"><code class="reqn">x[t] = (a[t] + b[t]*t + c[t]*t^2) + s[t] + e[t].</code>
</p>

<p>Here <code class="reqn">a[t],b[t],c[t]</code> are the trend parameters, <code class="reqn">s[t]</code> is the seasonal
parameter for the
season corresponding to time <code class="reqn">t</code>.
For the multiplicative season, the models are as follows.
If the trend is constant (<code>trend = 1</code>):
</p>
<p style="text-align: center;"><code class="reqn">x[t] = a[t] * s[t] + e[t].</code>
</p>

<p>If the trend is linear (<code>trend = 2</code>):
</p>
<p style="text-align: center;"><code class="reqn">x[t] = (a[t] + b[t]*t) * s[t] + e[t].</code>
</p>

<p>If the trend is quadratic (<code>trend = 3</code>):
</p>
<p style="text-align: center;"><code class="reqn">x[t] = (a[t] + b[t]*t + c[t]*t^2) * s[t] + e[t].</code>
</p>

<p>When <code>seasonal = "multiplicative"</code>, the updating equations for each parameter can
be seen in page 606-607 of PROC FORECAST document of SAS. Similarly, for the
additive seasonal model, the 'division' (/) for <code class="reqn">a[t]</code> and <code class="reqn">s[t]</code> in page 606-607
is changed to 'minus' (-).
</p>
<p>The default starting values for <code class="reqn">a,b,c</code> are computed by a time-trend regression over
the first cycle of time series. The default starting values for the seasonal factors are
computed from seasonal averages. The default smoothing parameters (weights) <code>alpha,
beta, gamma</code> are taken from the equation <code>1 - 0.8^{1/trend}</code> respectively. You can
also use the <code>HoltWinters</code> function to get the optimal smoothing parameters
and plug them back in this function.
</p>
<p>The prediction equation is <code class="reqn">x[t+h] = (a[t] + b[t]*t)*s[t+h]</code> for <code>trend = 2</code> and
<code>seasonal = "additive"</code>. Similar equations can be derived for the other options. When
the <code>damped = TRUE</code>, the prediction equation is
<code class="reqn">x[t+h] = (a[t] + (\phi + ... + \phi^(h))*b[t]*t)*s[t+h]</code>. More details can be
referred to R. J. Hyndman and G. Athanasopoulos (2013).
</p>


<h3>Value</h3>

<p>A list with class "<code>Winters</code>" containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>season</code></td>
<td>
<p>the seasonal factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p>the smoothed values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred</code></td>
<td>
<p>the prediction, only available with <code>lead</code> &gt; 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accurate</code></td>
<td>
<p>the accurate measurements.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>The sum of seasonal factors is equal to the seasonal period. This restriction is
to ensure the identifiability of seasonality in the models above.
</p>


<h3>Author(s)</h3>

<p>Debin Qiu
</p>


<h3>References</h3>

<p>P. R. Winters (1960) Forecasting sales by exponentially weighted moving averages,
<em>Management Science</em> 6, 324-342.
</p>
<p>R. J. Hyndman and G. Athanasopoulos, "Forecasting: principles and practice," 2013.
[Online]. Available: <a href="http://otexts.org/fpp/">http://otexts.org/fpp/</a>.
</p>


<h3>See Also</h3>

<p><code>HoltWinters</code>, <code>Holt</code>, <code>expsmooth</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">Winters(co2)

Winters(AirPassengers, seasonal = "multiplicative")
</code></pre>


</div>