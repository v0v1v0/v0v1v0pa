<div class="container">

<table style="width: 100%;"><tr>
<td>random.transactions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate a Random Transactions</h2>

<h3>Description</h3>

<p>Simulate random transactions using different methods.
</p>


<h3>Usage</h3>

<pre><code class="language-R">random.transactions(
  nItems,
  nTrans,
  method = "independent",
  ...,
  verbose = FALSE
)

random.patterns(
  nItems,
  nPats = 2000,
  method = NULL,
  lPats = 4,
  corr = 0.5,
  cmean = 0.5,
  cvar = 0.1,
  iWeight = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nItems</code></td>
<td>
<p>an integer. Number of items to simulate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nTrans</code></td>
<td>
<p>an integer. Number of transactions to simulate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>name of the simulation method used (see Details Section).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments used for the specific simulation method (see
details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>report progress?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nPats</code></td>
<td>
<p>number of patterns (potential maximal frequent itemsets) used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lPats</code></td>
<td>
<p>average length of patterns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corr</code></td>
<td>
<p>correlation between consecutive patterns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cmean</code></td>
<td>
<p>mean of  the corruption level (normal distribution).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvar</code></td>
<td>
<p>variance of the corruption level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iWeight</code></td>
<td>
<p>item selection weights to build patterns.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Currently two simulation methods are implemented:
</p>

<ul>
<li> <p><code>"independent"</code> (Hahsler et al, 2006): All items
are treated as independent. The transaction size is determined by
<code>rpois(lambda - 1) + 1</code>, where <code>lambda</code> can be specified (defaults to 3).
Note that one subtracted from lambda and added to the size to avoid
empty transactions. The items in the transactions are randomly chosen using
the numeric probability vector <code>iProb</code> of length <code>nItems</code>
(default: 0.01 for each item).
</p>
</li>
<li> <p><code>"agrawal"</code> (see Agrawal and Srikant, 1994): This
method creates transactions with correlated items using <code>random.patters()</code>.
The simulation is a two-stage process. First, a set of <code>nPats</code> patterns
(potential maximal frequent itemsets) is generated.  The length of the
patterns is Poisson distributed with mean <code>lPats</code> and consecutive
patterns share some items controlled by the correlation parameter
<code>corr</code>.  For later use, for each pattern a pattern weight is generated
by drawing from an exponential distribution with a mean of 1 and a
corruption level is chosen from a normal distribution with mean <code>cmean</code>
and variance <code>cvar</code>.
The function returns the patterns as an <code>itemsets</code> objects which can be
supplied to <code>random.transactions()</code> as the argument <code>patterns</code>.  If
no argument <code>patterns</code> is supplied, the default values given above are
used.
</p>
<p>In the second step, the transactions are generated using the patterns.  The
length the transactions follows a Poisson distribution with mean
<code>lPats</code>. For each transaction, patterns are randomly chosen using the
pattern weights till the transaction length is reached. For each chosen
pattern, the associated corruption level is used to drop some items before
adding the pattern to the transaction.
</p>
</li>
</ul>
<h3>Value</h3>

<p>Returns a <code style="white-space: pre;">⁠ntrans x nitems⁠</code> transactions object.
</p>


<h3>Author(s)</h3>

<p>Michael Hahsler
</p>


<h3>References</h3>

<p>Michael Hahsler, Kurt Hornik, and Thomas Reutterer (2006).
Implications of probabilistic data modeling for mining association rules. In
M. Spiliopoulou, R. Kruse, C. Borgelt, A. Nuernberger, and W. Gaul, editors,
<em>From Data and Information Analysis to Knowledge Engineering, Studies
in Classification, Data Analysis, and Knowledge Organization</em>, pages
598–605. Springer-Verlag.
</p>
<p>Rakesh Agrawal and Ramakrishnan Srikant (1994). Fast algorithms for mining
association rules in large databases. In Jorge B. Bocca, Matthias Jarke, and
Carlo Zaniolo, editors, <em>Proceedings of the 20th International
Conference on Very Large Data Bases, VLDB</em>, pages 487–499, Santiago, Chile.
</p>


<h3>See Also</h3>

<p>Other itemMatrix and transactions functions: 
<code>abbreviate()</code>,
<code>c()</code>,
<code>crossTable()</code>,
<code>duplicated()</code>,
<code>extract</code>,
<code>hierarchy</code>,
<code>image()</code>,
<code>inspect()</code>,
<code>is.superset()</code>,
<code>itemFrequency()</code>,
<code>itemFrequencyPlot()</code>,
<code>itemMatrix-class</code>,
<code>match()</code>,
<code>merge()</code>,
<code>sample()</code>,
<code>sets</code>,
<code>size()</code>,
<code>supportingTransactions()</code>,
<code>tidLists-class</code>,
<code>transactions-class</code>,
<code>unique()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## generate random 1000 transactions for 200 items with
## a success probability decreasing from 0.2 to 0.0001
## using the method described in Hahsler et al. (2006).
trans &lt;- random.transactions(nItems = 200, nTrans = 1000,
   lambda = 5, iProb = seq(0.2,0.0001, length=200))

## size distribution
summary(size(trans))

## display random data set
image(trans)

## use the method by Agrawal and Srikant (1994) to simulate transactions
## which contains correlated items. This should create data similar to
## T10I4D100K (we just create 100 transactions here to speed things up).
patterns &lt;- random.patterns(nItems = 1000)
summary(patterns)

trans2 &lt;- random.transactions(nItems = 1000, nTrans = 100,
   method = "agrawal", patterns = patterns)
image(trans2)

## plot data with items ordered by item frequency
image(trans2[,order(itemFrequency(trans2), decreasing=TRUE)])
</code></pre>


</div>