<div class="container">

<table style="width: 100%;"><tr>
<td>noise_worley</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Worley (cell) noise generator</h2>

<h3>Description</h3>

<p>Worley noise, sometimes called cell (or cellular) noise, is quite distinct
due to it's kinship to voronoi tesselation. It is created by sampling random
points in space and then for any point in space measure the distance to the
closest point. The noise can be modified further by changing either the
distance measure or by combining multiple distances. The noise algorithm was
developed by Steven Worley in 1996 and has been used to simulated water and
stone textures among other things.
</p>


<h3>Usage</h3>

<pre><code class="language-R">noise_worley(
  dim,
  frequency = 0.01,
  distance = "euclidean",
  fractal = "none",
  octaves = 3,
  lacunarity = 2,
  gain = 0.5,
  value = "cell",
  distance_ind = c(1, 2),
  jitter = 0.45,
  pertubation = "none",
  pertubation_amplitude = 1
)

gen_worley(
  x,
  y = NULL,
  z = NULL,
  frequency = 1,
  seed = NULL,
  distance = "euclidean",
  value = "cell",
  distance_ind = c(1, 2),
  jitter = 0.45,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dim</code></td>
<td>
<p>The dimensions (height, width, (and depth)) of the noise to be
generated. The length determines the dimensionality of the noise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frequency</code></td>
<td>
<p>Determines the granularity of the features in the noise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance</code></td>
<td>
<p>The distance measure to use, either <code>'euclidean'</code> (default),
<code>'manhattan'</code>, or <code>'natural'</code> (a mix of the two)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fractal</code></td>
<td>
<p>The fractal type to use. Either <code>'none'</code>, <code>'fbm'</code> (default),
<code>'billow'</code>, or <code>'rigid-multi'</code>. It is suggested that you experiment with the
different types to get a feel for how they behaves.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>octaves</code></td>
<td>
<p>The number of noise layers used to create the fractal noise.
Ignored if <code>fractal = 'none'</code>. Defaults to <code>3</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lacunarity</code></td>
<td>
<p>The frequency multiplier between successive noise layers
when building fractal noise. Ignored if <code>fractal = 'none'</code>. Defaults to <code>2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gain</code></td>
<td>
<p>The relative strength between successive noise layers when
building fractal noise. Ignored if <code>fractal = 'none'</code>. Defaults to <code>0.5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>The noise value to return. Either
</p>

<ul>
<li> <p><code>'value'</code> (default) A random value associated with the closest point
</p>
</li>
<li> <p><code>'distance'</code> The distance to the closest point
</p>
</li>
<li> <p><code>'distance2'</code> The distance to the nth closest point (n given by
<code>distance_ind[1]</code>)
</p>
</li>
<li> <p><code>'distance2add'</code> Addition of the distance to the nth and mth closest point given in <code>distance_ind</code>
</p>
</li>
<li> <p><code>'distance2sub'</code> Substraction of the distance to the nth and mth closest point given in <code>distance_ind</code>
</p>
</li>
<li> <p><code>'distance2mul'</code> Multiplication of the distance to the nth and mth closest point given in <code>distance_ind</code>
</p>
</li>
<li> <p><code>'distance2div'</code> Division of the distance to the nth and mth closest point given in <code>distance_ind</code>
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance_ind</code></td>
<td>
<p>Reference to the nth and mth closest points that should
be used when calculating <code>value</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter</code></td>
<td>
<p>The maximum distance a point can move from its start position
during sampling of cell points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pertubation</code></td>
<td>
<p>The pertubation to use. Either <code>'none'</code> (default),
<code>'normal'</code>, or <code>'fractal'</code>. Defines the displacement (warping) of the noise,
with <code>'normal'</code> giving a smooth warping and <code>'fractal'</code> giving a more eratic
warping.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pertubation_amplitude</code></td>
<td>
<p>The maximal pertubation distance from the
origin. Ignored if <code>pertubation = 'none'</code>. Defaults to <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, y, z</code></td>
<td>
<p>Coordinates to get noise value from</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>The seed to use for the noise. If <code>NULL</code> a random seed will be
used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>For <code>noise_worley()</code> a matrix if <code>length(dim) == 2</code> or an array if
<code>length(dim) == 3</code>. For <code>gen_worley()</code> a numeric vector matching the length of
the input.
</p>


<h3>References</h3>

<p>Worley, Steven (1996). <em>A cellular texture basis function</em>. Proceedings of the 23rd annual conference on computer graphics and interactive techniques. pp. 291â€“294. ISBN 0-89791-746-4
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Basic use
noise &lt;- noise_worley(c(100, 100))

plot(as.raster(normalise(noise)))

# Using the generator and another value metric
grid &lt;- long_grid(seq(1, 10, length.out = 1000), seq(1, 10, length.out = 1000))
grid$noise &lt;- gen_worley(grid$x, grid$y, value = 'distance')
plot(grid, noise)

</code></pre>


</div>