<div class="container">

<table style="width: 100%;"><tr>
<td>panel.addScales</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Default panelFUN For addScales.trellis
</h2>

<h3>Description</h3>

<p>Adds Labeled Midline and (Unlabeled) Lines or Shaded Regions Showing
Plot Scaling to Trellis Panels.
</p>


<h3>Usage</h3>

<pre><code class="language-R">   panel.addScales(
   scaleline = c(0,0),
   scaleType = c("line", "region"),
   ndig.midline = c(h = 2, v = 2),
   col.midline = "red",
   adj.midline = c(-0.1, -0.25),
   midline.aes = list(lwd = if(colCode == "n") 1.5 else 3),
   midline.label.aes =list(
      col = if(colCode == "n")col.midline else "black",
      fontface = "bold",
      cex = .8),
   scaleline.aes = list(lty = "dashed", col = "purple"),
   region.aes = list(fill = "tan", alpha = .20),
   colCode = c("n", "m", "r"),
   palette =  hcl.colors(n = 100, "Viridis"),
   ...
   )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>scaleline</code></td>
<td>

<p>A numeric vector of length 1 or 2 giving the distance from the scalelines
to the midline(s); or equivalently, the half width(s) of the shaded scale regions.
Signs are ignored. If two values are given, the first is the
(vertical) distance to the horizontal midline and the second is the (horizontal)
distance to the vertical midline. If a single value is given,it is assumed to be the
first and the second is 0. 0 or NA mean: don't add that scaleline/region and midline.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleType</code></td>
<td>

<p>Whether the scale distance from the midline is shown by scale lines or as a
shaded region. Note: Use of shaded regions requires that the graphics device
support alpha transparency. Regions will not be shown properly – or at all –
if it does not.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndig.midline</code></td>
<td>

<p>Named or unnamed pair of integer arguments, or a single integer that will be replicated.
The names must be (and are assumed to be if unnamed) "h" and "v" <em>in that order</em> and
give the number of <em>significant</em> digits to show in the midline labels for the
corresponding midlines. Non-integer values are rounded to integer, and values outside the
range of 0 to 15digits are converted to 2. However, see the <b>Details</b> section below
for a caveat.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.midline</code></td>
<td>

<p>Midline color. Can be given in any form suitable for the base <code>col</code>
parameter of <code>par</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj.midline</code></td>
<td>

<p><code>numeric</code>: The <code>adj</code> vector of length two that will be fed to <code>panel.text</code>
to position the midline label with respect to the midline. <code>c(.5,.5)</code> centers
the label on the midline and lower limit of the relevant axis
(x-axis for a horizontal midline, so left-center; and y-axis for a vertical
midline, so bottom-center). See the base <code>text</code> function for details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>midline.aes</code></td>
<td>

<p>List of <em>aesthetics</em> of midline: <code>lwd, lty, alpha</code>, but
<b>not</b> <code>col</code>, as this is already specified in the
<code>col.midline</code> argument.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>midline.label.aes</code></td>
<td>

<p>List of <em>aesthetics</em> of the midline label: <code>col, cex, font,
      fontface, etc.</code>, but not <code>adj</code>, as this is handled by
<code>adj.midline</code>. See <code>panel.text</code> for argument details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleline.aes</code></td>
<td>

<p>List of <em>aesthetics</em> of the scale lines. Same as for
<code>midline.aes</code> except that <code>col</code> can be specified.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region.aes</code></td>
<td>

<p><code>fill</code> and <code>alpha</code> parameters for shaded scale region.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colCode</code></td>
<td>
<p><code>character</code>: Should the midlines and possibly also the scale
regions be color coded by the midline value in the range of all midline values?
Doing this in addition to labeling their values can improve visual comparison
of midline levels among the panels. "m" means color code just the midlines; "r" means
color code both midlines and scale regions; "n", the default, means do not color code.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>A vector of colors to use for color coding from low to high values.
See <code>heat.colors</code> for how to conveniently specify color palettes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Additional arguments passed down to the panel function, mostly ignored here. But
see the note below for an exception.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Midline values with significant digits that change precision by
“small” amounts relative to the <code>scaleline</code> values are
<em>zapped</em> by the <code>zapsmall()</code> function to remove extra
digits in the display to improve readability. For example,
a <code>midline</code> value of 1.23 would be shown as 1 when
<code>ndig.midline = 2</code> and <code>scaleline</code> = 100.
</p>


<h3>Value</h3>

<p>No value is returned. This panel function is added to the existing panel
function component of the <code>trellis</code> object on which <code>addScales</code>
dispatches. It adds midline(s) and scale lines or regions to the panels
when they are plotted.
</p>


<h3>Note</h3>

<p>A list, <code>all.panel.limits = list(h = obj$y.limits, v = obj$x.limits)</code>
with these components of the trellis object list is always passed to the
panel function (as part of the ... list). This makes available <em>all</em>
panel limits to the panel function, not just those of its own panel.
This list is used for color coding midlines and/or scale regions,
but is ignored otherwise here. Alternative panel functions may choose to use
this information in other ways.
</p>


<h3>Note</h3>

<p>For the <code>xxx.aes</code> arguments, when the user explicitly specifies the list, any component not specified will default to its formal <code style="white-space: pre;">⁠panel.addScales⁠</code> argument value if that exists, or to the relevant panel function default if not, i.e. <code>panel.refline</code> for the lines and <code>panel.text</code> for the labels.
</p>


<h3>Author(s)</h3>

<p>Bert Gunter <a href="mailto:bgunter.4567@gmail.com">bgunter.4567@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>colors</code>, <code>par</code>, <code>panel.refline</code>,
<code>panel.text</code>, <code>text</code>
</p>


</div>