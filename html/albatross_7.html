<div class="container">

<table style="width: 100%;"><tr>
<td>feemcube</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data cubes of fluorescence excitation-emission matrices</h2>

<h3>Description</h3>

<p>Given a list of <code>feem</code> objects or a 3-way array, build
tagged 3-dimensional arrays of fluorescence excitation-emission
spectra. Extract the data cube from the corresponding model objects.
Transform the data cube into a list of <code>feem</code> objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  feemcube(x, ...)
  ## S3 method for class 'list'
feemcube(x, all.wavelengths, ...)
  ## S3 method for class 'array'
feemcube(x, emission, excitation, scales, names = NULL, ...)
  ## S3 method for class 'feemparafac'
feemcube(x, ...)
  ## S3 method for class 'feemsplithalf'
feemcube(x, ...)
  ## S3 method for class 'feemjackknife'
feemcube(x, ...)
  ## S3 method for class 'feemflame'
feemcube(x, ...)
  ## S3 method for class 'feemcube'
as.list(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<dl>
<dt>feemcube</dt>
<dd>
<p>A list of FEEM objects, possibly named, or a numeric array.
</p>
<p>Alternatively, a <code>feemparafac</code>,
<code>feemjackknife</code>, <code>feemsplithalf</code>, or a
<code>feemflame</code> object.
</p>
</dd>
<dt>as.list.feemcube</dt>
<dd>
<p>A <code>feemcube</code> object.
</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all.wavelengths</code></td>
<td>

<p>Logical, a flag specifying whether to include wavelengths not present
in <em>all</em> of the samples. If <code>FALSE</code>, only those wavelength
present in all of the samples are included.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>emission</code></td>
<td>

<p>Numeric vector of emission wavelengths. Should correspond to the
first dimension of the array <code>x</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excitation</code></td>
<td>

<p>Numeric vector of excitation wavelengths. Should correspond to the
second dimension of the array <code>x</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales</code></td>
<td>

<p>Numeric vector of scale factors corresponding to the spectra in the
array. Should correspond to the third dimension of the array
<code>x</code>. If missing, assumed to be all <code class="reqn">1</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>

<p>Character vector of names of the samples. Should correspond to the
third dimension of the array <code>x</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Additional arguments besides those specified above are not allowed.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>feemcube.list</code> can be used to build FEEM data cubes from lists
of FEEM objects even if their wavelength grids do not exactly match.
The missing wavelengths may be set to <code>NA</code>
(<code>all.wavelengths = TRUE</code>) or omitted from the cube
(<code>all.wavelengths = FALSE</code>). See <code>feemgrid</code> if you
need to adjust the wavelength grid of a list of EEMs before making it
into a FEEM cube.
</p>
<p><code>feemcube.feemparafac</code>, <code>feemcube.jackknife</code>, and
<code>feemcube.feemsplithalf</code> return the data cube originally passed
to the corresponding functions.
</p>


<h3>Value</h3>

<p>A FEEM data cube is a numeric three-dimensional array with the
following attributes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>emission</code></td>
<td>

<p>Fluorescence emission wavelengths corresponding to the first
dimension of the array, nm.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excitation</code></td>
<td>

<p>Fluorescence excitation wavelengths corresponding to the second
dimension of the array, nm.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimnames</code></td>
<td>

<p>Dimension names, copies of information above. Used only for
presentation purposes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales</code></td>
<td>

<p>Scale factors of the samples, corresponding to the third dimension
of the array. Assumed to be <code class="reqn">1</code> if not specified by the user.
</p>
</td>
</tr>
</table>
<p><code>as.list.feemcube</code>: A named list of FEEM objects comprising
<code>x</code>.
</p>


<h3>See Also</h3>

<p>FEEM cube methods: <code>[.feemcube</code>,
<code>plot.feemcube</code>, <code>as.data.frame.feemcube</code>,
<code>feemife</code>, <code>feemscale</code>,
<code>feemscatter</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # array form
  feemcube(
    array(1:24, c(4, 3, 2)), # 3-way array obtained elsewhere
    seq(340, 400, len = 4), seq(250, 300, len = 3) # wavelengths
  )
  # list form
  feemcube(
    replicate(2, feem( # list of feem objects
      matrix(1:6, 2), c(340, 400), c(250, 275, 300)
    ), FALSE),
    TRUE
  )
  str(as.list(feemcube(array(1:60, 3:5), 1:3, 1:4)))
</code></pre>


</div>