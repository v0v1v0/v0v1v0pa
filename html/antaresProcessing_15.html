<div class="container">

<table style="width: 100%;"><tr>
<td>surplus</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute economic surplus</h2>

<h3>Description</h3>

<p>This function computes the economic surplus for the consumers, the producers
and the global surplus of an area.
</p>


<h3>Usage</h3>

<pre><code class="language-R">surplus(
  x,
  timeStep = "annual",
  synthesis = FALSE,
  groupByDistrict = FALSE,
  hurdleCost = TRUE,
  opts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class "antaresDataList" created with the function
<code>readAntares</code>. It has to contain some areas and all the links that are
connected to these areas. Moreover it needs to have a hourly time step and detailed results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeStep</code></td>
<td>
<p>Desired time step for the result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>synthesis</code></td>
<td>
<p>If TRUE, average surpluses are returned. Else the function returns surpluses
per Monte-Carlo scenario.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groupByDistrict</code></td>
<td>
<p>If TRUE, results are grouped by district.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hurdleCost</code></td>
<td>
<p>If TRUE, HURDLE COST will be removed from congestionFees.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opts</code></td>
<td>
<p>opts</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.table with the following columns:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>
<p>Name of the area.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeId</code></td>
<td>
<p>timeId and other time columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>consumerSurplus</code></td>
<td>
<p>The surplus of the consumers of some area.
</p>
<p>formula = (unsuppliedCost[area] - 'MRG. PRICE') * LOAD</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>producerSurplus</code></td>
<td>

<p>The surplus of the producers of some area.
</p>
<p>formula = 'MRG. PRICE' * production - 'OP. COST'
</p>
<p>Production includes "NUCLEAR", "LIGNITE", "COAL", "GAS", "OIL", "MIX. FUEL",
"MISC. DTG", "H. STOR", "H. ROR", "WIND", "SOLAR" and "MISC. NDG"
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rowBalanceSurplus</code></td>
<td>

<p>Surplus of the ROW balance.
</p>
<p>Formula: 'MRG. PRICE' * 'ROW BAL.'
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>storageSurplus</code></td>
<td>

<p>Surplus created by storage/flexibility areas.
</p>
<p>formula = storage * x$areas$'MRG. PRICE'
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>congestionFees</code></td>
<td>

<p>The congestion fees of a given area. It equals to half
the congestion fees of the links connected to that area.
</p>
<p>formula = (congestionFees-hurdleCost) / 2
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>globalSurplus</code></td>
<td>

<p>Sum of the consumer surplus, the producer surplus and the congestion fees.
</p>
<p>formula = consumerSurplus + producerSurplus + storageSurplus + congestionFees + rowBalanceSurplus</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
showAliases("surplus")

mydata &lt;- readAntares(select="surplus")
surplus(mydata)

surplus(mydata, synthesis = TRUE)
surplus(mydata, synthesis = TRUE, groupByDistrict = TRUE)

## End(Not run)

</code></pre>


</div>