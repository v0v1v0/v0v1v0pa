<div class="container">

<table style="width: 100%;"><tr>
<td>getSegment</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get Ig segment allele, gene and family names</h2>

<h3>Description</h3>

<p><code>getSegment</code> performs generic matching of delimited segment calls with a custom 
regular expression. getAllele, getGene and getFamily extract 
the allele, gene and family names, respectively, from a character vector of 
immunoglobulin (Ig) or TCR segment allele calls in IMGT format.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getSegment(
  segment_call,
  segment_regex,
  first = TRUE,
  collapse = TRUE,
  strip_d = TRUE,
  omit_nl = FALSE,
  sep = ","
)

getAllele(
  segment_call,
  first = TRUE,
  collapse = TRUE,
  strip_d = TRUE,
  omit_nl = FALSE,
  sep = ","
)

getGene(
  segment_call,
  first = TRUE,
  collapse = TRUE,
  strip_d = TRUE,
  omit_nl = FALSE,
  sep = ","
)

getFamily(
  segment_call,
  first = TRUE,
  collapse = TRUE,
  strip_d = TRUE,
  omit_nl = FALSE,
  sep = ","
)

getLocus(
  segment_call,
  first = TRUE,
  collapse = TRUE,
  strip_d = TRUE,
  omit_nl = FALSE,
  sep = ","
)

getChain(
  segment_call,
  first = TRUE,
  collapse = TRUE,
  strip_d = TRUE,
  omit_nl = FALSE,
  sep = ","
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>segment_call</code></td>
<td>
<p>character vector containing segment calls delimited by commas.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segment_regex</code></td>
<td>
<p>string defining the segment match regular expression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>first</code></td>
<td>
<p>if <code>TRUE</code> return only the first call in 
<code>segment_call</code>; if <code>FALSE</code> return all calls 
delimited by commas.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>
<p>if <code>TRUE</code> check for duplicates and return only unique 
segment assignments; if <code>FALSE</code> return all assignments 
(faster). Has no effect if <code>first=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strip_d</code></td>
<td>
<p>if <code>TRUE</code> remove the "D" from the end of gene annotations 
(denoting a duplicate gene in the locus); 
if <code>FALSE</code> do not alter gene names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omit_nl</code></td>
<td>
<p>if <code>TRUE</code> remove non-localized (NL) genes from the result.
Only applies at the gene or allele level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>character defining both the input and output segment call 
delimiter.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A character vector containing allele, gene or family names.
</p>


<h3>References</h3>

<p><a href="https://www.imgt.org/">https://www.imgt.org/</a>
</p>


<h3>See Also</h3>

<p>countGenes
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Light chain examples
kappa_call &lt;- c("Homsap IGKV1D-39*01 F,Homsap IGKV1-39*02 F,Homsap IGKV1-39*01",
                "Homsap IGKJ5*01 F")

getAllele(kappa_call)
getAllele(kappa_call, first=FALSE)
getAllele(kappa_call, first=FALSE, strip_d=FALSE)

getGene(kappa_call)
getGene(kappa_call, first=FALSE)
getGene(kappa_call, first=FALSE, strip_d=FALSE)

getFamily(kappa_call)
getFamily(kappa_call, first=FALSE)
getFamily(kappa_call, first=FALSE, collapse=FALSE)
getFamily(kappa_call, first=FALSE, strip_d=FALSE)

getLocus(kappa_call)
getChain(kappa_call)

# Heavy chain examples
heavy_call &lt;- c("Homsap IGHV1-69*01 F,Homsap IGHV1-69D*01 F", 
                "Homsap IGHD1-1*01 F", 
                "Homsap IGHJ1*01 F")

getAllele(heavy_call, first=FALSE)
getAllele(heavy_call, first=FALSE, strip_d=FALSE)

getGene(heavy_call, first=FALSE)
getGene(heavy_call, first=FALSE, strip_d=FALSE)

getFamily(heavy_call)
getLocus(heavy_call)
getChain(heavy_call)

# Filtering non-localized genes
nl_call &lt;- c("IGHV3-NL1*01,IGHV3-30-3*01,IGHV3-30*01", 
             "Homosap IGHV3-30*01 F,Homsap IGHV3-NL1*01 F",
             "IGHV1-NL1*01")
             
getAllele(nl_call, first=FALSE, omit_nl=TRUE)
getGene(nl_call, first=FALSE, omit_nl=TRUE)
getFamily(nl_call, first=FALSE, omit_nl=TRUE)

# Temporary designation examples
tmp_call &lt;- c("IGHV9S3*01", "IGKV10S12*01")

getAllele(tmp_call)
getGene(tmp_call)
getFamily(tmp_call)

</code></pre>


</div>