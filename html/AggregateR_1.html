<div class="container">

<table style="width: 100%;"><tr>
<td>Aggregate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aggregate numeric, Date and categorical variables</h2>

<h3>Description</h3>

<p>The <code>Aggregate</code> function (not to be confounded with aggregate) prepares a data frame or data table for merging by computing the sum, mean and variance of all continuous (integer and numeric) variables by a given variable. For all categorical variabes (character and factor), it creates dummies and subsequently computes the sum and the mode by a given variable. For all Date variables, it computes the recency and duration by a given variable with repsect the an end date variable. For computational speed, all the calculations are done with <code>data.table</code>. This functions aims at maximum information extraction with a minimum amount of code.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Aggregate(
  x,
  by,
  end_ind = Sys.Date(),
  format = "%Y-%m-%d",
  tibble = FALSE,
  verbose = TRUE,
  object = NULL,
  p = "all"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A data frame or data table. Categorical variables have to be of type character or factor and continuous variables have to be of type integer or numeric. Date variables should be in the Date format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>A character string specifying the variable on which to aggregate the results. Note that 'by' should be a variable of the table 'x'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_ind</code></td>
<td>
<p>A Date object, or something which can be coerced by <code>as.Date(origin, ...)</code> to such an object. If not specified,  we take the <code>Sys.Date()</code> as end date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>A character string. If not specified, the ISO 8601 international standard which expresses a day "%Y-%m-%d" is taken.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tibble</code></td>
<td>
<p>Should the output be a tibble, data frame or data table? By default, the function returns a data frame or data table depending on the input. To return a tibble, the user must set the tibble = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>indicator Used to show the progress.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Parameter related to the <code>dummy</code> function. See ?<code>dummy</code> for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Parameter related to the <code>dummy</code> function. See ?<code>dummy</code> for more information.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame, data table or tibble with the aforementioned variables aggregated by the given ID variables. If the input is a data frame, a data frame is returned else a data table is returned.
</p>


<h3>Author(s)</h3>

<p>Authors: Matthias Bogaert, Michel Ballings, Dirk Van den Poel, Maintainer: <a href="mailto:matthias.bogaert@UGent.be">matthias.bogaert@UGent.be</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example
# Create some data
data &lt;- data.frame(V1=sample(as.factor(c('yes','no')), 200000, TRUE),
                  V2=sample(as.character(c(1,2,3,4,5)),200000, TRUE),
                  V3=sample(1:20000,200000, TRUE),
                  V4=sample(300:1000, 200000, TRUE),
                  V5 = sample(as.Date(as.Date('2014-12-09'):Sys.Date()-1,
                  origin = "1970-01-01"),200000,TRUE),
                  ID=sample(x = as.character(1:4), size = 200000, replace = TRUE))

Aggregate(x=data,by='ID')

# Examples of how to use the object and p argument. See dummy and categories function for details.
# Aggregate(x=data,by='ID',object=categories(data))
# Aggregate(x=data,by='ID',p=2)
</code></pre>


</div>