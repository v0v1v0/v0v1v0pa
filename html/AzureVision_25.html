<div class="container">

<table style="width: 100%;"><tr>
<td>add_image_regions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add and remove regions from images</h2>

<h3>Description</h3>

<p>Add and remove regions from images
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_image_regions(project, image_ids, regions)

remove_image_regions(project, image_ids, region_ids = NULL)

identify_regions(project, image)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>project</code></td>
<td>
<p>A Custom Vision object detection project.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>image_ids</code></td>
<td>
<p>For <code>add_image_regions</code> and <code>remove_image_regions</code>, the IDs of the images for which to add or remove regions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regions</code></td>
<td>
<p>For <code>add_image_regions</code>, the regions to add. See 'Details' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region_ids</code></td>
<td>
<p>For <code>remove_image_regions</code>, a vector of region IDs. This is an alternative to image ID for specifying the regions to remove; if this is provided, <code>image_ids</code> is not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>image</code></td>
<td>
<p>For <code>identify_regions</code>, an image for which to identify possible regions in which an object exists. This can be the ID of an image that was previously uploaded to the project; if not, the image is uploaded. Otherwise, see <code>add_images</code> for how to specify an image to upload.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>add_image_regions</code> and <code>remove_image_regions</code> let you specify the regions in an image that contain an object. You can use <code>identify_regions</code> to have Custom Vision try to guess the regions for an image.
</p>
<p>The regions to add should be specified as a list of data frames, with one data frame per image. Each data frame should have one row per region, and the following columns:
</p>

<ul>
<li> <p><code>left</code>, <code>top</code>, <code>width</code>, <code>height</code>: the location and dimensions of the region bounding box, normalised to be between 0 and 1.
</p>
</li>
<li> <p><code>tag</code>: the name of the tag to associate with the region.
Any other columns in the data frame will be ignored.
</p>
</li>
</ul>
<h3>Value</h3>

<p>For <code>add_image_regions</code>, a data frame containing the details on the added regions.
</p>
<p>For <code>remove_image_regions</code>, the value of <code>image_ids</code> invisibly, if this argument was provided; NULL otherwise.
</p>
<p>For <code>identify_regions</code>, a list with the following components: <code>projectId</code>, the ID of the project; <code>imageId</code>, the ID of the image; and <code>proposals</code>, a data frame containing the coordinates of each identified region along with a confidence score.
</p>


<h3>See Also</h3>

<p><code>add_images</code>, <code>add_tags</code>
</p>
<p><code>add_image_tags</code> for classification projects
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

img_ids &lt;- add_images(myproj, c("catanddog.jpg", "cat.jpg", "dog.jpg"))

regions &lt;- list(
    data.frame(
        tag=c("cat", "dog"),
        left=c(0.1, 0.5),
        top=c(0.25, 0.28),
        width=c(0.24, 0.21),
        height=c(0.7, 0.6)
    ),
    data.frame(
        tag="cat", left=0.5, top=0.35, width=0.25, height=0.62
    ),
    data.frame(
        tag="dog", left=0.07, top=0.12, width=0.79, height=0.5
    )
)

add_image_regions(myproj, img_ids, regions)
remove_image_regions(myproj, img_ids[3])
add_image_regions(myproj, img_ids[3],
    list(data.frame(
        tag="dog", left=0.5, top=0.12, width=0.4, height=0.7
    ))
)


## End(Not run)
</code></pre>


</div>