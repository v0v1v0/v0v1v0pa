<div class="container">

<table style="width: 100%;"><tr>
<td>searchInLocalRepo</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Search for an Artifact in the Repository Using Tags</h2>

<h3>Description</h3>

<p><code>searchInRepo</code> searches for an artifact in the Repository using it's Tags.
To learn more about artifacts visit archivistPackage.
</p>


<h3>Usage</h3>

<pre><code class="language-R">searchInLocalRepo(
  pattern,
  repoDir = aoptions("repoDir"),
  fixed = TRUE,
  intersect = TRUE
)

searchInRemoteRepo(
  pattern,
  repo = aoptions("repo"),
  user = aoptions("user"),
  branch = "master",
  subdir = aoptions("subdir"),
  repoType = aoptions("repoType"),
  fixed = TRUE,
  intersect = TRUE
)

multiSearchInLocalRepo(...)

multiSearchInRemoteRepo(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>If <code>fixed = TRUE</code>: a character denoting a <code>Tag</code> which is to be searched for in the Repository.
It is also possible to specify <code>pattern</code> as a list of 
length 2 with <code>dateFrom</code> and <code>dateTo</code>; see details. If <code>fixed = FALSE</code>: a regular expression 
specifying the beginning of a <code>Tag</code>, which will be used to search for artifacts. If of length more than one and if 
<code>intersect = TRUE</code> then artifacts that match all conditions are returned. If <code>intersect = FALSE</code> then artifacts that match any condition
are returned. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repoDir</code></td>
<td>
<p>A character denoting an existing directory in which artifacts will be searched for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p>A logical value specifying how <code>artifacts</code> should be searched for.
If <code>fixed = TRUE</code> (default) then artifacts are searched for by using <code>pattern = "Tag"</code> argument.
If <code>fixed = FALSE</code> then artifacts are searched for by using <code>pattern = "regular expression"</code> argument.
The latter is wider and more flexible method, e.g.,
using <code>pattern = "name", fixed = FALSE</code> arguments enables to search for all artifacts in the <code>Repository</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intersect</code></td>
<td>
<p>A logical value. Used only when <code>length(pattern) &gt; 1 &amp; is.character(pattern)</code>.
See <code>pattern</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repo</code></td>
<td>
<p>While working with the Remote repository. A character containing a name of the Remote repository on which the Repository is stored.
By default set to <code>NULL</code> - see <code>Note</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user</code></td>
<td>
<p>While working with the Remote repository. A character containing a name of the Remote user on whose account the <code>repo</code> is created.
By default set to <code>NULL</code> - see <code>Note</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>branch</code></td>
<td>
<p>While working with the Remote repository. A character containing a name of 
the Remote Repository's branch on which the Repository is stored. Default <code>branch</code> is <code>master</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subdir</code></td>
<td>
<p>While working with the Remote repository. A character containing a name of a directory on the Remote repository 
on which the Repository is stored. If the Repository is stored in the main folder of the Remote repository, this should be set 
to <code>subdir = "/"</code> as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repoType</code></td>
<td>
<p>A character containing a type of the remote repository. Currently it can be 'github' or 'bitbucket'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Used for old deprecated functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>searchInRepo</code> searches for an artifact in the Repository using it's <code>Tag</code> 
(e.g., <code>name</code>, <code>class</code> or <code>archiving date</code>). <code>Tags</code> are used in a <code>pattern</code>
parameter. For various artifact classes different <code>Tags</code> can be searched for. 
See Tags. If a <code>pattern</code> is a list of length 2 then <code>md5hashes</code> of all 
artifacts created from date <code>dateFrom</code> to date <code>dateTo</code> are returned. The date 
should be formatted according to the YYYY-MM-DD format, e.g., <code>"2014-07-31"</code>.
</p>
<p><code>Tags</code>, used in a <code>pattern</code> parameter, should be determined according to the 
format: <code>"TagKey:TagValue"</code> - see examples.
</p>


<h3>Value</h3>

<p><code>searchInRepo</code> returns character vector of <code>md5hashes</code> of artifacts that were searched for.
Those are hashes assigned to artifacts while they were saved in the Repository
by the saveToLocalRepo function. If the artifact
is not in the Repository then a logical value <code>FALSE</code> is returned.
</p>


<h3>Contact</h3>

<p>Bug reports and feature requests can be sent to 
<a href="https://github.com/pbiecek/archivist/issues">https://github.com/pbiecek/archivist/issues</a>
</p>


<h3>Note</h3>

<p>If <code>repo</code>, <code>user</code>, <code>subdir</code> and <code>repoType</code> are not specified in the Remote mode then global parameters
set in setRemoteRepo function are used.
</p>
<p>Bug reports and feature requests can be sent to <a href="https://github.com/pbiecek/archivist/issues">https://github.com/pbiecek/archivist/issues</a>
</p>


<h3>Author(s)</h3>

<p>Marcin Kosinski, <a href="mailto:m.p.kosinski@gmail.com">m.p.kosinski@gmail.com</a>
</p>


<h3>References</h3>

<p>Biecek P and Kosinski M (2017). "archivist: An R Package for Managing,
Recording and Restoring Data Analysis Results." _Journal of Statistical
Software_, *82*(11), pp. 1-28. doi: 10.18637/jss.v082.i11 (URL:
http://doi.org/10.18637/jss.v082.i11).
URL https://github.com/pbiecek/archivist
</p>


<h3>See Also</h3>

<p>Other archivist: 
<code>Repository</code>,
<code>Tags</code>,
<code>%a%()</code>,
<code>addHooksToPrint()</code>,
<code>addTagsRepo()</code>,
<code>aformat()</code>,
<code>ahistory()</code>,
<code>alink()</code>,
<code>aoptions()</code>,
<code>archivistPackage</code>,
<code>aread()</code>,
<code>areadLocal()</code>,
<code>asearch()</code>,
<code>asearchLocal()</code>,
<code>asession()</code>,
<code>atrace()</code>,
<code>cache()</code>,
<code>copyLocalRepo()</code>,
<code>createLocalRepo()</code>,
<code>createMDGallery()</code>,
<code>deleteLocalRepo()</code>,
<code>getRemoteHook()</code>,
<code>getTagsLocal()</code>,
<code>loadFromLocalRepo()</code>,
<code>md5hash</code>,
<code>removeTagsRepo()</code>,
<code>restoreLibs()</code>,
<code>rmFromLocalRepo()</code>,
<code>saveToLocalRepo()</code>,
<code>setLocalRepo()</code>,
<code>shinySearchInLocalRepo()</code>,
<code>showLocalRepo()</code>,
<code>splitTagsLocal()</code>,
<code>summaryLocalRepo()</code>,
<code>zipLocalRepo()</code>
</p>
<p>Other archivist: 
<code>Repository</code>,
<code>Tags</code>,
<code>%a%()</code>,
<code>addHooksToPrint()</code>,
<code>addTagsRepo()</code>,
<code>aformat()</code>,
<code>ahistory()</code>,
<code>alink()</code>,
<code>aoptions()</code>,
<code>archivistPackage</code>,
<code>aread()</code>,
<code>areadLocal()</code>,
<code>asearch()</code>,
<code>asearchLocal()</code>,
<code>asession()</code>,
<code>atrace()</code>,
<code>cache()</code>,
<code>copyLocalRepo()</code>,
<code>createLocalRepo()</code>,
<code>createMDGallery()</code>,
<code>deleteLocalRepo()</code>,
<code>getRemoteHook()</code>,
<code>getTagsLocal()</code>,
<code>loadFromLocalRepo()</code>,
<code>md5hash</code>,
<code>removeTagsRepo()</code>,
<code>restoreLibs()</code>,
<code>rmFromLocalRepo()</code>,
<code>saveToLocalRepo()</code>,
<code>setLocalRepo()</code>,
<code>shinySearchInLocalRepo()</code>,
<code>showLocalRepo()</code>,
<code>splitTagsLocal()</code>,
<code>summaryLocalRepo()</code>,
<code>zipLocalRepo()</code>
</p>
<p>Other archivist: 
<code>Repository</code>,
<code>Tags</code>,
<code>%a%()</code>,
<code>addHooksToPrint()</code>,
<code>addTagsRepo()</code>,
<code>aformat()</code>,
<code>ahistory()</code>,
<code>alink()</code>,
<code>aoptions()</code>,
<code>archivistPackage</code>,
<code>aread()</code>,
<code>areadLocal()</code>,
<code>asearch()</code>,
<code>asearchLocal()</code>,
<code>asession()</code>,
<code>atrace()</code>,
<code>cache()</code>,
<code>copyLocalRepo()</code>,
<code>createLocalRepo()</code>,
<code>createMDGallery()</code>,
<code>deleteLocalRepo()</code>,
<code>getRemoteHook()</code>,
<code>getTagsLocal()</code>,
<code>loadFromLocalRepo()</code>,
<code>md5hash</code>,
<code>removeTagsRepo()</code>,
<code>restoreLibs()</code>,
<code>rmFromLocalRepo()</code>,
<code>saveToLocalRepo()</code>,
<code>setLocalRepo()</code>,
<code>shinySearchInLocalRepo()</code>,
<code>showLocalRepo()</code>,
<code>splitTagsLocal()</code>,
<code>summaryLocalRepo()</code>,
<code>zipLocalRepo()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# objects preparation

  showLocalRepo(method = "md5hashes", 
     repoDir = system.file("graphGallery", package = "archivist"))
  showLocalRepo(method = "tags", 
     repoDir = system.file("graphGallery", package = "archivist"))
  
  # Tag search, fixed version
  searchInLocalRepo( "class:ggplot", repoDir = exampleRepoDir )
  searchInLocalRepo( "name:", repoDir = exampleRepoDir )
  # Tag search, regex version
  searchInLocalRepo( "class", repoDir = exampleRepoDir, fixed = FALSE )
  
  # Github version
  # check the state of the Repository
  summaryRemoteRepo( user="pbiecek", repo="archivist" )
  showRemoteRepo( user="pbiecek", repo="archivist" )
  showRemoteRepo( user="pbiecek", repo="archivist", method = "tags" )
  # Tag search, fixed version
  searchInRemoteRepo( "varname:Sepal.Width", user="pbiecek", repo="archivist" )
  searchInRemoteRepo( "class:lm", user="pbiecek", repo="archivist", branch="master" )
  searchInRemoteRepo( "name:myplot123", user="pbiecek", repo="archivist" )
  
  # Tag search, regex version
  searchInRemoteRepo( "class", user="pbiecek", repo="archivist",  fixed = FALSE )
  searchInRemoteRepo( "name", user="pbiecek", repo="archivist", fixed = FALSE )
  
  # also on Github
  
  # Remeber to set dateTo parameter to actual date because sometimes we update datasets.
  searchInRemoteRepo( pattern = list( dateFrom = "2015-10-01", dateTo = "2015-11-30" ), 
                      user="pbiecek", repo="archivist", branch="master" )
  
  
  # many archivist-like Repositories on one Remote repository
  
  searchInRemoteRepo( pattern = "name", user="MarcinKosinski", repo="Museum", 
  branch="master", subdir="ex1", fixed = FALSE )

  searchInRemoteRepo( pattern = "name", user="MarcinKosinski", repo="Museum", 
                   branch="master", subdir="ex2", fixed = FALSE )
 
 # multi versions
 searchInRemoteRepo( pattern=c("varname:Sepal.Width", "class:lm", "name:myplot123"), 
                         user="pbiecek", repo="archivist", intersect = FALSE )
  

## End(Not run)
</code></pre>


</div>