<div class="container">

<table style="width: 100%;"><tr>
<td>daVich</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Import prices and values of wooden beds from Vietnam and China</h2>

<h3>Description</h3>

<p>This data set contains two unit import prices (dollar per piece) and values (million dollars) of wooden beds from Vietnam and China to the United States.
</p>

<table>
<tr>
<td style="text-align: left;">
  <code>price.vi </code> </td>
<td style="text-align: left;"> Monthly price over Janurary 2002 to Janurary 2010 from Vietnam. </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>price.ch </code> </td>
<td style="text-align: left;"> Monthly price over Janurary 2002 to Janurary 2010 from China. </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>price.vi </code> </td>
<td style="text-align: left;"> Monthly value over Janurary 2002 to Janurary 2010 from Vietnam. </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>price.ch </code> </td>
<td style="text-align: left;"> Monthly value over Janurary 2002 to Janurary 2010 from China. </td>
</tr>
<tr>
<td style="text-align: left;">
  </td>
</tr>
</table>
<h3>Usage</h3>

<pre><code class="language-R">data(daVich)</code></pre>


<h3>Format</h3>

<p>A monthly time series from Janurary 2002 to Janurary 2010 with 97 observations for each of the four series.</p>


<h3>Details</h3>

<p>Under the Harmonized Tariff Schedule (HTS) system, the commodity of wooden beds is classified as HTS 9403.50.9040. The monthly cost-insurance-freight values in dollar and quantities in piece are reported by country from U.S. ITC (2010). The unit price (dollar per piece) is calculated as the ratio of value over quantity by country.
</p>


<h3>Source</h3>

<p>U.S. ITC, 2010. Interactive tariff and trade data web. US International Trade Commision (Assecced on March 1, 2010).
</p>


<h3>References</h3>

<p>Sun, C. 2011. Price dynamics in the import wooden bed market of the United States. Forest Policy and Economics 13(6): 479-487.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# The following codes reproduce the main results in Sun (2011 FPE).
# All the codes have been tested and should work.

# 1. Data preparation __________________________________________________________

library(urca); data(daVich)
head(daVich); tail(daVich); str(daVich)
prVi &lt;- y &lt;- daVich[, 1] 
prCh &lt;- x &lt;- daVich[, 2]


# 2. EG cointegration  _________________________________________________________

LR &lt;- lm(y ~ x); summary(LR)
(LR.coef &lt;- round(summary(LR)$coefficients, 3))
(ry &lt;-  ts(residuals(LR), start=start(prCh), end=end(prCh), frequency =12))
summary(eg &lt;- ur.df(ry,  type=c("none"), lags=1)); plot(eg)
(eg4  &lt;- Box.test(eg@res, lag = 4, type="Ljung") )
(eg8  &lt;- Box.test(eg@res, lag = 8, type="Ljung") )
(eg12 &lt;- Box.test(eg@res, lag = 12, type="Ljung"))




# 3. TAR + Cointegration  ______________________________________________________

# best threshold 
t3 &lt;- ciTarThd(y=prVi, x=prCh, model="tar", lag=0) 
(th.tar &lt;- t3$basic); plot(t3)
for (i in 1:12) {                 # 20 seconds
  t3a &lt;- ciTarThd(y=prVi, x=prCh, model="tar", lag=i) 
  th.tar[i+2] &lt;- t3a$basic[,2]
}
th.tar
 
t4 &lt;- ciTarThd(y=prVi, x=prCh, model="mtar", lag=0); (th.mtar &lt;- t4$basic)
plot(t4)
for (i in 1:12) {
  t4a &lt;- ciTarThd(y=prVi, x=prCh, model="mtar", lag=i) 
  th.mtar[i+2] &lt;- t4a$basic[,2]
 }
th.mtar

# The following threshold values are specific to this data. They HAVE TO be  
# revised for another data set. Otherwise, various errors will occur.
  t.tar &lt;- -8.041; t.mtar &lt;- -0.451     # lag = 0 to 4
# t.tar &lt;- -8.701 ; t.mtar &lt;- -0.451    # lag = 5 to 12

# lag selection
mx &lt;- 12
(g1 &lt;-ciTarLag(y=prVi, x=prCh, model="tar", maxlag=mx, thresh= 0));     plot(g1)
(g2 &lt;-ciTarLag(y=prVi, x=prCh, model="mtar",maxlag=mx, thresh= 0));     plot(g2)
(g3 &lt;-ciTarLag(y=prVi, x=prCh, model="tar", maxlag=mx, thresh=t.tar));  plot(g3)
(g4 &lt;-ciTarLag(y=prVi, x=prCh, model="mtar",maxlag=mx, thresh=t.mtar)); plot(g4)


# Table 3 Results of EG and threshold cointegration tests
# Note: Some results in Table 3 in the published paper were incorrect because
#  of a mistake made when the paper was done in 2009. I found the mistake when 
#  the package was build in later 2010. For example, for the consistent MTAR, 
#  the coefficient for the positive term was reported as -0.251 (-2.130) but 
#  it should be -0.106 (-0.764), as cacluated from below codes. 
#  The main conclusion about the research issue is still qualitatively the same.
vv &lt;- 3
(f1 &lt;- ciTarFit(y=prVi, x=prCh, model="tar",  lag=vv, thresh=0     ))
(f2 &lt;- ciTarFit(y=prVi, x=prCh, model="tar",  lag=vv, thresh=t.tar ))
(f3 &lt;- ciTarFit(y=prVi, x=prCh, model="mtar", lag=vv, thresh=0     ))
(f4 &lt;- ciTarFit(y=prVi, x=prCh, model="mtar", lag=vv, thresh=t.mtar))
 
r0 &lt;- cbind(summary(f1)$dia, summary(f2)$dia, summary(f3)$dia, 
  summary(f4)$dia)
diag &lt;- r0[c(1:4, 6:7, 12:14, 8, 9, 11), c(1,2,4,6,8)]
rownames(diag) &lt;- 1:nrow(diag); diag

e1 &lt;- summary(f1)$out; e2 &lt;- summary(f2)$out
e3 &lt;- summary(f3)$out; e4 &lt;- summary(f4)$out; rbind(e1, e2, e3, e4)
ee &lt;- list(e1, e2, e3, e4); vect &lt;- NULL
for (i in 1:4) {
  ef &lt;- data.frame(ee[i])
  vect2 &lt;- c(paste(ef[3, "estimate"], ef[3, "sign"], sep=""), 
             paste("(", ef[3, "t.value"], ")",       sep=""),
             paste(ef[4, "estimate"], ef[4, "sign"], sep=""), 
             paste("(", ef[4, "t.value"], ")",       sep=""))    
  vect &lt;- cbind(vect, vect2)
}
item &lt;- c("pos.coeff","pos.t.value", "neg.coeff","neg.t.value")
ve &lt;- data.frame(cbind(item, vect)); colnames(ve) &lt;- colnames(diag)
( res.CI &lt;- rbind(diag, ve)[c(1:2, 13:16, 3:12), ] )
rownames(res.CI) &lt;- 1:nrow(res.CI)

                        
# 4. APT + ECM   _______________________________________________________________

(sem &lt;- ecmSymFit(y=prVi, x=prCh, lag=4)); names(sem)
aem &lt;- ecmAsyFit(y=prVi, x=prCh,lag=4, model="mtar", split=TRUE, thresh=t.mtar)
aem
(ccc &lt;- summary(aem))
coe &lt;- cbind(as.character(ccc[1:19, 2]), 
  paste(ccc[1:19, "estimate"], ccc$signif[1:19], sep=""), ccc[1:19, "t.value"],
  paste(ccc[20:38,"estimate"], ccc$signif[20:38],sep=""), ccc[20:38,"t.value"]) 
colnames(coe) &lt;- c("item", "China.est", "China.t", "Vietnam.est","Vietnam.t")

(edia &lt;- ecmDiag(aem, 3))
(ed &lt;- edia[c(1,6,7,8,9), ])
ed2 &lt;- cbind(ed[,1:2], "_", ed[,3], "_")
colnames(ed2) &lt;- colnames(coe)

(tes &lt;- ecmAsyTest(aem)$out)
(tes2 &lt;- tes[c(2,3,5,11,12,13,1), -1])
tes3 &lt;- cbind(as.character(tes2[,1]), 
  paste(tes2[,2], tes2[,6], sep=''), paste("[", round(tes2[,4],2), "]", sep=''),
  paste(tes2[,3], tes2[,7], sep=''), paste("[", round(tes2[,5],2), "]", sep=''))
colnames(tes3) &lt;- colnames(coe)

(coe  &lt;- data.frame(apply(coe, 2, as.character), stringsAsFactors=FALSE))
(ed2  &lt;- data.frame(apply(ed2, 2, as.character), stringsAsFactors=FALSE))
(tes3 &lt;- data.frame(apply(tes3,2, as.character), stringsAsFactors=FALSE))
table.4 &lt;- data.frame(rbind(coe, ed2, tes3))
table.4

 
</code></pre>


</div>