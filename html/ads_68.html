<div class="container">

<table style="width: 100%;"><tr>
<td>spp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creating a spatial point pattern</h2>

<h3>Description</h3>

<p>Function <code>spp</code> creates an object of class <code>"spp"</code>, which represents a
spatial point pattern observed in a finite sampling window (or study region).
The <code>ads</code> library supports univariate, multivariate and marked point patterns
observed in simple (rectangular or circular) or complex sampling windows. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">spp(x, y=NULL, window, triangles, marks, int2fac=TRUE)
ppp2spp(p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x,y</code></td>
<td>
<p>if <code>y=NULL</code>, <code class="reqn">x</code> is a list of two vectors of point coordinates, else both <code class="reqn">x</code> and <code class="reqn">y</code> are atomic vectors of point coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>a <code>"swin"</code> object or a vector defining the limits of a simple sampling 
window: <code>c(xmin,ymin,xmax,ymax)</code> for a rectangle ; <code>c(x0,y0,r0)</code> for a circle.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>triangles</code></td>
<td>
<p>(optional) a list of triangles removed from a simple initial window to define a 
complex sampling window (see <code>swin</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marks</code></td>
<td>
<p>(optional) a vector of mark values, which may be factor levels or numerical values (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>int2fac</code></td>
<td>
<p>if TRUE, integer marks are automatically coerced into factor levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>a <code>"ppp"</code> object from package <code>spatstat.geom</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A spatial point pattern is assumed to have been observed within a specific
sampling window (a finite study region) defined by the <code>window</code> argument. If <code>window</code> is a simple <code>"swin"</code> object, 
it may be coerced into a complex type by adding a <code>triangles</code> argument (see <code>swin</code>). A spatial point pattern may be of 3 different types.
</p>

<ul>
<li>
<p><b>univariate pattern:</b>
by default when argument <code>marks</code> is not given.
</p>
</li>
<li>
<p><b>multivariate pattern:</b>
<code>marks</code> is a factor, which levels are interpreted as categorical marks (e.g. colours, species, etc.) attached to points of the pattern.
Integer marks may be automatically coerced into factor levels when argument <code>int2fac = TRUE</code>.
</p>
</li>
<li>
<p><b>marked pattern:</b>
<code>marks</code> is a vector of real numbers attached to points of the pattern. Integer values may also be considered as numerical values 
if argument <code>int2fac = FALSE</code>.
</p>
</li>
</ul>
<h3>Value</h3>

<p>An object of class <code>"spp"</code> describing a spatial point pattern observed in a given sampling window.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>$type</code></td>
<td>
<p>a character string indicating if the spatial point pattern is <code>"univariate"</code>, <code>"multivariate"</code> or <code>"marked"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$window</code></td>
<td>
<p>an <code>swin</code> object describing the sampling window (see <code>swin</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$n</code></td>
<td>
<p>an integer value giving the number of points of the pattern located inside the sampling window (points on the boundary are considered to be inside).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$x</code></td>
<td>
<p>a vector of <code class="reqn">x</code> coordinates of points located inside the sampling window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$y</code></td>
<td>
<p>a vector of <code class="reqn">y</code> coordinates of points located inside the sampling window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$nout</code></td>
<td>
<p>(optional) an integer value giving the number of points of the pattern located outside the sampling window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$xout</code></td>
<td>
<p>(optional) a vector of <code class="reqn">x</code> coordinates of points located outside the sampling window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$yout</code></td>
<td>
<p>(optional) a vector of <code class="reqn">y</code> coordinates of points located outside the sampling window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$marks</code></td>
<td>
<p>(optional) a vector of the marks attached to points located inside the sampling window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$marksout</code></td>
<td>
<p>(optional) a vector of the marks attached to points located outside the sampling window.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>There are printing, summary and plotting methods for <code>"spp"</code> objects.<br>
Function <code>ppp2spp</code> converts an <code>ppp.object</code> from package <code>spatstat.geom</code> into an <code>"spp"</code> object.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:Raphael.Pelissier@ird.fr">Raphael.Pelissier@ird.fr</a>
</p>


<h3>References</h3>

<p>Goreaud, F. and P?Pelissier, R. 1999. On explicit formula of edge effect correction for Ripley's <em>K</em>-function. <em>Journal of Vegetation Science</em>, 10:433-438.
</p>


<h3>See Also</h3>

<p><code>plot.spp</code>,
<code>swin</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">	data(BPoirier)
	BP &lt;- BPoirier
	## Not run: univariate pattern in a rectangle of size [0,110] x [0,90]
	swr &lt;- spp(BP$trees, win=BP$rect)
	## Not run: an alternative using atomic vectors of point coordinates
	swr &lt;- spp(BP$trees, win=BP$rect) 
	summary(swr)
	plot(swr)
	
	## Not run: univariate pattern in a circle with radius 50 centred on (55,45)
	swc &lt;- spp(BP$trees, win=c(55,45,50))
	summary(swc)
	plot(swc)
	plot(swc, out=TRUE) # plot points outside the circle

	## Not run: multivariate pattern in a rectangle of size [0,110] x [0,90]
	swrm &lt;- spp(BP$trees, win=BP$rect, marks=BP$species)
	summary(swrm)
	plot(swrm)
	plot(swrm, chars=c("b","h","o")) # replace symbols by letters
	
	## Not run: marked pattern in a rectangle of size [0,110] x [0,90]
	swrn &lt;- spp(BP$trees, win=BP$rect, marks=BP$dbh)
	summary(swrn)
	plot(swrn)
	
	## Not run: multivariate pattern in a complex sampling window
	swrt &lt;- spp(BP$trees, win=BP$rect, tri=BP$tri1, marks=BP$species)
	summary(swrt)
	plot(swrt)
	plot(swrt, out=TRUE) # plot points outside the sampling window
	
	
	## Not run: converting a ppp object from spatstat.geom
	data(demopat)
	demo.spp&lt;-ppp2spp(demopat)
	plot(demo.spp)
</code></pre>


</div>