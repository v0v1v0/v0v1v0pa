<div class="container">

<table style="width: 100%;"><tr>
<td>edit_apsim_xml</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Edit an APSIM (Classic) Simulation auxiliary xml file</h2>

<h3>Description</h3>

<p>This function allows editing of an APSIM (Classic) simulation xml file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">edit_apsim_xml(
  file,
  src.dir = ".",
  wrt.dir = NULL,
  parm.path = NULL,
  value = NULL,
  overwrite = FALSE,
  edit.tag = "-edited",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>file ending in .xml to be edited</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>src.dir</code></td>
<td>
<p>directory containing the .xml file to be edited; defaults to the current working directory</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrt.dir</code></td>
<td>
<p>should be used if the destination directory is different from the src.dir</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parm.path</code></td>
<td>
<p>parameter path to be edited (see example)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>new values for the parameter to be edited</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>logical; if <code>TRUE</code> the old file is overwritten, a new file is written otherwise</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edit.tag</code></td>
<td>
<p>if the file is edited a different tag from the default ‘-edited’ can be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>whether to print information about successful edit</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The variables specified by <code>parm</code> within the .apsim file specified by <code>file</code> 
in the source directory <code>src.dir</code> are edited. The old values are replaced with <code>value</code>, which
is a list that has the same number of elements as the length of the vector <code>parm</code>.  The current
.xml file will be overwritten if <code>overwrite</code> is set to <code>TRUE</code>; otherwise the file
‘file’ <em>-edited.xml</em> will be created.  If (verbose = TRUE) then the name
of the written file is returned. The function is similar to the edit_sim_file functin in the ‘apsimr’
package, but with the difference that here the xml2 package is used instead.
</p>


<h3>Value</h3>

<p>(when verbose=TRUE) complete file path to edited .xml file is returned as a character string.
As a side effect this function creates a new XML file.
</p>


<h3>Note</h3>

<p>This function cannot check whether replacement is of the correct length. Also, there is
an inspect equivalent. It is more flexible than ‘edit_apsim’ and (perhaps) similar to 
‘apsimr::edit_sim_file’.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## This example changes the RUE values

extd.dir &lt;- system.file("extdata", package = "apsimx")

values &lt;- paste(rep(1.7, 12), collapse = " ")

## Writing to a temp directory, but replace as needed
tmp.dir &lt;- tempdir()

edit_apsim_xml("Maize75.xml", 
               src.dir = extd.dir,
               wrt.dir = tmp.dir,
               parm.path = ".//Model/rue",
               value = values)

</code></pre>


</div>