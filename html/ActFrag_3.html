<div class="container">

<table style="width: 100%;"><tr>
<td>fragmentation_long</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fragmentation Metrics for Whole Dataset</h2>

<h3>Description</h3>

<p>Fragmentation methods to study the transition between two states, e.g.
sedentary v.s. active.This function is a whole dataset wrapper for <code>fragmentation</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">fragmentation_long(
  count.data,
  weartime,
  thresh,
  bout.length = 1,
  metrics = c("mean_bout", "TP", "Gini", "power", "hazard", "all"),
  by = c("day", "subject")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>count.data</code></td>
<td>
<p><code>data.frame</code> of dimension n*1442 containing the 1440 minutes of activity data for all n subject days.
The first two columns have to be ID and Day. ID can be either <code>character</code> or <code>numeric</code>. Day has to be <code>numeric</code> indicating
the sequency of days within each subject.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weartime</code></td>
<td>
<p><code>data.frame</code> with dimension of <code>count.data</code>.
The first two columns have to be ID and Day.ID can be either <code>character</code> or <code>numeric</code>. Day has to be <code>numeric</code> indicating
the sequencey of days within each subject.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thresh</code></td>
<td>
<p>threshold to define the two states.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bout.length</code></td>
<td>
<p>minimum duration of defining an active bout; defaults to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metrics</code></td>
<td>
<p>What is the fragmentation metrics to exract. Can be
"mean_bout","TP","Gini","power","hazard",or all the above metrics "all".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>Determine whether fragmentation is calcualted by day or by subjects (i.e. aggregate bouts across days).
by-subject is recommended to gain more power.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Metrics include
mean_bout (mean bout duration),
TP (between states transition probability),
Gini (gini index),
power (alapha parameter for power law distribution)
hazard (average hazard function)
</p>


<h3>Value</h3>

<p>A dataframe with some of the following columns
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>identifier of the person</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Day</code></td>
<td>
<p><code>numeric</code> vector indicating the sequencey of days within each subject. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean_r</code></td>
<td>
<p>mean sedentary bout duration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean_a</code></td>
<td>
<p>mean active bout duration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SATP</code></td>
<td>
<p>sedentary to active transition probability</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ASTP</code></td>
<td>
<p>bactive to sedentary transition probability</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Gini_r</code></td>
<td>
<p>Gini index for active bout</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Gini_a</code></td>
<td>
<p>Gini index for sedentary bout</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h_r</code></td>
<td>
<p>hazard function for sedentary bout</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h_a</code></td>
<td>
<p>hazard function for active bout</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_r</code></td>
<td>
<p>power law parameter for sedentary bout</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_a</code></td>
<td>
<p>power law parameter for active bout</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">data(example_activity_data)
count = example_activity_data$count
wear = example_activity_data$wear
frag_by_day = fragmentation_long(count.data = count,
weartime = wear,thresh = 100,bout.length = 1,
metrics = "all",by = "day")
tp_by_subject = fragmentation_long(count.data = count,
weartime = wear,thresh = 100,bout.length = 1,
metrics = "TP",by = "subject")


</code></pre>


</div>