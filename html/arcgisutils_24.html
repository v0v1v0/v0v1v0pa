<div class="container">

<table style="width: 100%;"><tr>
<td>detect_errors</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Detect errors in parsed json response</h2>

<h3>Description</h3>

<p>The requests responses from ArcGIS don't return the status code
in the response itself but rather from the body in the json.
This function checks for the existence of an error. If an error is found,
the contents of the error message are bubbled up.
</p>


<h3>Usage</h3>

<pre><code class="language-R">detect_errors(response, error_call = rlang::caller_env())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>a <code>httr2::response</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_call</code></td>
<td>
<p>default <code>rlang::caller_env()</code>. The environment from which
to throw the error from.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Nothing. Used for it's side effect. If an error code is encountered in the
response an error is thrown with the error code and the error message.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  response &lt;- list(
    error = list(
      code = 400L,
      message = "Unable to generate token.",
      details = "Invalid username or password."
    )
  )

  detect_errors(response)

## End(Not run)
</code></pre>


</div>