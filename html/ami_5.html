<div class="container">

<table style="width: 100%;"><tr>
<td>on_cran</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Detect CRAN</h2>

<h3>Description</h3>

<p>This function detects whether the current R environment is a
CRAN machine or not. It returns <code>FALSE</code> if the <code>NOT_CRAN</code> environment
variable used in "github/r-lib" packages like <span class="pkg">devtools</span> and
<span class="pkg">testthat</span> is set to "true". If that variable is not set, the function
examines other environment variables typically set on CRAN machines, as
documented in the issue on this packages' GitHub repository at
<a href="https://github.com/briandconnelly/ami/issues/14">https://github.com/briandconnelly/ami/issues/14</a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">on_cran(cran_pattern = "_R_", n_cran_envvars = 5L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cran_pattern</code></td>
<td>
<p>String to match against environment variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_cran_envvars</code></td>
<td>
<p>If at least this number of environment variables match
the <code>cran_pattern</code>, <code>on_cran()</code> returns <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A logical value
</p>


<h3>Examples</h3>

<pre><code class="language-R">on_cran()
withr::with_envvar(
  list("NOT_CRAN" = "false", "_R_1" = 1, "_R_2" = 2),
  on_cran(n_cran_envvars = 2L)
)
</code></pre>


</div>