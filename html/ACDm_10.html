<div class="container">

<table style="width: 100%;"><tr>
<td>computeDurations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Durations computation
</h2>

<h3>Description</h3>

<p>Computes durations from a data.frame containing the time stamps of transactions. Trade durations, price durations and volume durations can be computed (if the appropriate data columns are given).
</p>


<h3>Usage</h3>

<pre><code class="language-R">computeDurations(transactions, open = "10:00:00", close = "18:25:00", 
rm0dur = TRUE, type = "trade", priceDiff = .1, cumVol = 10000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>transactions</code></td>
<td>

<p>a data.frame with, at least, transaction time in a column named 'time' (see Details)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>open</code></td>
<td>

<p>the opening time of the exchange. Transactions done outside the trading hours will be ignored. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>close</code></td>
<td>

<p>the closing time of the exchange.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rm0dur</code></td>
<td>

<p>if <code>TRUE</code> zero-durations will be removed and transactions done on the same second will be aggregated, e.g. price will then be the volume weighted avrage price of the aggregated transactions. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>the type of durations to be computed. Either "trade", "price", or "volume".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priceDiff</code></td>
<td>

<p>only if <code>type = "price"</code>. Price durtions are (here) defind as the duration until the price has changed by at least 'priceDiff' in absolute value.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cumVol</code></td>
<td>

<p>only if <code>type = "cumVol"</code>. Volume durtions are (here) defind as the duration until the cumulative traded volume since the last duration has surpassed 'cumVol'.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The data.frame must include a column named 'time' with the time of each transaction, in a time format recognizable by POSIXlt or strings in format "yyyy-mm-dd hh:mm:ss". If the column 'price' or 'volume' is included its also possible to compute price- and volume durations (see arguments <code>priceDiff</code> and <code>cumVol</code>) 
</p>


<h3>Value</h3>

<p>a data.frame with columns:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>

<p>the calander time of the start of each duration spell.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>price</code></td>
<td>

<p>the volume weighted avrage price of the shares traded during the spell of the duration.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>volume</code></td>
<td>

<p>the volume (total shares traded) during the duration spell.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ntrans</code></td>
<td>

<p>number of transactions done during the spell.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>durations</code></td>
<td>

<p>the computed duration.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Markus Belfrage
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
#only the first 3 days of data:
durDataShort &lt;- computeDurations(transData[1:56700, ]) 
str(durDataShort)
head(durDataShort)
## End(Not run)
</code></pre>


</div>