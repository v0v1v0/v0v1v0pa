<div class="container">

<table style="width: 100%;"><tr>
<td>get_storage_metadata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get/set user-defined metadata for a storage object</h2>

<h3>Description</h3>

<p>Get/set user-defined metadata for a storage object
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_storage_metadata(object, ...)

## S3 method for class 'blob_container'
get_storage_metadata(object, blob, snapshot = NULL, version = NULL, ...)

## S3 method for class 'file_share'
get_storage_metadata(object, file, isdir, ...)

## S3 method for class 'adls_filesystem'
get_storage_metadata(object, file, ...)

set_storage_metadata(object, ...)

## S3 method for class 'blob_container'
set_storage_metadata(object, blob, ..., keep_existing = TRUE)

## S3 method for class 'file_share'
set_storage_metadata(object, file, isdir, ..., keep_existing = TRUE)

## S3 method for class 'adls_filesystem'
set_storage_metadata(object, file, ..., keep_existing = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A blob container, file share or ADLS filesystem object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>For the metadata setters, name-value pairs to set as metadata for a blob or file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blob, file</code></td>
<td>
<p>Optionally the name of an individual blob, file or directory within a container.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>snapshot, version</code></td>
<td>
<p>For the blob method of <code>get_storage_metadata</code>, optional snapshot and version identifiers. These should be datetime strings, in the format "yyyy-mm-ddTHH:MM:SS.SSSSSSSZ". Ignored if <code>blob</code> is omitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isdir</code></td>
<td>
<p>For the file share method, whether the <code>file</code> argument is a file or directory. If omitted, <code>get_storage_metadata</code> will auto-detect the type; however this can be slow, so supply this argument if possible.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_existing</code></td>
<td>
<p>For the metadata setters, whether to retain existing metadata information.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These methods let you get and set user-defined properties (metadata) for storage objects.
</p>


<h3>Value</h3>

<p><code>get_storage_metadata</code> returns a named list of metadata properties. If the <code>blob</code> or <code>file</code> argument is present, the properties will be for the blob/file specified. If this argument is omitted, the properties will be for the container itself.
</p>
<p><code>set_storage_metadata</code> returns the same list after setting the object's metadata, invisibly.
</p>


<h3>See Also</h3>

<p>blob_container, file_share, adls_filesystem
</p>
<p>get_storage_properties for standard properties
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

fs &lt;- storage_container("https://mystorage.dfs.core.windows.net/myshare", key="access_key")
create_storage_dir("newdir")
storage_upload(share, "iris.csv", "newdir/iris.csv")

set_storage_metadata(fs, "newdir/iris.csv", name1="value1")
# will be list(name1="value1")
get_storage_metadata(fs, "newdir/iris.csv")

set_storage_metadata(fs, "newdir/iris.csv", name2="value2")
# will be list(name1="value1", name2="value2")
get_storage_metadata(fs, "newdir/iris.csv")

set_storage_metadata(fs, "newdir/iris.csv", name3="value3", keep_existing=FALSE)
# will be list(name3="value3")
get_storage_metadata(fs, "newdir/iris.csv")

# deleting all metadata
set_storage_metadata(fs, "newdir/iris.csv", keep_existing=FALSE)


## End(Not run)
</code></pre>


</div>