<div class="container">

<table style="width: 100%;"><tr>
<td>preferenceRange</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Determine Meaningful Ranges for Input Preferences</h2>

<h3>Description</h3>

<p>Determines meaningful ranges for affinity propagation input preference
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'matrix'
preferenceRange(s, exact=FALSE)
## S4 method for signature 'Matrix'
preferenceRange(s, exact=FALSE)
## S4 method for signature 'dgTMatrix'
preferenceRange(s, exact=FALSE)
## S4 method for signature 'sparseMatrix'
preferenceRange(s, exact=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>an <code class="reqn">l\times l</code> similarity matrix in sparse or dense format</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exact</code></td>
<td>
<p>flag indicating whether exact ranges should be computed,
which is relatively slow; if bounds are sufficient,
supply <code>FALSE</code> (default)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Affinity Propagation clustering relies on an appropriate choice
of input preferences. This function helps in finding a good choice by
determining meaningful lower and upper bounds.
</p>
<p>If the similarity matrix <code>s</code> is sparse or if it contains
<code>-Inf</code> similarities, only the similarities are taken into account
that are specified in <code>s</code> and larger than <code>-Inf</code>. In such
cases, the lower bound returned by <code>preferenceRange</code> need not
correspond to one or two clusters. Moreover, it may also happen in
degenerate cases that the lower bound exceeds the upper bound.
In such a case, no warning or error is issued, so it is the user's
responsibility to ensure a proper interpretation of the results.
The method <code>apclusterK</code> makes use of this function
internally and checks the plausibility of the result
returned by <code>preferenceRange</code>.
</p>


<h3>Value</h3>

<p>returns a vector with two entries, the first of which is the minimal
input preference (which would lead to 1 or 2 clusters) and the second
of which is the maximal input prefence (which would lead to as many
clusters as data samples).
</p>


<h3>Author(s)</h3>

<p>Ulrich Bodenhofer and Andreas Kothmeier</p>


<h3>References</h3>

<p><a href="https://github.com/UBod/apcluster">https://github.com/UBod/apcluster</a>
</p>
<p>Frey, B. J. and Dueck, D. (2007) Clustering by passing messages
between data points. <em>Science</em> <b>315</b>, 972-976.
DOI: <a href="https://doi.org/10.1126/science.1136800">doi:10.1126/science.1136800</a>.
</p>
<p>Bodenhofer, U., Kothmeier, A., and Hochreiter, S. (2011)
APCluster: an R package for affinity propagation clustering.
<em>Bioinformatics</em> <b>27</b>, 2463-2464.
DOI: <a href="https://doi.org/10.1093/bioinformatics/btr406">doi:10.1093/bioinformatics/btr406</a>.
</p>


<h3>See Also</h3>

<p><code>apcluster</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## create two Gaussian clouds
cl1 &lt;- cbind(rnorm(100, 0.2, 0.05), rnorm(100, 0.8, 0.06))
cl2 &lt;- cbind(rnorm(50, 0.7, 0.08), rnorm(50, 0.3, 0.05))
x &lt;- rbind(cl1, cl2)

## create similarity matrix
sim &lt;- negDistMat(x, r=2)

## determine bounds
preferenceRange(sim)

## determine exact range
preferenceRange(sim, exact=TRUE)
</code></pre>


</div>