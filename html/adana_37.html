<div class="container">

<table style="width: 100%;"><tr>
<td>findoptima</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Finds peaks and valleys on the curve of a function with single variable</h2>

<h3>Description</h3>

<p>This function finds the peaks and valleys on the curve of user-defined functions with one variable. 
The function also plots the function curve that can be used to demonstrate the points for local optima and 
global optimum in a optimization problem. </p>


<h3>Usage</h3>

<pre><code class="language-R">findoptima(x, type="max", pflag=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a vector of variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Either “max” (the default) or “min”. The peaks are 
found when <code>type="max"</code> and the valleys are found
when <code>type="max"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pflag</code></td>
<td>
<p>if this is TRUE, the first and last values are also checked.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The findoptima function finds all the peaks and valleys in a given function curve. The points can be colorized with different colors. See the example below.
</p>


<h3>Value</h3>

<p>Returns a vector of indices of the peaks or valleys on the function curve.
</p>


<h3>Author(s)</h3>

<p>Zeynel Cebeci &amp; Erkut Tekeli
</p>


<h3>References</h3>

<p>Cebeci Z. (2021). <em>R ile Genetik Algoritmalar ve Optimizasyon Uygulamalari</em>. Ankara:Nobel Akademik Yayincilik</p>


<h3>Examples</h3>

<pre><code class="language-R">fx &lt;- function(x) -sin(x)-sin(2*x)-cos(3*x) + 3
x &lt;- seq(-2*pi, 2*pi, by=0.001)
curve(fx, x)
cr &lt;- curve(fx, x, lwd=2)
xy &lt;- cbind(cr$x, cr$y)
peaks &lt;- findoptima(cr$y, type = "max")
valleys &lt;- findoptima(cr$y, type = "min")

## Finds peaks and valleys
peaks &lt;- findoptima(cr$y, type="max")
valleys &lt;-  findoptima(cr$y, type="min")

## Plotting the function curve and local optima and global optimum
points(xy[peaks,], pch=19, cex=1.2, col=2)
points(xy[valleys,], pch=18, cex=1.2, col=4)
gmin &lt;- valleys[which.min(xy[valleys,2])]
gmax &lt;- peaks[which.min(xy[valleys,2])]
points(xy[gmax,1], xy[gmax,2], pch=19, cex=2, col=2)
points(xy[gmin,1], xy[gmin,2], pch=18, cex=2, col=4)
text(xy[gmax,1], xy[gmax,2], labels="Glob.Max", pos=2, cex=0.8, col=1)
text(xy[gmin,1], xy[gmin,2], labels="Glob.Min", pos=2, cex=0.8, col=1)
</code></pre>


</div>