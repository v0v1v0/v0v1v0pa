<div class="container">

<table style="width: 100%;"><tr>
<td>att_amend_desc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Amend DESCRIPTION with dependencies read from package code parsing</h2>

<h3>Description</h3>

<p>Amend package DESCRIPTION file with the list of dependencies extracted from
R, tests, vignettes files.
att_to_desc_from_pkg() is an alias of att_amend_desc(),
for the correspondence with <code>att_to_desc_from_is()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">att_amend_desc(
  path = ".",
  path.n = "NAMESPACE",
  path.d = "DESCRIPTION",
  dir.r = "R",
  dir.v = "vignettes",
  dir.t = "tests",
  extra.suggests = NULL,
  pkg_ignore = NULL,
  document = TRUE,
  normalize = TRUE,
  inside_rmd = FALSE,
  must.exist = TRUE,
  check_if_suggests_is_installed = TRUE,
  update.config = FALSE,
  use.config = TRUE,
  path.c = "dev/config_attachment.yaml"
)

att_to_desc_from_pkg(
  path = ".",
  path.n = "NAMESPACE",
  path.d = "DESCRIPTION",
  dir.r = "R",
  dir.v = "vignettes",
  dir.t = "tests",
  extra.suggests = NULL,
  pkg_ignore = NULL,
  document = TRUE,
  normalize = TRUE,
  inside_rmd = FALSE,
  must.exist = TRUE,
  check_if_suggests_is_installed = TRUE,
  update.config = FALSE,
  use.config = TRUE,
  path.c = "dev/config_attachment.yaml"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>path to the root of the package directory. Default to current directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path.n</code></td>
<td>
<p>path to namespace file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path.d</code></td>
<td>
<p>path to description file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir.r</code></td>
<td>
<p>path to directory with R scripts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir.v</code></td>
<td>
<p>path to vignettes directory. Set to empty (dir.v = "") to ignore.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir.t</code></td>
<td>
<p>path to tests directory. Set to empty (dir.t = "") to ignore.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extra.suggests</code></td>
<td>
<p>vector of other packages that should be added in Suggests (pkgdown, covr for instance)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pkg_ignore</code></td>
<td>
<p>vector of packages names to ignore.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>document</code></td>
<td>
<p>Run function roxygenise of roxygen2 package</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p>Logical. Whether to normalize the DESCRIPTION file. See <code>desc::desc_normalize()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inside_rmd</code></td>
<td>
<p>Logical. Whether function is run inside a Rmd,
in case this must be executed in an external R session</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>must.exist</code></td>
<td>
<p>Logical. If TRUE then an error is given if packages do not exist
within installed packages. If NA, a warning.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_if_suggests_is_installed</code></td>
<td>
<p>Logical. Whether to require that packages in the Suggests section are installed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>update.config</code></td>
<td>
<p>logical. Should the parameters used in this call be saved in the config file of the package</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.config</code></td>
<td>
<p>logical. Should the command use the parameters from the config file to run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path.c</code></td>
<td>
<p>character Path to the yaml config file where parameters are saved</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Your daily use is to run <code>att_amend_desc()</code>, as is.
You will want to run this function sometimes with some extra information like
<code>att_amend_desc(pkg_ignore = "x", update.config = TRUE)</code> if you have to update
the configuration file.
Next time <code>att_amend_desc()</code> will use these parameters from the configuration
file directly.
</p>


<h3>Value</h3>

<p>Update DESCRIPTION file.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Run on an external "dummypackage" as an example
# For your local use, you do not have to specify the `path` as below
# By default, `att_amend_desc()` will run on the current working directory

# Create a fake package for the example
tmpdir &lt;- tempfile(pattern = "description")
dir.create(tmpdir)
file.copy(system.file("dummypackage",package = "attachment"), tmpdir,
 recursive = TRUE)
dummypackage &lt;- file.path(tmpdir, "dummypackage")

# Update documentation and dependencies
att_amend_desc(path = dummypackage)

# You can look at the content of this external package
#' # browseURL(dummypackage)

# Update the config file with extra parameters
# We recommend that you store this code in a file in your "dev/" directory
# to run it when needed
att_amend_desc(path = dummypackage, extra.suggests = "testthat", update.config = TRUE)

# Next time, in your daily development
att_amend_desc(path = dummypackage)

# Clean after examples
unlink(tmpdir, recursive = TRUE)
</code></pre>


</div>