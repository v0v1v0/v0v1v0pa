<div class="container">

<table style="width: 100%;"><tr>
<td>aw_aggregate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aggregate Estimates Based on Target ID</h2>

<h3>Description</h3>

<p><code>aw_aggregate</code> sums the new estimates produced by aw_calculate
based on the target id. These are then joined with the target data. This is
the fourth step in the interpolation process after aw_weight.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aw_aggregate(.data, target, tid, interVar, newVar)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A given intersected dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>A <code>sf</code> object that data should be interpolated to</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tid</code></td>
<td>
<p>A unique identification number within <code>target</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interVar</code></td>
<td>
<p>A variable containing an interpolated value created by <code>aw_calculate</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newVar</code></td>
<td>
<p>Optional; a new field name to store the interpolated value in. If not specified,
the <code>interVar</code> argument will be used as the new field name.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>sf</code> object with the interpolated value added to it.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)

race &lt;- select(ar_stl_race, GEOID, TOTAL_E)
wards &lt;- select(ar_stl_wards, WARD)

wards %&gt;%
    aw_intersect(source = race, areaVar = "area") %&gt;%
    aw_total(source = race, id = GEOID, areaVar = "area", totalVar = "totalArea",
             weight = "sum", type = "extensive") %&gt;%
    aw_weight(areaVar = "area", totalVar = "totalArea", areaWeight = "areaWeight") %&gt;%
    aw_calculate(value = "TOTAL_E", areaWeight = "areaWeight") -&gt; intersect

aw_aggregate(intersect, target = wards, tid = WARD, interVar = TOTAL_E)

</code></pre>


</div>