<div class="container">

<table style="width: 100%;"><tr>
<td>moving.block</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cycle through an R object and plot each subset of elements</h2>

<h3>Description</h3>

<p>For a long numeric vector or matrix (or data frame), we can plot only a
subset of its elements to take a closer look at its structure. With a moving
“block” from the beginning to the end of a vector or matrix or any R
objects to which we can apply <code>subset</code>, all elements inside the block
are plotted as a line or scatter plot or any customized plots.
</p>


<h3>Usage</h3>

<pre><code class="language-R">moving.block(dat = runif(100), block, FUN, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>a numeric vector or two-column matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block</code></td>
<td>
<p>block length (i.e. how many elements are to be plotted in each
step)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>a plot function to be applied to the subset of data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments passed to <code>FUN</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For a vector, the elments from <code>i + 1</code> to <code>i + block</code> will be
plotted in the i-th step; similarly for a matrix or data frame, a (scatter)
plot will be created from the <code>i + 1</code>-th row to <code>i + block</code>-th row.
</p>
<p>However, this function is not limited to scatter plots or lines – we can
customize the function <code>FUN</code> as we wish.
</p>


<h3>Value</h3>

<p><code>NULL</code>
</p>


<h3>Note</h3>

<p>There will be <code>ani.options('nmax')</code> image frames created in the
end. Ideally the relationship between <code>ani.options('nmax')</code> and
<code>block</code> should follow this equality: <code>block = length(x) -
  ani.options('nmax') + 1</code> (replace <code>length(x)</code> with <code>nrow(x)</code> when
<code>x</code> is a matrix). The function will compute <code>block</code> according to
the equality by default if no block length is specified.
</p>
<p>The three arguments <code>dat</code>, <code>i</code> and <code>block</code> are passed to
<code>FUN</code> in case we want to customize the plotting function, e.g. we may
want to annonate the x-axis label with <code>i</code>, or we want to compute the
mean value of <code>dat[i + 1:block]</code>, etc. See the examples below to learn
more about how to make use of these three arguments.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie
</p>


<h3>References</h3>

<p>Examples at <a href="https://yihui.org/animation/example/moving-block/">https://yihui.org/animation/example/moving-block/</a>
</p>


</div>