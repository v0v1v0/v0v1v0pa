<div class="container">

<table style="width: 100%;"><tr>
<td>grad.desc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gradient Descent Algorithm for the 2D case</h2>

<h3>Description</h3>

<p>This function provids a visual illustration for the process of minimizing a
real-valued function through Gradient Descent Algorithm.
</p>


<h3>Usage</h3>

<pre><code class="language-R">grad.desc(
  FUN = function(x, y) x^2 + 2 * y^2,
  rg = c(-3, -3, 3, 3),
  init = c(-3, 3),
  gamma = 0.05,
  tol = 0.001,
  gr = NULL,
  len = 50,
  interact = FALSE,
  col.contour = "red",
  col.arrow = "blue",
  main
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>a bivariate objective function to be minimized (variable names do
not have to be <code>x</code> and <code>y</code>); if the gradient argument <code>gr</code>
is <code>NULL</code>, <code>deriv</code> will be used to calculate the gradient,
in which case we should not put braces around the function body of
<code>FUN</code> (e.g. the default function is <code>function(x, y) x^2 + 2 *
y^2</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rg</code></td>
<td>
<p>ranges for independent variables to plot contours; in a <code>c(x0,
y0, x1, y1)</code> form</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init</code></td>
<td>
<p>starting values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>size of a step</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>tolerance to stop the iterations, i.e. the minimum difference
between <code class="reqn">F(x_i)</code> and <code class="reqn">F(x_{i+1})</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gr</code></td>
<td>
<p>the gradient of <code>FUN</code>; it should be a bivariate function to
calculate the gradient (not the negative gradient!) of <code>FUN</code> at a
point <code class="reqn">(x,y)</code>, e.g. <code>function(x, y) 2 * x + 4 * y</code>. If it is
<code>NULL</code>, R will use <code>deriv</code> to calculate the gradient</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>len</code></td>
<td>
<p>desired length of the independent sequences (to compute z values
for contours)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interact</code></td>
<td>
<p>logical; whether choose the starting values by clicking on the
contour plot directly?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.contour, col.arrow</code></td>
<td>
<p>colors for the contour lines and arrows
respectively (default to be red and blue)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>the title of the plot; if missing, it will be derived from
<code>FUN</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Gradient descent is an optimization algorithm. To find a local minimum of a
function using gradient descent, one takes steps proportional to the negative
of the gradient (or the approximate gradient) of the function at the current
point. If instead one takes steps proportional to the gradient, one
approaches a local maximum of that function; the procedure is then known as
gradient ascent.
</p>
<p>The arrows are indicating the result of iterations and the process of
minimization; they will go to a local minimum in the end if the maximum
number of iterations <code>ani.options('nmax')</code> has not been reached.
</p>


<h3>Value</h3>

<p>A list containing </p>
<table>
<tr style="vertical-align: top;">
<td><code>par </code></td>
<td>
<p>the solution for the local minimum</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value </code></td>
<td>
<p>the value of the objective function corresponding to
<code>par</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>
<p>the number of iterations; if it is equal to
<code>ani.options('nmax')</code>, it's quite likely that the solution is not
reliable because the maximum number of iterations has been reached</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gradient</code></td>
<td>
<p>the gradient function of the objective function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>persp</code></td>
<td>
<p>a function to make the perspective plot of the objective
function; can accept further arguments from <code>persp</code> (see the
examples below)</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Please make sure the function <code>FUN</code> provided is differentiable at
<code>init</code>, what's more, it should also be 'differentiable' using
<code>deriv</code> if you do not provide the gradient function <code>gr</code>.
</p>
<p>If the arrows cannot reach the local minimum, the maximum number of
iterations <code>nmax</code> in <code>ani.options</code> may need to be
increased.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie
</p>


<h3>References</h3>

<p>Examples at <a href="https://yihui.org/animation/example/grad-desc/">https://yihui.org/animation/example/grad-desc/</a>
</p>


<h3>See Also</h3>

<p><code>deriv</code>, <code>persp</code>, <code>contour</code>,
<code>optim</code>
</p>


</div>