<div class="container">

<table style="width: 100%;"><tr>
<td>adjustments</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Date adjustments</h2>

<h3>Description</h3>

<p>This family of <code style="white-space: pre;">⁠adj_*()⁠</code> functions encode business logic for common
date adjustments. If <code>x</code> falls on an event date, it is adjusted according to
the function's adjustment rule. Otherwise it is left untouched.
</p>

<ul>
<li> <p><code>adj_following()</code>
</p>
<p>Choose the first non-event date after <code>x</code>.
</p>
</li>
<li> <p><code>adj_preceding()</code>
</p>
<p>Choose the first non-event date before <code>x</code>.
</p>
</li>
<li> <p><code>adj_modified_following()</code>
</p>
<p>Choose the first non-event date after <code>x</code>, unless it falls in a
different month, in which case the first non-event date before <code>x</code> is
chosen instead.
</p>
</li>
<li> <p><code>adj_modified_preceding()</code>
</p>
<p>Choose the first non-event date before <code>x</code>, unless it falls in a
different month, in which case the first non-event date after <code>x</code> is
chosen instead.
</p>
</li>
<li> <p><code>adj_nearest()</code>
</p>
<p>Choose the nearest non-event date to <code>x</code>. If the closest preceding and
following non-event dates are equally far away, the following non-event
date is chosen.
</p>
</li>
<li> <p><code>adj_none()</code>
</p>
<p>Performs no adjustment and returns <code>x</code> unchanged.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">adj_following(x, rschedule)

adj_preceding(x, rschedule)

adj_modified_following(x, rschedule)

adj_modified_preceding(x, rschedule)

adj_nearest(x, rschedule)

adj_none(x, rschedule)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code style="white-space: pre;">⁠[Date]⁠</code>
</p>
<p>A vector of dates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rschedule</code></td>
<td>
<p><code style="white-space: pre;">⁠[rschedule]⁠</code>
</p>
<p>An rschedule, such as an rrule, runion, rintersect, or rsetdiff.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An adjusted vector of Dates.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># A Saturday
x &lt;- as.Date("1970-01-03")

on_weekends &lt;- weekly() %&gt;% recur_on_weekends()

# Adjust forward to Monday
adj_following(x, on_weekends)

# Adjust backwards to Friday
adj_preceding(x, on_weekends)

# Adjust to nearest non-event date
adj_nearest(x, on_weekends)
adj_nearest(x + 1, on_weekends)

# Sundays, one of which is at the end of the month
sundays &lt;- as.Date(c("2020-05-24", "2020-05-31"))

# Adjust forward, unless that takes us into a new month, in which case we
# adjust backwards.
adj_modified_following(sundays, on_weekends)

# Saturdays, one of which is at the beginning of the month
saturdays &lt;- as.Date(c("2020-08-01", "2020-08-08"))

# Adjust backwards, unless that takes us into a new month, in which
# case we adjust forwards
adj_modified_preceding(saturdays, on_weekends)
</code></pre>


</div>