<div class="container">

<table style="width: 100%;"><tr>
<td>apollo_choiceAnalysis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reports market share for subsamples</h2>

<h3>Description</h3>

<p>Compares market shares across subsamples in dataset, and conducts statistical tests.
</p>


<h3>Usage</h3>

<pre><code class="language-R">apollo_choiceAnalysis(choiceAnalysis_settings, apollo_control, database)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>choiceAnalysis_settings</code></td>
<td>
<p>List. Contains settings for this function. User input is required for all settings except those with a default or marked as optional. 
</p>

<ul>
<li> <p><strong><code>alternatives</code></strong>: Named numeric vector. Names of alternatives and their corresponding value in <code>choiceVar</code>. Note that these need not necessarily be the alternatives as defined in the model, but could e.g. relate to cheapest/most expensive.
</p>
</li>
<li> <p><strong><code>avail</code></strong>: Named list of numeric vectors or scalars. Availabilities of alternatives, one element per alternative. Names of elements must match those in <code>alternatives</code>. Values can be 0 or 1. A user can also specify <code>avail=1</code> to indicate universal availability, or omit the setting completely.
</p>
</li>
<li> <p><strong><code>choiceVar</code></strong>: Numeric vector. Contains choices for all observations. It will usually be a column from the database. Values are defined in <code>alternatives</code>.
</p>
</li>
<li> <p><strong><code>explanators</code></strong>: data.frame. Variables determining subsamples of the database. Values in each column must describe a group or groups of individuals (e.g. socio-demographics). Most usually a subset of columns from the database.
</p>
</li>
<li> <p><strong><code>printToScreen</code></strong>: Logical. TRUE for returning output to screen as well as file. TRUE by default.
</p>
</li>
<li> <p><strong><code>rows</code></strong>: Boolean vector. Consideration of which rows to include. Length equal to the number of observations (nObs), with entries equal to TRUE for rows to include, and FALSE for rows to exclude. Default is <code>"all"</code>, equivalent to <code>rep(TRUE, nObs)</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apollo_control</code></td>
<td>
<p>List. Options controlling the running of the code. See apollo_validateInputs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>database</code></td>
<td>
<p>data.frame. Data used by model.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Saves the output to a csv file in the working/output directory.
</p>


<h3>Value</h3>

<p>Silently returns a matrix containing the mean value for each explanator for those cases where an alternative is chosen and where it is not chosen, 
as well as the t-test comparing those means (H0: equivalence).
The table is also written to a file called <code>modelName_choiceAnalysis.csv</code> and printed to screen.
</p>


</div>