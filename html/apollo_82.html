<div class="container">

<table style="width: 100%;"><tr>
<td>apollo_sharesTest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compares predicted and observed shares</h2>

<h3>Description</h3>

<p>Comparing the shares predicted by the model with the shares observed in the data, and conducts statistical tests.
</p>


<h3>Usage</h3>

<pre><code class="language-R">apollo_sharesTest(
  model,
  apollo_probabilities,
  apollo_inputs,
  sharesTest_settings
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Model object. Estimated model object as returned by function apollo_estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apollo_probabilities</code></td>
<td>
<p>Function. Returns probabilities of the model to be estimated. Must receive three arguments:
</p>

<ul>
<li> <p><strong><code>apollo_beta</code></strong>: Named numeric vector. Names and values of model parameters.
</p>
</li>
<li> <p><strong><code>apollo_inputs</code></strong>: List containing options of the model. See apollo_validateInputs.
</p>
</li>
<li> <p><strong><code>functionality</code></strong>: Character. Can be either <strong><code>"components"</code></strong>, <strong><code>"conditionals"</code></strong>, <strong><code>"estimate"</code></strong> (default), <strong><code>"gradient"</code></strong>, <strong><code>"output"</code></strong>, <strong><code>"prediction"</code></strong>, <strong><code>"preprocess"</code></strong>, <strong><code>"raw"</code></strong>, <strong><code>"report"</code></strong>, <strong><code>"shares_LL"</code></strong>, <strong><code>"validate"</code></strong> or <strong><code>"zero_LL"</code></strong>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apollo_inputs</code></td>
<td>
<p>List grouping most common inputs. Created by function apollo_validateInputs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sharesTest_settings</code></td>
<td>
<p>List. Contains settings for this function. User input is required for all settings except those with a default or marked as optional. 
</p>

<ul>
<li> <p><strong><code>alternatives</code></strong>: Named numeric vector. Names of alternatives and their corresponding value in <code>choiceVar</code>.
</p>
</li>
<li> <p><strong><code>choiceVar</code></strong>: Numeric vector. Contains choices for all observations. It will usually be a column from the database. Values are defined in <code>alternatives</code>.
</p>
</li>
<li> <p><strong><code>modelComponent</code></strong>: Name of model component. Set to model by default.
</p>
</li>
<li> <p><strong><code>newAlts</code></strong>: Optional list describing the new alternatives to be used by apollo_sharesTest. This should have as many elements as new alternatives, with each entry being a matrix of 0-1 entries, with one row per observation, and one column per alternative used in the model.
</p>
</li>
<li> <p><strong><code>newAltsOnly</code></strong>: Boolean. If TRUE, results will only be printed for the 'new' alternatives defined in newAlts, not the original alternatives used in the model. Set to FALSE by default.
</p>
</li>
<li> <p><strong><code>subsamples</code></strong>: Named list of boolean vectors. Each element of the list defines whether a given observation belongs to a given subsample (e.g. by sociodemographics).
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is an auxiliary function to help guide the definition of utility functions in a choice model. 
By comparing the predicted and observed shares of alternatives for different categories of the data, 
it is possible to identify what additional explanatory variables could improve the fit of the model.
</p>


<h3>Value</h3>

<p>Nothing
</p>


</div>