<div class="container">

<table style="width: 100%;"><tr>
<td>ebma</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bayesian Ensemble Model Averaging EBMA</h2>

<h3>Description</h3>

<p><code>ebma</code> tunes EBMA and generates weights for classifier averaging.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ebma(
  ebma.fold,
  y,
  L1.x,
  L2.x,
  L2.unit,
  L2.reg,
  pc.names,
  post.strat,
  n.draws,
  tol,
  best.subset.opt,
  pca.opt,
  lasso.opt,
  gb.opt,
  svm.opt,
  deep.mrp,
  verbose,
  cores
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ebma.fold</code></td>
<td>
<p>New data for EBMA tuning. A list containing the the data
that must not have been used in classifier training.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Outcome variable. A character vector containing the column names of
the outcome variable. A character scalar containing the column name of
the outcome variable in <code>survey</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L1.x</code></td>
<td>
<p>Individual-level covariates. A character vector containing the
column names of the individual-level variables in <code>survey</code> and
<code>census</code> used to predict outcome <code>y</code>. Note that geographic unit
is specified in argument <code>L2.unit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L2.x</code></td>
<td>
<p>Context-level covariates. A character vector containing the
column names of the context-level variables in <code>survey</code> and
<code>census</code> used to predict outcome <code>y</code>. To exclude context-level
variables, set <code>L2.x = NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L2.unit</code></td>
<td>
<p>Geographic unit. A character scalar containing the column
name of the geographic unit in <code>survey</code> and <code>census</code> at which
outcomes should be aggregated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L2.reg</code></td>
<td>
<p>Geographic region. A character scalar containing the column
name of the geographic region in <code>survey</code> and <code>census</code> by which
geographic units are grouped (<code>L2.unit</code> must be nested within
<code>L2.reg</code>). Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pc.names</code></td>
<td>
<p>Principal Component Variable names. A character vector
containing the names of the context-level principal components variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>post.strat</code></td>
<td>
<p>Post-stratification results. A list containing the best
models for each of the tuned classifiers, the individual level predictions
on the data classifier trainig data and the post-stratified context-level
predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.draws</code></td>
<td>
<p>EBMA number of samples. An integer-valued scalar specifying
the number of bootstrapped samples to be drawn from the EBMA fold and used
for tuning EBMA. Default is <code class="reqn">100</code>. Passed on from <code>ebma.n.draws</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>EBMA tolerance. A numeric vector containing the tolerance values
for improvements in the log-likelihood before the EM algorithm stops
optimization. Values should range at least from <code class="reqn">0.01</code> to <code class="reqn">0.001</code>.
Default is <code>c(0.01, 0.005, 0.001, 0.0005, 0.0001, 0.00005, 0.00001)</code>.
Passed on from <code>ebma.tol</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>best.subset.opt</code></td>
<td>
<p>Tuned best subset parameters. A list returned from
<code>run_best_subset()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pca.opt</code></td>
<td>
<p>Tuned best subset with principal components parameters. A list
returned from <code>run_pca()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lasso.opt</code></td>
<td>
<p>Tuned lasso parameters. A list returned from
<code>run_lasso()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gb.opt</code></td>
<td>
<p>Tuned gradient tree boosting parameters. A list returned from
<code>run_gb()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svm.opt</code></td>
<td>
<p>Tuned support vector machine parameters. A list returned from
<code>run_svm()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deep.mrp</code></td>
<td>
<p>Deep MRP classifier. A logical argument indicating whether
the deep MRP classifier should be used for predicting outcome <code>y</code>.
Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Verbose output. A logical argument indicating whether or not
verbose output should be printed. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>The number of cores to be used. An integer indicating the number
of processor cores used for parallel computing. Default is 1.</p>
</td>
</tr>
</table>
</div>