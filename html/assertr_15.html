<div class="container">

<table style="width: 100%;"><tr>
<td>success_and_error_functions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Success and error functions</h2>

<h3>Description</h3>

<p>The behavior of functions like <code>assert</code>, <code>assert_rows</code>,
<code>insist</code>, <code>insist_rows</code>, <code>verify</code> when the assertion
passes or fails is configurable via the <code>success_fun</code>
and <code>error_fun</code> parameters, respectively.
The <code>success_fun</code> parameter takes a function that takes
the data passed to the assertion function as a parameter. You can
write your own success handler function, but there are a few
provided by this package:
</p>

<ul>
<li> <p><code>success_continue</code> - just returns the data that was
passed into the assertion function
</p>
</li>
<li> <p><code>success_logical</code> - returns TRUE
</p>
</li>
<li> <p><code>success_append</code> - returns the data that was
passed into the assertion function
but also stores basic information about
verification result
</p>
</li>
<li> <p><code>success_report</code> - When success results are stored, and each
verification ended up with success prints
summary of all successful validations
</p>
</li>
<li> <p><code>success_df_return</code> - When success results are stored, and each
verification ended up with success prints
data.frame with verification results
</p>
</li>
</ul>
<p>The <code>error_fun</code> parameter takes a function that takes
the data passed to the assertion function as a parameter. You can
write your own error handler function, but there are a few
provided by this package:
</p>

<ul>
<li> <p><code>error_stop</code> - Prints a summary of the errors and
halts execution.
</p>
</li>
<li> <p><code>error_report</code> - Prints all the information available
about the errors in a "tidy"
<code>data.frame</code> (including information
such as the name of the predicate used,
the offending value, etc...) and halts
execution.
</p>
</li>
<li> <p><code>error_append</code> - Attaches the errors to a special
attribute of <code>data</code> and returns the data. This is chiefly
to allow assertr errors to be accumulated in a pipeline so that
all assertions can have a chance to be checked and so that all
the errors can be displayed at the end of the chain.
</p>
</li>
<li> <p><code>error_return</code> - Returns the raw object containing all
the errors
</p>
</li>
<li> <p><code>error_df_return</code> - Returns a "tidy" <code>data.frame</code>
containing all the errors, including informations such as
the name of the predicate used, the offending value, etc...
</p>
</li>
<li> <p><code>error_logical</code> - returns FALSE
</p>
</li>
<li> <p><code>just_warn</code> - Prints a summary of the errors but does
not halt execution, it just issues a warning.
</p>
</li>
<li> <p><code>warn_report</code> - Prints all the information available
about the errors but does not halt execution, it just issues a warning.
</p>
</li>
<li> <p><code>defect_report</code> - For single rule and defective data it displays
short info about skipping current assertion. For <code>chain_end</code> sums
up all skipped rules for defective data.
</p>
</li>
<li> <p><code>defect_df_return</code> - For single rule and defective data it returns
info data.frame about skipping current assertion. For <code>chain_end</code>
returns all skipped rules info data.frame for defective data.
</p>
</li>
</ul>
<p>You may find the third type of data verification result. In a scenario
when validation rule was obligatory (obligatory = TRUE) in order to execute the
following ones we may want to skip them and register that fact.
In order to do this there are three callbacks reacting to defective
data:
</p>

<ul>
<li> <p><code>defect_report</code> - For single rule and defective data it displays
short info about skipping current assertion.
</p>
</li>
<li> <p><code>defect_df_return</code> - For single rule and defective data it returns
info data.frame about skipping current assertion.
</p>
</li>
<li> <p><code>defect_append</code> - Appends info about skipped rule due to data
defect into one of data attributes. Rules skipped on defective data, or its summary, can
be returned with proper error_fun callback in <code>chain_end</code>.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">success_logical(data, ...)

success_continue(data, ...)

success_append(data, ...)

success_report(data, ...)

success_df_return(data, ...)

error_stop(errors, data = NULL, warn = FALSE, ...)

just_warn(errors, data = NULL)

error_report(errors, data = NULL, warn = FALSE, ...)

warn_report(errors, data = NULL)

error_append(errors, data = NULL)

warning_append(errors, data = NULL)

error_return(errors, data = NULL)

error_df_return(errors, data = NULL)

error_logical(errors, data = NULL, ...)

defect_append(errors, data, ...)

defect_report(errors, data, ...)

defect_df_return(errors, data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to or from other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errors</code></td>
<td>
<p>A list of objects of class <code>assertr_errors</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>If TRUE, assertr will issue a warning instead of an error</p>
</td>
</tr>
</table>
</div>