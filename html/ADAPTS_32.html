<div class="container">

<table style="width: 100%;"><tr>
<td>remakeLM22p</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make an Augmented Signature Matrix</h2>

<h3>Description</h3>

<p>With the ADAPTSdata packge, it will use the full LM22 data matrix and add a few 
additional genes to cover osteoblasts, osteoclasts, Plasma.memory, MM.  In many ways this is 
just a convenient wrapper for AugmentSigMatrix that calculates and caches a gList.
</p>


<h3>Usage</h3>

<pre><code class="language-R">remakeLM22p(
  exprData,
  fullLM22,
  smallLM22 = NULL,
  plotToPDF = TRUE,
  condTol = 1.01,
  postNorm = TRUE,
  autoDetectMin = FALSE,
  pdfDir = tempdir(),
  oneCore = FALSE,
  cache_gList = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>exprData</code></td>
<td>
<p>The gene express data to use to augment LM22, e.g. ADAPTSdata::addMGSM27</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fullLM22</code></td>
<td>
<p>LM22 data with all genes.  Available in ADAPTSdata2::fullLM22</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smallLM22</code></td>
<td>
<p>The small LM22 matrix, if it includes new cell types in exprData those will not be overwritten (DEFAULT: NULL, i.e. buildLM22plus(useLM22genes = TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotToPDF</code></td>
<td>
<p>TRUE: pdf, FALSE: standard display (DEFAULT: TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>condTol</code></td>
<td>
<p>The tolerance in the reconstruction algorithm.  1.0 = no tolerance, 1.05 = 5% tolerance (DEFAULT: 1.01)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>postNorm</code></td>
<td>
<p>Set to TRUE to normalize new signatures to match old signatures.  To Do: Redo Kappa curve? (DEFAULT: TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>autoDetectMin</code></td>
<td>
<p>Set to true to automatically detect the first local minima. GOOD PRELIMINARY RESULTS (DEAFULT: FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdfDir</code></td>
<td>
<p>A fold to write the pdf file to if plotToPDF=TRUE (DEFAULT: tempdir())</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oneCore</code></td>
<td>
<p>Set to TRUE to disable parallelization (DEFAULT: FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache_gList</code></td>
<td>
<p>Set to TRUE to cache slow gList calculations (DEFAULT: TRUE)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a cell type signature matrix
</p>


<h3>Examples</h3>

<pre><code class="language-R">#This toy example treats the LM22 deconvolution matrix as if it were all of the data
#  For a real example, look at the vignette or comments in exprData, fullLM22, small LM22
library(ADAPTS)
fullLM22 &lt;- ADAPTS::LM22[1:200, 1:8]
#Make a fake signature matrix out of 100 genes and the first 8 cell types
smallLM22 &lt;- fullLM22[1:100, 1:8] 

#Make fake data representing two replicates of purified Mast.cells types 
exprData &lt;- ADAPTS::LM22[1:200, c("Mast.cells.resting","Mast.cells.activated")]
colnames(exprData) &lt;- c("Mast.cells", "Mast.cells")
newSig &lt;- remakeLM22p(exprData=exprData, fullLM22=fullLM22, smallLM22=smallLM22, 
    plotToPDF=FALSE, oneCore=TRUE, cache_gList=FALSE)
</code></pre>


</div>