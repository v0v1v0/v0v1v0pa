<div class="container">

<table style="width: 100%;"><tr>
<td>awsraw</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Smoothing and demosaicing of RAW images </h2>

<h3>Description</h3>

<p>The function integrates smoothing and demosaicing of RAW image data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">awsraw(object, hmax = 4, aws = TRUE, wb = c(1, 1, 1), cspace = "Adobe", 
       ladjust = 1, maxrange=TRUE, lkern = "Triangle", graph = FALSE, 
       max.pixel = 400, compress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p> an object of class <code>adimpro</code> containing the RAW image data. 
See <code>read.raw</code> for creating such objects.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hmax</code></td>
<td>
<p> maximal bandwidth to use in the smoothing algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aws</code></td>
<td>
<p> use adaptive weights if <code>aws==TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wb</code></td>
<td>
<p> Vector containing factors for the three color chanels, allows to change the white balance. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cspace</code></td>
<td>
<p> Color space of the result,  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ladjust</code></td>
<td>
<p> Factor for the critical value <code class="reqn">\lambda</code>. Defaults to <code>1</code>, smaller values 
increase sensitivity but may result in isolated noisy pixel. Values larger than <code>1</code> give smoother up to cartoon
like results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxrange</code></td>
<td>
<p>If TRUE increase range of values to maximum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lkern</code></td>
<td>
<p> Specifies the location kernel. Defaults to
"Triangle", other choices are "Quadratic", "Cubic" and "Uniform".
The use of "Triangle" corresponds to the Epanechnicov kernel 
nonparametric kernel regression. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph</code></td>
<td>
<p> (logical). If  <code>graph=TRUE</code> intermediate results are
illustrated after each iteration step. Defaults to <code>FALSE</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.pixel</code></td>
<td>
<p> Maximum dimension of images for display
if <code>graph=TRUE</code>. If the true dimension is larger, the 
images are downscaled for display. See also <code>show.image</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compress</code></td>
<td>
<p> logical, determines if image data are stored in raw-format. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Adaptive smoothing is performed on the original RAW data, restricting positive weights to
pixel corresponding to the same color channel. Noise is assumed to have a variance 
depending linearly on the mean. Weights are determined by weigthed distances between 
color vectors. These color vectors are obtained by demosaicing that is applied to the smoothed
RAW data after each iteration of the smoothing algorithm. The demosaicing algorithm is 
a 3D generalized median, see <code>method="Median4"</code> in function <code>develop.raw</code>.
</p>


<h3>Value</h3>

<p>Object of class <code>"adimpro"</code>
</p>
<table>
<tr style="vertical-align: top;">
<td><code>img </code></td>
<td>
<p>Contains the reconstructed image. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ni </code></td>
<td>
<p>Contains the sum of weights, i.e. <code>trace(W_i)</code>, in all grid points <code>i</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ni0 </code></td>
<td>
<p>Contains the maximum sum of weights for an nonadaptive kernel estimate with the same bandwidth.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hmax </code></td>
<td>
<p>Bandwidth used in the last iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call </code></td>
<td>
<p>The arguments of the function call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varcoef </code></td>
<td>
<p>Estimated coefficients in the linear variance model for the
color channels.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p> Karsten Tabelow <a href="mailto:tabelow@wias-berlin.de">tabelow@wias-berlin.de</a> and Joerg Polzehl <a href="mailto:polzehl@wias-berlin.de">polzehl@wias-berlin.de</a></p>


<h3>References</h3>

<p>   Polzehl, J. and Tabelow, K. (2007). Adaptive smoothing of digital
images, Journal of Statistical Software 19 (1). </p>


<h3>See Also</h3>

 <p><code>read.raw</code>,<code>awsimage</code>, <code>make.image</code>, <code>show.image</code>, <code>clip.image</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: demo(raw)
</code></pre>


</div>