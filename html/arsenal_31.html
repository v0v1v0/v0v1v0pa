<div class="container">

<table style="width: 100%;"><tr>
<td>comparedf.control</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Control settings for <code>comparedf</code> function</h2>

<h3>Description</h3>

<p>Control tolerance definitions for the <code>comparedf</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">comparedf.control(
  tol.logical = "none",
  tol.num = c("absolute", "percent", "pct"),
  tol.num.val = sqrt(.Machine$double.eps),
  int.as.num = FALSE,
  tol.char = c("none", "trim", "case", "both"),
  tol.factor = c("none", "levels", "labels"),
  factor.as.char = FALSE,
  tol.date = "absolute",
  tol.date.val = 0,
  tol.other = "none",
  tol.vars = "none",
  max.print.vars = NA,
  max.print.obs = NA,
  max.print.diffs.per.var = 10,
  max.print.diffs = 50,
  max.print.attrs = NA,
  ...,
  max.print.diff = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tol.logical, tol.num, tol.char, tol.factor, tol.date, tol.other</code></td>
<td>
<p>A function or one of the shortcut character strings or a list thereof,
denoting the tolerance function to use for a given data type. See "details", below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol.num.val</code></td>
<td>
<p>Numeric; maximum value of differences allowed in numerics (fed to the function given in <code>tol.num</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>int.as.num</code></td>
<td>
<p>Logical; should integers be coerced to numeric before comparison? Default FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factor.as.char</code></td>
<td>
<p>Logical; should factors be coerced to character before comparison? Default FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol.date.val</code></td>
<td>
<p>Numeric; maximum value of differences allowed in dates (fed to the function given in <code>tol.date</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol.vars</code></td>
<td>
<p>Either <code>"none"</code> (the default), denoting that variable names are to be matched as-is,
a named vector manually specifying variable names to compare (where the names correspond to columns of
<code>x</code> and the values correspond to columns of <code>y</code>), or a
character vector denoting equivalence classes for characters in the variable names. See "details", below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.print.vars</code></td>
<td>
<p>Integer denoting maximum number of variables to report in the "variables not shared" and "variables not compared"
output. <code>NA</code> will print all differences.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.print.obs</code></td>
<td>
<p>Integer denoting maximum number of not-shared observations to report. <code>NA</code> will print all differences.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.print.diffs.per.var, max.print.diffs</code></td>
<td>
<p>Integers denoting the maximum number of differences to report for each variable or overall.
<code>NA</code> will print all differences for each variable or overall.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.print.attrs</code></td>
<td>
<p>Integers denoting the maximum number of non-identical attributes to report.<code>NA</code> will print all differences.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments (not in use at this time).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.print.diff</code></td>
<td>
<p>Deprecated.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The following character strings are accepted:
</p>

<ul>
<li>
<p><code>tol.logical = "none"</code>: compare logicals exactly as they are.
</p>
</li>
<li>
<p><code>tol.num = "absolute"</code>: compare absolute differences in numerics.
</p>
</li>
<li>
<p><code>tol.num = "percent"</code>, <code>tol.num = "pct"</code> compare percent differences in numerics.
</p>
</li>
<li>
<p><code>tol.char = "none"</code>: compare character strings exactly as they are.
</p>
</li>
<li>
<p><code>tol.char = "trim"</code>: left-justify and trim all trailing white space.
</p>
</li>
<li>
<p><code>tol.char = "case"</code>: allow differences in upper/lower case.
</p>
</li>
<li>
<p><code>tol.char = "both"</code>: combine <code>"trim"</code> and <code>"case"</code>.
</p>
</li>
<li>
<p><code>tol.factor = "none"</code>: match both character labels and numeric levels.
</p>
</li>
<li>
<p><code>tol.factor = "levels"</code>: match only the numeric levels.
</p>
</li>
<li>
<p><code>tol.factor = "labels"</code>: match only the labels.
</p>
</li>
<li>
<p><code>tol.date = "absolute"</code>: compare absolute differences in dates.
</p>
</li>
<li>
<p><code>tol.other = "none"</code>: expect objects of other classes to be exactly identical.
</p>
</li>
</ul>
<p>A list with names mapped to <code>x</code> can be used to specify tolerances by variable. One unnamed element is supported
as the default.
</p>
<p><code>tol.vars</code>: If not set to <code>"none"</code> (the default) or a named vector,
the <code>tol.vars</code> argument is a character vector denoting equivalence classes
for the characters in the variable names. A single character in this vector means to replace that character
with <code>""</code>. All other strings in this vector are split by character and replaced by the first character in the string.
</p>
<p>E.g., a character vector <code>c("._", "aA", " ")</code> would denote that the dot and underscore are equivalent (to be translated to a dot),
that "a" and "A" are equivalent (to be translated to "a"), and that spaces should be removed.
</p>
<p>The special character string <code>"case"</code> in this vector is the same as specifying <code>paste0(letters, LETTERS)</code>.
</p>


<h3>Value</h3>

<p>A list containing the necessary parameters for the <code>comparedf</code> function.
</p>


<h3>Author(s)</h3>

<p>Ethan Heinzen
</p>


<h3>See Also</h3>

<p><code>comparedf</code>, <code>comparedf.tolerances</code>, <code>summary.comparedf</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">cntl &lt;- comparedf.control(
  tol.num = "pct",     # calculate percent differences
  tol.vars = c("case", # ignore case
               "._",   # set all underscores to dots.
               "e")    # remove all letter e's
)

cntl &lt;- comparedf.control(tol.char = list(
  "none",      # the default
  x1 = "case", # be case-insensitive for the variable "x1"
  x2 = function(x, y) tol.NA(x, y, x != y | y == "NA") # a custom-defined tolerance
))
</code></pre>


</div>