<div class="container">

<table style="width: 100%;"><tr>
<td>count_cases</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert data on the report level to aggregated data.</h2>

<h3>Description</h3>

<p>The count_cases function is used to convert data on the report
level to aggregated data, grouping by specified covariates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">count_cases(
  data,
  drug.case = drug.case,
  drug.control = NULL,
  covar_disc = NULL,
  covar_cont = NULL,
  breaks = NULL,
  cores = detectCores(),
  min_AE = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data.frame with at least 3 columns, consisting data on the report
level, having ID, Drug type and AE name as the first 3 columns with
covariates(optional) followed. The order of columns is not interchangeable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drug.case</code></td>
<td>
<p>a character string for the target drug of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drug.control</code></td>
<td>
<p>a character string for the reference drug. If NULL(default),
all other drugs combined are the reference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covar_disc</code></td>
<td>
<p>a character vector of categorical covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covar_cont</code></td>
<td>
<p>a character vector of continuous covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>a list consists of vectors used for creating specific bins to
transform continuous covariates into categorical. Breaks Should have the same
length as covar_cont. Given a vector of non-decreasing breakpoints in <code>breaks[i]</code>,
find the interval containing each element of <code>covar_cont[i]</code>; i.e., for each index
j in <code>breaks[i]</code>, value j is assigned to <code>covar_cont[i]</code> if and only if <code>breaks[i][j]</code>
<code style="white-space: pre;">⁠&lt;= covar_cont[i] &lt; breaks[i][j+1]⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>the number of cores to use for parallel execution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_AE</code></td>
<td>
<p>the minimum number of cases required to start counting
for a specific AE. Default 10.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <strong>data.frame</strong> consists of aggregated data.
</p>
<p>The returned data.frame contains the following columns:
</p>

<ul>
<li>
<p>DRUG_TYPE: type of the drug, DrugYes for target drug and DrugNo for referenced drug
</p>
</li>
<li>
<p>AE_NAME: the name of the adverse event
</p>
</li>
<li>
<p>AEyes: number of observations that have this AE
</p>
</li>
<li>
<p>AEno: number of observations that do not have this AE
</p>
</li>
<li>
<p>covariates: covariates specifed by user
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
# count_cases(data = covid1, drug.case = "COVID19", drug.control = "OTHER",
#             covar_cont = c("AGE"), covar_disc = c("SEX"),
#             breaks = list(c(16,30,50,65,120)))
            
</code></pre>


</div>