<div class="container">

<table style="width: 100%;"><tr>
<td>AutoScore_weighting_Survival</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>AutoScore STEP(iii) for survival outcomes: Generate the initial score
with the final list of variables (Re-run AutoScore Modules 2+3)</h2>

<h3>Description</h3>

<p>AutoScore STEP(iii) for survival outcomes: Generate the initial score
with the final list of variables (Re-run AutoScore Modules 2+3)
</p>


<h3>Usage</h3>

<pre><code class="language-R">AutoScore_weighting_Survival(
  train_set,
  validation_set,
  final_variables,
  max_score = 100,
  categorize = "quantile",
  max_cluster = 5,
  quantiles = c(0, 0.05, 0.2, 0.8, 0.95, 1),
  time_point = c(1, 3, 7, 14, 30, 60, 90)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>train_set</code></td>
<td>
<p>A processed <code>data.frame</code> that contains data to be analyzed, for training.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>validation_set</code></td>
<td>
<p>A processed <code>data.frame</code> that contains data for validation purpose.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>final_variables</code></td>
<td>
<p>A vector containing the list of selected variables, selected from Step(ii)<code>AutoScore_parsimony</code>. Run <code>vignette("Guide_book", package = "AutoScore")</code> to see the guidebook or vignette.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_score</code></td>
<td>
<p>Maximum total score (Default: 100).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>categorize</code></td>
<td>
<p>Methods for categorize continuous variables. Options include "quantile" or "kmeans" (Default: "quantile").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_cluster</code></td>
<td>
<p>The max number of cluster (Default: 5). Available if <code>categorize = "kmeans"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantiles</code></td>
<td>
<p>Predefined quantiles to convert continuous variables to categorical ones. (Default: c(0, 0.05, 0.2, 0.8, 0.95, 1)) Available if <code>categorize = "quantile"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_point</code></td>
<td>
<p>The time points to be evaluated using time-dependent AUC(t).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Generated <code>cut_vec</code> for downstream fine-tuning process STEP(iv) <code>AutoScore_fine_tuning</code>.
</p>


<h3>References</h3>


<ul><li>
<p>Xie F, Ning Y, Yuan H, et al. AutoScore-Survival: Developing
interpretable machine learning-based time-to-event scores with right-censored
survival data. J Biomed Inform. 2022;125:103959. doi:10.1016/j.jbi.2021.103959
</p>
</li></ul>
<h3>See Also</h3>

<p><code>AutoScore_rank_Survival</code>,
<code>AutoScore_parsimony_Survival</code>,
<code>AutoScore_fine_tuning_Survival</code>,
<code>AutoScore_testing_Survival</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data("sample_data_survival") #
out_split &lt;- split_data(data = sample_data_survival, ratio = c(0.7, 0.1, 0.2))
train_set &lt;- out_split$train_set
validation_set &lt;- out_split$validation_set
ranking &lt;- AutoScore_rank_Survival(train_set, ntree=5)
num_var &lt;- 6
final_variables &lt;- names(ranking[1:num_var])
cut_vec &lt;- AutoScore_weighting_Survival(
  train_set = train_set, validation_set = validation_set,
  final_variables = final_variables, max_score = 100,
  categorize = "quantile", quantiles = c(0, 0.05, 0.2, 0.8, 0.95, 1),
  time_point = c(1,3,7,14,30,60,90)
)

## End(Not run)
</code></pre>


</div>