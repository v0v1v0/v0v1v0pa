<div class="container">

<table style="width: 100%;"><tr>
<td>moPrep</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare Multiple Overimputation Settings</h2>

<h3>Description</h3>

<p>A function to generate priors for multiple overimputation of
a variable measured with error.
</p>


<h3>Usage</h3>

<pre><code class="language-R">moPrep(
  x,
  formula,
  subset,
  error.proportion,
  gold.standard = !missing(subset),
  error.sd
)

## S3 method for class 'molist'
moPrep(x, formula, subset, error.proportion, gold.standard = FALSE, error.sd)

## Default S3 method:
moPrep(
  x,
  formula,
  subset,
  error.proportion,
  gold.standard = !missing(subset),
  error.sd
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>either a matrix, data.frame, or a object of class "molist"
from a previous <code>moPrep</code> call. The first two derive the priors
from the data given, and the third will derive the priors from the
first <code>moPrep</code> call and add them to the already defined
priors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula describing the nature of the measurement
error for the variable. See "Details."</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>an optional vector specifying a subset of observations
which possess measurement error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error.proportion</code></td>
<td>
<p>an optional vector specifying the fraction of
the observed variance that is due to measurement error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gold.standard</code></td>
<td>
<p>a logical value indicating if values with no
measurement error should be used to estimate the measurement error
variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error.sd</code></td>
<td>
<p>an optional vector specifying the standard error of
the measurement error.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function generates priors for multiple overimputation of data
measured with error. With the <code>formula</code> arugment, you can specify
which variable has the error, what the mean of the latent data is, and
if there are any other proxy measures of the mismeasured variable. The
general syntax for the formula is: <code>errvar ~ mean | proxy</code>,
where <code>errvar</code> is the mismeasured variable, <code>mean</code> is a
formula for the mean of the latent variable (usually just
<code>errvar</code> itself), and <code>proxy</code> is a another mismeasurement of
the same latent variable. The proxies are used to estimate the
variance of the measurement error.
</p>
<p><code>subset</code> and <code>gold.standard</code> refer to the the rows of the
data which are and are not measured with error. Gold-standard rows are
used to estimate the variance of the
measurement. error. <code>error.proportion</code> is used to estimate the
variance of the measurement error by estimating the variance of the
mismeasurement and taking the proportion assumed to be due to
error. <code>error.sd</code> sets the standard error of the measurement
error directly.
</p>


<h3>Value</h3>

<p>An instance of the S3 class "molist" with the following
objects:
</p>

<ul>
<li>
<p> priors a four-column matrix of the multiple overimputation priors
associated with the data. Each row of the matrix is
<code>c(row,column, prior.mean, prior.sd)</code>
</p>
</li>
<li>
<p> overimp a two-column matrix of cells to be overimputed. Each
row of the matrix is of the form <code>c(row, column)</code>, which
indicate the row and column of the cell to be overimputed.
</p>
</li>
<li>
<p> data the object name of the matrix or data.frame to which
priors refer.
</p>
</li>
</ul>
<p>Note that <code>priors</code> and <code>overimp</code> might contain results from
multiple calls to <code>moPrep</code>, not just the most recent.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>moPrep(molist)</code>: Alter existing moPrep output
</p>
</li>
<li> <p><code>moPrep(default)</code>: Default call to moPrep
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>amelia</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"> data(africa)
 m.out &lt;- moPrep(africa, trade ~ trade, error.proportion = 0.1)
 a.out &lt;- amelia(m.out, ts = "year", cs = "country")
 plot(a.out)
 m.out &lt;- moPrep(africa, trade ~ trade, error.sd = 1)
 a.out &lt;- amelia(m.out, ts = "year", cs = "country")

</code></pre>


</div>