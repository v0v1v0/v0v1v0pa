<div class="container">

<table style="width: 100%;"><tr>
<td>aprof</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an 'aprof' object for usage in the package 'aprof'</h2>

<h3>Description</h3>

<p>Create 'aprof' objects for usage with 'aprof' functions
</p>


<h3>Usage</h3>

<pre><code class="language-R">aprof(src = NULL, output = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>src</code></td>
<td>
<p>The name of the source code file (and path if not in the working
directory). The source code file is expected to be a 
a plain text file (e.g. txt, .R), containing the code of the
previously profiled program. If left empty, some "aprof" functions
(e.g. <code>readLineDensity</code>) will attempt to extract this information from
the call stack but this is not recommended (as the success of
file name detection operations vary). Note that
functions that require a defined source file will fail if
the source file is not defined or detected in the call stack.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>The file name (and path if not in the working
directory) of a previously created profiling exercise.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Creates an "aprof" object from the R-profiler's output and a source file.
The objects created through "aprof" can be used by the standard functions
plot, summary and print (more specifically:
<code>plot.aprof</code>, <code>summary.aprof</code> and <code>print.arof</code>).
See the example below for more details.
</p>
<p>Using aprof with knitr and within .Rmd or .Rnw documents
is not yet supported by the R profiler. Note that setting the
chuck option: engine="Rscript", disables line-profiling.
Line profiling only works in a interactive session (Oct 2015). 
In these cases users are advised to use the standard
Rprof functions or "profr" (while setting engine="Rscript") and
not to rely on line-profiling based packages (for the time
being).
</p>


<h3>Value</h3>

<p>An aprof object
</p>


<h3>Author(s)</h3>

<p>Marco D. Visser
</p>


<h3>See Also</h3>

<p><code>plot.aprof</code>, <code>summary.aprof</code>,
<code>print.aprof</code>, <code>Rprof</code> and
<code>summaryRprof</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
   ## create function to profile
     foo &lt;- function(N){
             preallocate&lt;-numeric(N)
             grow&lt;-NULL
              for(i in 1:N){
                  preallocate[i]&lt;-N/(i+1)
                  grow&lt;-c(grow,N/(i+1))
                 }
     }

     ## save function to a source file and reload
     dump("foo",file="foo.R")
     source("foo.R")

     ## create file to save profiler output
     tmp&lt;-tempfile()

     ## Profile the function
     Rprof(tmp,line.profiling=TRUE)
     foo(1e4)
     Rprof(append=FALSE)

     ## Create a aprof object
     fooaprof&lt;-aprof("foo.R",tmp)
     ## display basic information, summarize and plot the object
     fooaprof
     summary(fooaprof)
     plot(fooaprof)
     profileplot(fooaprof)

     ## To continue with memory profiling:
     ## enable memory.profiling=TRUE
     Rprof(tmp,line.profiling=TRUE,memory.profiling=TRUE)
     foo(1e4)
     Rprof(append=FALSE)
     ## Create a aprof object
     fooaprof&lt;-aprof("foo.R",tmp)
     ## display basic information, and plot memory usage
     fooaprof
     
     plot(fooaprof)
   

## End(Not run)
</code></pre>


</div>