<div class="container">

<table style="width: 100%;"><tr>
<td>addUpwardMargin</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add upward margin of areas</h2>

<h3>Description</h3>

<p>This function computes isolated and interconnected upward margins of areas and
add them to an antaresData object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">addUpwardMargin(x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>antaresData</code> created with
<code>readAntares</code></p>
</td>
</tr></table>
<h3>Details</h3>

<p>For a given area and time step, isolated upward margin is the difference
between the available production capacity plus the fatal productions and the
load. More formally it is equal to:
</p>
<p><code>isolatedUpwardMargin = (`AVL DTG` + generatingMaxPower + storageCapacity) +
                             (`H. ROR` + WIND + SOLAR + `MISC. NDG`) - LOAD</code>
</p>
<p>NB: in Antares v6 (and earlier versions) <code>generatingMaxPower</code> is replaced
by <code>hstorPMaxAvg</code>.
</p>
<p>The variable <code>storageCapacity</code> is automatically created when pumped
storage areas are removed with function
<code>removeVirtualAreas</code>. If there is not any such area,
<code>storageCapacity</code> is assumed to be equal to 0.
</p>
<p>Interconnected upward margin is the isolated upward margin plus the imports and
minus the exports:
</p>
<p><code>interconnectedUpwardMargin = isolatedUpwardMargin - BALANCE + `ROW BAL.`</code>
</p>


<h3>Value</h3>

<p>The function modifies its input by adding to it two new columns
<code>isolatedUpwardMargin</code> and <code>interconnectedUpwardMargin</code>. For
convenience it invisibly returns <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Data required by the function
showAliases("upwardMargin")

mydata &lt;- readAntares(select = "upwardMargin")
mydata &lt;- removeVirtualAreas(mydata, getAreas(c("pump", "stor")))

addUpwardMargin(mydata)

## End(Not run)
</code></pre>


</div>