<div class="container">

<table style="width: 100%;"><tr>
<td>a3.base</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Base A3 Results Calculation</h2>

<h3>Description</h3>

<p>This function calculates the A3 results. Generally this function is not called directly. It is simpler to use <code>a3</code> (for arbitrary models) or <code>a3.lm</code> (specifically for linear regressions).
</p>


<h3>Usage</h3>

<pre><code class="language-R">a3.base(formula, data, model.fn, simulate.fn, n.folds = 10,
  data.generating.fn = replicate(ncol(x), a3.gen.default), p.acc = 0.01,
  features = TRUE, slope.sample = NULL, slope.displacement = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>the regression formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing the data to be used in the model fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.fn</code></td>
<td>
<p>function used to generate a model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simulate.fn</code></td>
<td>
<p>function used to create the model and generate predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.folds</code></td>
<td>
<p>the number of folds used for cross-validation. Set to 0 to use Leave One Out Cross Validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.generating.fn</code></td>
<td>
<p>the function used to generate stochastic noise for calculation of exact p values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.acc</code></td>
<td>
<p>the desired accuracy for the calculation of exact p values. The entire calculation process will be repeated <code class="reqn">1/p.acc</code> times so this can have a dramatic affect on time required. Set to <code>NULL</code> to disable the calculation of p values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>features</code></td>
<td>
<p>whether to calculate the average slopes, added <code class="reqn">R^2</code> and p values for each of the features in addition to the overall model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slope.sample</code></td>
<td>
<p>if not NULL the sample size for use to calculate the average slopes (useful for very large data sets).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slope.displacement</code></td>
<td>
<p>the amount of displacement to take in calculating the slopes. May be a single number in which case the same slope is applied to all features. May also be a named vector where there is a name for each feature.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>S3 <code>A3</code> object containing:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>model.R2</code></td>
<td>
<p>The cross validated <code class="reqn">R^2</code> for the entire model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature.R2</code></td>
<td>
<p>The cross validated <code class="reqn">R^2</code>'s for the features (if calculated).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.p</code></td>
<td>
<p>The p value for the entire model (if calculated).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature.p</code></td>
<td>
<p>The p value for the features (if calculated).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all.R2</code></td>
<td>
<p>The <code class="reqn">R^2</code>'s for the model features, and any stochastic simulations for calculating exact p values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observed</code></td>
<td>
<p>The observed response for each observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predicted</code></td>
<td>
<p>The predicted response for each observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slopes</code></td>
<td>
<p>Average slopes for each of the features (if calculated).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all.slopes</code></td>
<td>
<p>Slopes for each of the observations for each of the features (if calculated).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>
<p>The A3 results table.</p>
</td>
</tr>
</table>
</div>