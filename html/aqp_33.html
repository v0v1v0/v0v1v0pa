<div class="container">

<table style="width: 100%;"><tr>
<td>checkHzDepthLogic</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check a SoilProfileCollection object for errors in horizon depths.</h2>

<h3>Description</h3>

<p>This function inspects a <code>SoilProfileCollection</code> object, looking for four common errors in horizon depths:
</p>

<ol>
<li>
<p> bottom depth shallower than top depth
</p>
</li>
<li>
<p> equal top and bottom depth
</p>
</li>
<li>
<p> missing top or bottom depth (e.g. <code>NA</code>)
</p>
</li>
<li>
<p> gap or overlap between adjacent horizons (only if <code>byhz = FALSE</code>)
</p>
</li>
</ol>
<h3>Usage</h3>

<pre><code class="language-R">checkHzDepthLogic(
  x,
  hzdepths = NULL,
  idname = NULL,
  fast = FALSE,
  byhz = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>SoilProfileCollection</code> or <code>data.frame</code> object to check</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hzdepths</code></td>
<td>
<p>character vector, describing top and bottom depths in a <code>SoilProfileCollection</code> or <code>data.frame</code>. <code>horizonDepths(x)</code> is used when <code>x</code> is a <code>SoilProfileCollection</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idname</code></td>
<td>
<p>character, describing the column containing profile IDs in a <code>SoilProfileCollection</code> or <code>data.frame</code>. <code>idname(x)</code> is used when <code>x</code> is a <code>SoilProfileCollection</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fast</code></td>
<td>
<p>logical, When <code>TRUE</code>, details about specific test results are not needed, the operation can allocate less memory and run approximately 5x faster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byhz</code></td>
<td>
<p>logical, apply logic tests to profiles (<code>FALSE</code>) or individual horizons (<code>TRUE</code>)?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>data.frame</code> containing profile IDs, validity boolean (<code>valid</code>) and test results if <code>fast = FALSE</code>.
</p>
<p>The <code>data.frame</code> will have as many rows as profiles in <code>x</code> (<code>length(x)</code>).
</p>

<ul>
<li> <p><code>id</code> : Profile IDs, named according to <code>idname(x)</code>
</p>
</li>
<li> <p><code>valid</code> : boolean, profile passes all of the following tests
</p>
</li>
<li> <p><code>depthLogic</code> : boolean, errors related to depth logic
</p>
</li>
<li> <p><code>sameDepth</code> : boolean, errors related to same top/bottom depths
</p>
</li>
<li> <p><code>missingDepth</code> : boolean, NA in top / bottom depths
</p>
</li>
<li> <p><code>overlapOrGap</code> : boolean, gaps or overlap in adjacent horizons (<code>NA</code> when <code>byhz = TRUE</code>)
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>D.E. Beaudette, A.G. Brown, S.M. Roecker
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## sample data

data(sp3)
depths(sp3) &lt;- id ~ top + bottom

# these data should be clean
res &lt;- checkHzDepthLogic(sp3)

head(res)

# less memory if only concerned about net validity
res &lt;- checkHzDepthLogic(sp3, fast = TRUE)

head(res)

</code></pre>


</div>