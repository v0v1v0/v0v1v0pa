<div class="container">

<table style="width: 100%;"><tr>
<td>APResult-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class "APResult"</h2>

<h3>Description</h3>

<p>S4 class for storing results of affinity propagation
clustering. It extends the class <code>ExClust</code>.</p>


<h3>Objects</h3>

<p>Objects of this class can be created by calling <code>apcluster</code>
or <code>apclusterL</code> for a given similarity matrix or calling
one of these procedures with a data set and a similarity measure.
</p>


<h3>Slots</h3>

<p>The following slots are defined for APResult objects. Most names
are taken from Frey's and Dueck's original Matlab package:
</p>

<dl>
<dt>
<code>sweeps</code>:</dt>
<dd>
<p>number of times leveraged clustering ran with 
different subsets of samples</p>
</dd>
<dt>
<code>it</code>:</dt>
<dd>
<p>number of iterations the algorithm ran</p>
</dd>
<dt>
<code>p</code>:</dt>
<dd>
<p>input preference (either set by user or
computed by <code>apcluster</code> or
<code>apclusterL</code>)</p>
</dd>
<dt>
<code>netsim</code>:</dt>
<dd>
<p>final total net similarity, defined as the
sum of <code>expref</code> and <code>dpsim</code>
(see below)</p>
</dd>
<dt>
<code>dpsim</code>:</dt>
<dd>
<p>final sum of similarities of data points to
exemplars</p>
</dd>
<dt>
<code>expref</code>:</dt>
<dd>
<p>final sum of preferences of the identified
exemplars</p>
</dd>
<dt>
<code>netsimLev</code>:</dt>
<dd>
<p>total net similarity of the individual 
sweeps for leveraged clustering; only
available for leveraged clustering</p>
</dd>
<dt>
<code>netsimAll</code>:</dt>
<dd>
<p>vector containing the total net similarity
for each iteration; only available if
<code>apcluster</code> was called with
<code>details=TRUE</code></p>
</dd>
<dt>
<code>exprefAll</code>:</dt>
<dd>
<p>vector containing the sum of preferences
of the identified exemplars
for each iteration; only available if
<code>apcluster</code> was called with
<code>details=TRUE</code></p>
</dd>
<dt>
<code>dpsimAll</code>:</dt>
<dd>
<p>vector containing the sum of similarities
of data points to exemplars
for each iteration; only available if
<code>apcluster</code> was called with
<code>details=TRUE</code></p>
</dd>
<dt>
<code>idxAll</code>:</dt>
<dd>
<p>matrix with sample-to-exemplar indices
for each iteration; only available if
<code>apcluster</code> was called with
<code>details=TRUE</code></p>
</dd>
</dl>
<h3>Extends</h3>

<p>Class <code>"ExClust"</code>, directly.
</p>


<h3>Methods</h3>


<dl>
<dt>plot</dt>
<dd>
<p><code>signature(x="APResult")</code>: see
<code>plot-methods</code></p>
</dd>
<dt>plot</dt>
<dd>
<p><code>signature(x="ExClust", y="matrix")</code>: see
<code>plot-methods</code></p>
</dd>
<dt>heatmap</dt>
<dd>
<p><code>signature(x="ExClust")</code>: see
<code>heatmap-methods</code></p>
</dd>
<dt>heatmap</dt>
<dd>
<p><code>signature(x="ExClust", y="matrix")</code>: see
<code>heatmap-methods</code></p>
</dd>
<dt>show</dt>
<dd>
<p><code>signature(object="APResult")</code>: see
<code>show-methods</code></p>
</dd>
<dt>labels</dt>
<dd>
<p><code>signature(object="APResult")</code>: see
<code>labels-methods</code></p>
</dd>
<dt>cutree</dt>
<dd>
<p><code>signature(object="APResult")</code>: see
<code>cutree-methods</code></p>
</dd>
<dt>length</dt>
<dd>
<p><code>signature(x="APResult")</code>: gives the number of
clusters.</p>
</dd>
<dt>sort</dt>
<dd>
<p><code>signature(x="ExClust")</code>: see
<code>sort-methods</code></p>
</dd>
<dt>as.hclust</dt>
<dd>
<p><code>signature(x="ExClust")</code>: see
<code>coerce-methods</code></p>
</dd>
<dt>as.dendrogram</dt>
<dd>
<p><code>signature(object="ExClust")</code>: see
<code>coerce-methods</code></p>
</dd>
</dl>
<h3>Accessors</h3>

<p>In the following code snippets, <code>x</code> is an <code>APResult</code> object.
</p>

<dl>
<dt>[[</dt>
<dd>
<p><code>signature(x="APResult", i="index", j="missing")</code>:
<code>x[[i]]</code> returns the i-th cluster as a list of indices
of samples belonging to the i-th cluster.
</p>
</dd>
<dt>[</dt>
<dd>
<p><code>signature(x="APResult", i="index", j="missing",
      drop="missing")</code>: <code>x[i]</code> returns a list of integer vectors with the
indices  of samples belonging to this cluster. The list has as
many components as the argument <code>i</code> has elements. A list is
returned even if <code>i</code> is a single integer.
</p>
</dd>
<dt>similarity</dt>
<dd>
<p><code>signature(x="APResult")</code>: gives the similarity
matrix.
</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Ulrich Bodenhofer, Andreas Kothmeier, Johannes Palme</p>


<h3>References</h3>

<p><a href="https://github.com/UBod/apcluster">https://github.com/UBod/apcluster</a>
</p>
<p>APCluster: an R package for affinity propagation clustering.
<em>Bioinformatics</em> <b>27</b>, 2463-2464.
DOI: <a href="https://doi.org/10.1093/bioinformatics/btr406">doi:10.1093/bioinformatics/btr406</a>.
</p>
<p>Frey, B. J. and Dueck, D. (2007) Clustering by passing messages
between data points. <em>Science</em> <b>315</b>, 972-976.
DOI: <a href="https://doi.org/10.1126/science.1136800">doi:10.1126/science.1136800</a>.
</p>


<h3>See Also</h3>

<p><code>apcluster</code>, <code>apclusterL</code>, 
<code>show-methods</code>, <code>plot-methods</code>, 
<code>labels-methods</code>, <code>cutree-methods</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## create two Gaussian clouds
cl1 &lt;- cbind(rnorm(100, 0.2, 0.05), rnorm(100, 0.8, 0.06))
cl2 &lt;- cbind(rnorm(50, 0.7, 0.08), rnorm(50, 0.3, 0.05))
x &lt;- rbind(cl1, cl2)

## compute similarity matrix (negative squared Euclidean)
sim &lt;- negDistMat(x, r=2)

## run affinity propagation
apres &lt;- apcluster(sim, details=TRUE)

## show details of clustering results
show(apres)

## plot information about clustering run
plot(apres)

## plot clustering result
plot(apres, x)

## plot heatmap
heatmap(apres, sim)
</code></pre>


</div>