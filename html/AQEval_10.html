<div class="container">

<table style="width: 100%;"><tr>
<td>find.near</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>find nearby sites</h2>

<h3>Description</h3>

<p>Function to find nearest locations in a
reference by latitude and longitude.
</p>


<h3>Usage</h3>

<pre><code class="language-R">findNearLatLon(lat, lon = NULL, nmax = 10, ..., ref = NULL, units = "m")

findNearSites(
  lat,
  lon,
  pollutant = "no2",
  site.type = "rural background",
  nmax = 10,
  ...,
  ref = NULL,
  units = "m"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lat, lon</code></td>
<td>
<p>(numeric) The supplied latitude and
longitude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nmax</code></td>
<td>
<p>(numeric) The maximum number of nearest sites
to report, by default 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters, currently ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>
<p>(<code>data.frame</code> or similar) The look-up table to
use when identifying nearby locations, and expected to
contain latitude, longitude and any required location
identifier data-series. By default, <code>findNearSites</code>
uses openair <code>importMeta</code> output if this is not
supplied but this is a required input for
<code>findNearLatLon</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>(character) The units to use when reporting
distances to near locations; current options m.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pollutant</code></td>
<td>
<p>(character) For <code>findNearSites</code>
only, the pollutant of interest, by default NO2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>site.type</code></td>
<td>
<p>(character) For <code>findNearSites</code>
only, the monitoring site type, by default Rural
Background.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If investigating air quality in a particular location,
for example a UK Clean Air Zone
(<a href="https://www.gov.uk/guidance/driving-in-a-clean-air-zone">https://www.gov.uk/guidance/driving-in-a-clean-air-zone</a>),
you may wish to locate an appropriate rural background air quality
monitoring station. <code>findNearSites</code> locates air quality monitoring
sites with openly available data such as that available from the UK AURN
network (<a href="https://uk-air.defra.gov.uk/networks/network-info?view=aurn">https://uk-air.defra.gov.uk/networks/network-info?view=aurn</a>)
</p>


<h3>Value</h3>

<p><code>find.near</code> returns <code>data.frame</code> of near site meta
data.
</p>


<h3>Note</h3>

<p>This function uses haversine formula to account
to the Earth's surface curvature, and uses 6371 km as
the radius of earth.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#find rural background NO2 monitoring sites
#near latitude = 50, longitude = -1

#not run: requires internet
## Not run: 
findNearSites(lat = 50, lon = -1)

## End(Not run)
</code></pre>


</div>