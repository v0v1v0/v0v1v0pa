<div class="container">

<table style="width: 100%;"><tr>
<td>derive_var_afeye</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Derive Affected Eye</h2>

<h3>Description</h3>

<p>Derive Affected Eye (<code>AFEYE</code>) in occurrence datasets
</p>


<h3>Usage</h3>

<pre><code class="language-R">derive_var_afeye(
  dataset,
  dataset_occ,
  loc_var,
  lat_var,
  lat_vals,
  loc_vals = "EYE"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>Input dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataset_occ</code></td>
<td>
<p>Input dataset
</p>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> Please use <code>dataset</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loc_var</code></td>
<td>
<p>Location variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat_var</code></td>
<td>
<p>Laterality variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat_vals</code></td>
<td>
<p><code>xxLAT</code>values for which <code>AFEYE</code> is derived
</p>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> Please simply ensure <code>xxLAT</code> values are
contained in <code>c("LEFT", "RIGHT", "BILATERAL")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loc_vals</code></td>
<td>
<p><code>xxLOC</code> values for which <code>AFEYE</code> is derived</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Affected Eye is derived in the occurrence dataset using laterality and Study
Eye. This assumes Study Eye has already been added from ADSL.
</p>


<h3>Value</h3>

<p>The input occurrence dataset with Affected Eye (<code>AFEYE</code>) added.
</p>


<h3>Author(s)</h3>

<p>Lucy Palmen
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(tibble)
library(admiral)

adae1 &lt;- tribble(
  ~STUDYID, ~USUBJID, ~STUDYEYE, ~AELOC, ~AELAT,
  "XXX001", "P01", "RIGHT", "EYE", "RIGHT",
  "XXX001", "P01", "RIGHT", "EYE", "LEFT",
  "XXX001", "P01", "RIGHT", "EYE", "",
  "XXX001", "P01", "RIGHT", "", "RIGHT",
  "XXX001", "P02", "LEFT", "", "",
  "XXX001", "P02", "LEFT", "EYE", "LEFT",
  "XXX001", "P04", "BILATERAL", "EYE", "RIGHT",
  "XXX001", "P05", "RIGHT", "EYE", "RIGHT",
  "XXX001", "P05", "RIGHT", "EYE", "BILATERAL",
  "XXX001", "P06", "BILATERAL", "", "",
  "XXX001", "P06", "BILATERAL", "", "RIGHT",
  "XXX001", "P07", "BILATERAL", "EYE", "BILATERAL",
  "XXX001", "P08", "", "EYE", "BILATERAL",
  "XXX001", "P09", "NONSENSE", "EYE", "BILATERAL",
  "XXX001", "P09", "BILATERAL", "EYE", "NONSENSE",
  "XXX001", "P09", "BILATERAL", "NONSENSE", "BILATERAL",
  "XXX001", "P10", "RIGHT", "EYE", "BOTH"
)

derive_var_afeye(adae1, loc_var = AELOC, lat_var = AELAT)

adae2 &lt;- tribble(
  ~STUDYID, ~USUBJID, ~STUDYEYE, ~AELOC, ~AELAT,
  "XXX001", "P01", "RIGHT", "EYES", "RIGHT",
  "XXX001", "P02", "RIGHT", "RETINA", "LEFT",
  "XXX001", "P03", "LEFT", "", ""
)

derive_var_afeye(adae2, loc_var = AELOC, lat_var = AELAT, loc_vals = c("EYES", "RETINA"))
</code></pre>


</div>