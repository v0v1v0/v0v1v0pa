<div class="container">

<table style="width: 100%;"><tr>
<td>apsimx_soil_profile</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create APSIM-X Soil Profiles</h2>

<h3>Description</h3>

<p>Generates a soil profile that can then replace the existing one in an ‘.apsimx’ or ‘.apsim’ simulation file
</p>
<p>plotting function for a soil profile, it requires ‘ggplot2’
</p>
<p>checking an apsimx soil profile for reasonable values
</p>


<h3>Usage</h3>

<pre><code class="language-R">apsimx_soil_profile(
  nlayers = 10,
  Depth = NULL,
  Thickness = NULL,
  BD = NULL,
  AirDry = NULL,
  LL15 = NULL,
  DUL = NULL,
  SAT = NULL,
  KS = NULL,
  crop.LL = NULL,
  crop.KL = NULL,
  crop.XF = NULL,
  Carbon = NULL,
  SoilCNRatio = NULL,
  FOM = NULL,
  FOM.CN = NULL,
  FBiom = NULL,
  FInert = NULL,
  NO3N = NULL,
  NH4N = NULL,
  PH = NULL,
  ParticleSizeClay = NULL,
  ParticleSizeSilt = NULL,
  ParticleSizeSand = NULL,
  soil.bottom = 150,
  water.table = 200,
  soil.type = 0,
  crops = c("Maize", "Soybean", "Wheat"),
  metadata = NULL,
  soilwat = NA,
  swim = NA,
  initialwater = NA,
  solutes = NA,
  soilorganicmatter = NA,
  dist.parms = list(a = 0, b = 0.2),
  check = TRUE
)

## S3 method for class 'soil_profile'
plot(
  x,
  ...,
  property = c("all", "water", "initialwater", "BD", "AirDry", "LL15", "DUL", "SAT",
    "KS", "Carbon", "SoilCNRatio", "FOM", "FOM.CN", "FBiom", "FInert", "NO3N", "NH4N",
    "PH", "ParticleSizeClay", "ParticleSizeSilt", "ParticleSizeSand", "texture")
)

check_apsimx_soil_profile(x, particle.density = 2.65)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nlayers</code></td>
<td>
<p>Number of soil layers (default = 10)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Depth</code></td>
<td>
<p>specific depths for each soil layer (cm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Thickness</code></td>
<td>
<p>thickness for each soil layer (mm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BD</code></td>
<td>
<p>bulk density for each soil layer (g/cc) – ‘cc’ is cubic cm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AirDry</code></td>
<td>
<p>air dry for each soil layer (mm/mm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LL15</code></td>
<td>
<p>lower limit (15 bar) for each soil layer (mm/mm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DUL</code></td>
<td>
<p>drainage upper limit (0.33 bar) for each soil layer (mm/mm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SAT</code></td>
<td>
<p>saturation (0 bar) for each soil layer (mm/mm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>KS</code></td>
<td>
<p>saturated hydraulic conductivity (mm/day)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop.LL</code></td>
<td>
<p>lower limit for a specific crop</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop.KL</code></td>
<td>
<p>root ability to extract water for a specific crop</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop.XF</code></td>
<td>
<p>soil root exploration for a specific crop</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Carbon</code></td>
<td>
<p>organic carbon (percent)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SoilCNRatio</code></td>
<td>
<p>organic carbon C:N ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FOM</code></td>
<td>
<p>fresh organic matter (kg/ha)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FOM.CN</code></td>
<td>
<p>fresh organic matter C:N ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FBiom</code></td>
<td>
<p>Fraction of microbial biomass (0-1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FInert</code></td>
<td>
<p>Fraction of inert carbon (0-1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NO3N</code></td>
<td>
<p>nitrate nitrogen (Chemical) (ppm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NH4N</code></td>
<td>
<p>ammonium nitrogen (Chemical) (ppm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PH</code></td>
<td>
<p>soil pH</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ParticleSizeClay</code></td>
<td>
<p>particle size clay (in percent)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ParticleSizeSilt</code></td>
<td>
<p>particle size silt (in percent)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ParticleSizeSand</code></td>
<td>
<p>particle size sand (in percent)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>soil.bottom</code></td>
<td>
<p>bottom of the soil profile (cm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>water.table</code></td>
<td>
<p>water table level (not used at the moment) (cm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>soil.type</code></td>
<td>
<p>might use it in the future for auto filling missing information</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crops</code></td>
<td>
<p>name of crops being grown</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metadata</code></td>
<td>
<p>list with soil metadata. For possible parameters and values see an example of <code>inspect_apsimx</code> with soil.child = “Metadata”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>soilwat</code></td>
<td>
<p>optional ‘list’ of class ‘soilwat_parms’</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>swim</code></td>
<td>
<p>optional ‘list’ of class ‘swim_parms’</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initialwater</code></td>
<td>
<p>optional ‘list’ of class ‘initialsoilwater_parms’</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solutes</code></td>
<td>
<p>optional ‘list’ of class ‘solutes_parms’</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>soilorganicmatter</code></td>
<td>
<p>optional ‘list’ of class ‘soilorganicmatter_parms’</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist.parms</code></td>
<td>
<p>parameter values for creating a profile. If a == 0 and b == 0 then <br>
a constant value of 1 is used. If a == 0 and b != 0, then an exponential decay is used. <br>
If a != 0 and b != 0 then the equation is <code>a*soil.layer*exp(-b*soil.layer)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>whether to check for reasonable values using <code>check_apsimx_soil_profile</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object of class ‘soil_profile’ or the ‘soil’ 
component within an object of class ‘soil_profile’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional plotting arguments (none use at the moment).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>property</code></td>
<td>
<p>“all” for plotting all soil properties, “water” for just SAT, DUL and LL15</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>particle.density</code></td>
<td>
<p>default value for soil particle density (2.65 g/cm3)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Soil Profiles
</p>
<p>Real soils might have discontinuities, but for APSIM it might be beneficial to be able to create 
a soil profile with an arbitrary number of layers and have flexibility in the 
distribution of soil physical and chemical properties. Steps:
</p>
<p>1. <code>apsimx_soil_profile</code> is a function which can create a soil matrix with many layers <br>
2. It allows for creating a smooth distribution for Physical (or Water), Chemical, InitialWater, Analysis, InitialN, Organic or SoilOrganicMatter <br>
3. The distribution can be specified with the ‘a’ and ‘c’ parameter of an exponential decay function, using a list. E.g. DUL = list(0.35, 0, -0.1).
This means that the top value for DUL will be 0.35 and it will decay with a rate of -0.1. <br>
4. If an increase and then a decay is needed the Ricker function can be used. See ‘SSricker’ in the ‘nlraa’ package. <br></p>
<p>The value of soil particle density (2.65 g/cm3) is hard coded in APSIM. 
https://en.wikipedia.org/wiki/Bulk_density
</p>


<h3>Value</h3>

<p>a soil profile with class ‘soil_profile’ with elements ‘soil’, ‘crops’, ‘metadata’,
‘soilwat’ and ‘swim’.
</p>
<p>it produces a plot
</p>
<p>It does not produce output unless potential issues are found. Only warnings
are produced and it returns an object of class ‘soil_profile’.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
 sp &lt;- apsimx_soil_profile()
 require(ggplot2)
 plot(sp)
 

</code></pre>


</div>