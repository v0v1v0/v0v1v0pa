<div class="container">

<table style="width: 100%;"><tr>
<td>plot_special_trx</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Additional plotting functions for transaction studies</h2>

<h3>Description</h3>

<p>These functions create additional experience study plots that are not
available or difficult to produce using the <code>autoplot.trx_df()</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_utilization_rates(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class <code>trx_df</code> created by the function
<code>trx_stats()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to <code>autoplot.trx_df()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>plot_utilization_rates()</code> - Create a plot of transaction frequency and
severity. Frequency is represented by utilization rates (<code>trx_util</code>).
Severity is represented by transaction amounts as a percentage of one or
more other columns in the data (<code style="white-space: pre;">⁠{*}_w_trx⁠</code>). All severity series begin with
the prefix "pct_of_" and end with the suffix "_w_trx". The suffix refers to
the fact that the denominator only includes records with non-zero
transactions. Severity series are based on column names passed to the
<code>percent_of</code> argument in <code>trx_stats()</code>. If no "percentage of" columns exist
in <code>object</code>, this function will only plot utilization rates.
</p>


<h3>Value</h3>

<p>a <code>ggplot</code> object
</p>


<h3>See Also</h3>

<p><code>autoplot.trx_df()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
study_py &lt;- expose_py(census_dat, "2019-12-31",
                      target_status = "Surrender") |&gt;
  add_transactions(withdrawals) |&gt;
  left_join(account_vals, by = c("pol_num", "pol_date_yr"))

trx_res &lt;- study_py |&gt; group_by(pol_yr) |&gt;
  trx_stats(percent_of = "av_anniv", combine_trx = TRUE)

plot_utilization_rates(trx_res)

</code></pre>


</div>