<div class="container">

<table style="width: 100%;"><tr>
<td>ari_stitch</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a video from images and audio</h2>

<h3>Description</h3>

<p>Given a vector of paths to images (preferably <code>.jpg</code>s
or <code>.png</code>s) and a flat list of <code>Wave</code>s of equal
length this function will create an <code>.mp4</code> video file where each image 
is shown with its corresponding audio. Take a look at the
<code>readWave</code> function if you want to import your audio 
files into R. Please be sure that all images have the same dimensions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ari_stitch(
  images,
  audio,
  output = tempfile(fileext = ".mp4"),
  verbose = FALSE,
  cleanup = TRUE,
  ffmpeg_opts = "",
  divisible_height = TRUE,
  audio_codec = get_audio_codec(),
  video_codec = get_video_codec(),
  video_sync_method = "2",
  audio_bitrate = NULL,
  video_bitrate = NULL,
  pixel_format = "yuv420p",
  fast_start = TRUE,
  deinterlace = TRUE,
  stereo_audio = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>images</code></td>
<td>
<p>A vector of paths to images.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>audio</code></td>
<td>
<p>A list of <code>Wave</code>s from tuneR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>A path to the video file which will be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>print diagnostic messages.  If &gt; 1, then more are printed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cleanup</code></td>
<td>
<p>If <code>TRUE</code>, interim files are deleted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ffmpeg_opts</code></td>
<td>
<p>additional options to send to <code>ffmpeg</code>.
This is an advanced option, use at your own risk</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>divisible_height</code></td>
<td>
<p>Make height divisible by 2, which may 
be required if getting "height not divisible by 2" error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>audio_codec</code></td>
<td>
<p>The audio encoder for the splicing.  If this
fails, try <code>copy</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>video_codec</code></td>
<td>
<p>The video encoder for the splicing.  If this
fails, see <code>ffmpeg -codecs</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>video_sync_method</code></td>
<td>
<p>Video sync method.  Should be 
"auto" or '"vfr"' or a numeric.  See <a href="https://ffmpeg.org/ffmpeg.html">https://ffmpeg.org/ffmpeg.html</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>audio_bitrate</code></td>
<td>
<p>Bit rate for audio. Passed to <code>-b:a</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>video_bitrate</code></td>
<td>
<p>Bit rate for video. Passed to <code>-b:v</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pixel_format</code></td>
<td>
<p>pixel format to encode for 'ffmpeg'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fast_start</code></td>
<td>
<p>Adding 'faststart' flags for YouTube and other sites,
see <a href="https://trac.ffmpeg.org/wiki/Encode/YouTube">https://trac.ffmpeg.org/wiki/Encode/YouTube</a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deinterlace</code></td>
<td>
<p>should the video be de-interlaced, 
see <a href="https://ffmpeg.org/ffmpeg-filters.html">https://ffmpeg.org/ffmpeg-filters.html</a>, generally for 
YouTube</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stereo_audio</code></td>
<td>
<p>should the audio be forced to stereo,
corresponds to '-ac 2'</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function uses <a href="https://ffmpeg.org/">FFmpeg</a>
which you should be sure is installed before using this function. If running
<code>Sys.which("ffmpeg")</code> in your R console returns an empty string after
installing FFmpeg then you should set the path to FFmpeg on you computer to
an environmental variable using <code>Sys.setenv(ffmpeg = "path/to/ffmpeg")</code>.
The environmental variable will always override the result of
<code>Sys.which("ffmpeg")</code>.
</p>


<h3>Value</h3>

<p>A logical value, with the attribute <code>outfile</code> for the
output file.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
if (ffmpeg_version_sufficient()) {
result = ari_stitch(
ari_example(c("mab1.png", "mab2.png")),
list(tuneR::noise(), tuneR::noise()))
} 

## End(Not run)
</code></pre>


</div>