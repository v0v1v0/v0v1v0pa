<div class="container">

<table style="width: 100%;"><tr>
<td>apollo_emdc2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extended MDC</h2>

<h3>Description</h3>

<p>Calculates the likelihood function of the extended MDC model. Can also predict and validate inputs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">apollo_emdc2(emdc_settings, functionality = "estimate")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>emdc_settings</code></td>
<td>
<p>List of settings for the model. It includes the following.
</p>

<ul>
<li> <p><strong><code>continuousChoice</code></strong>: Named list of numeric vectors. Amount consumed of each inside good. Outside good must not be included. Can also be called "X".
</p>
</li>
<li> <p><strong><code>avail</code></strong>: Named list of numeric vectors. Availability of each product. Can also be called "A".
</p>
</li>
<li> <p><strong><code>utilityOutside</code></strong>: Numeric vector (or matrix or array). Shadow price of the budget. Must be normalised to 0 for at least one individual. Default is 0 for every observation. Can also be called "V0".
</p>
</li>
<li> <p><strong><code>utilities</code></strong>: Named list of numeric vectors (or matrices or arrays). Base utility of each product. Can also be called "V".
</p>
</li>
<li> <p><strong><code>gamma</code></strong>: Named list of numeric vectors. Satiation parameter of each product.
</p>
</li>
<li> <p><strong><code>sigma</code></strong>: Numeric scalar. Scale parameter.
</p>
</li>
<li> <p><strong><code>delta</code></strong>: Lower triangular numeric matrix, or list of lists. Complementarity/substitution parameter.
</p>
</li>
<li> <p><strong><code>cost</code></strong>: Named list of numeric vectors. Price of each product.
</p>
</li>
<li> <p><strong><code>nRep</code></strong>: Scalar positive integer. Number of repetitions used when predictiong
</p>
</li>
<li> <p><strong><code>nIter</code></strong>: Vector of two positive integers. Number of maximum iterations used during prediction, for the upper and lower iterative levels.
</p>
</li>
<li> <p><strong><code>tolerance</code></strong>: Positive scalar Tolerance of the prediction algorithm.
</p>
</li>
<li> <p><strong><code>rawPrediction</code></strong>: Scalar logical. When functionality is equal to "prediction", it returns the full set of simulations. Defaults is FALSE.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>functionality</code></td>
<td>
<p>Character. Either "validate", "zero_LL", "estimate", "conditionals", "raw", "output" or "prediction"</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This model extends the traditional multiple discrete-continuous (MDC) framework by (i) dropping
the need to define a budget, (ii) making the marginal utility of the outside good deterministic, 
and (iii) including complementarity and substitution in the model formulation. See the following 
working paper for more details:
</p>
<p>Palma, D. &amp; Hess, S. (Working Paper) Some adaptations of Multiple Discrete-Continuous 
Extreme Value (MDCEV) models for a computationally tractable treatment of complementarity 
and substitution effects, and reduced influence of budget assumptions
</p>
<p>Avilable at: http://stephanehess.me.uk/publications.html
</p>


<h3>Value</h3>

<p>The returned object depends on the value of argument <code>functionality</code> as follows.
</p>

<ul>
<li> <p><strong><code>"estimate"</code></strong>: vector/matrix/array. Returns the probabilities for the chosen alternative for each observation.
</p>
</li>
<li> <p><strong><code>"prediction"</code></strong>: List of vectors/matrices/arrays. Returns a list with the probabilities for all alternatives, with an extra element for the probability of the chosen alternative.
</p>
</li>
<li> <p><strong><code>"validate"</code></strong>: Same as <code>"estimate"</code>, but it also runs a set of tests to validate the function inputs.
</p>
</li>
<li> <p><strong><code>"zero_LL"</code></strong>: vector/matrix/array. Returns the probability of the chosen alternative when all parameters are zero.
</p>
</li>
<li> <p><strong><code>"conditionals"</code></strong>: Same as <code>"estimate"</code>
</p>
</li>
<li> <p><strong><code>"output"</code></strong>: Same as <code>"estimate"</code> but also writes summary of input data to internal Apollo log.
</p>
</li>
<li> <p><strong><code>"raw"</code></strong>: Same as <code>"prediction"</code>
</p>
</li>
</ul>
</div>