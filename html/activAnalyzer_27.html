<div class="container">

<table style="width: 100%;"><tr>
<td>mark_wear_time</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mark dataset for nonwear/wear time</h2>

<h3>Description</h3>

<p>This function wraps the <code>dataCollapser</code> and the
<code>wearingMarking</code> functions from the <code>PhysicalActivity</code> package.
After collapsing data, the function adds <code>time</code> and
<code>date</code> columns. Then, the function analyzes the dataset for nonwear time detection. Finally, the function
adds two variables to the dataset: the variable <code>non_wearing_count</code>
that contains the number 1 when the device was <em>not</em> worn (otherwise, 0 is used),
and the variable <code>wearing_count</code> that contains the number 1 when the device
was worn (otherwise, 0 is used).
</p>


<h3>Usage</h3>

<pre><code class="language-R">mark_wear_time(
  dataset,
  TS = "TimeStamp",
  to_epoch = 60,
  cts = "vm",
  frame = 90,
  allowanceFrame = 2,
  streamFrame = 30
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>A dataframe obtained using the <code>prepare_dataset</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TS</code></td>
<td>
<p>A character value indicating the name of the variable where date and time information are provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to_epoch</code></td>
<td>
<p>A numeric value indicating the length of the epoch to use (in seconds) for accumulating data. The value must be superior or equal to the recording epoch that was used for the measurement.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cts</code></td>
<td>
<p>A character value indicating the name of the variable used by the nonwear/wear detection algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frame</code></td>
<td>
<p>A numeric value for the length of the time window (in minutes) used to detect nonwear/wear time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allowanceFrame</code></td>
<td>
<p>A numeric value for the length of the time window (in minutes) with nonzero counts allowed
within the detected nonwear period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>streamFrame</code></td>
<td>
<p>A numeric value for the length of the time window required around the detected activity
to validate nonwear time.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A dataframe.
</p>


<h3>Examples</h3>

<pre><code class="language-R">file &lt;- system.file("extdata", "acc.agd", package = "activAnalyzer")
mydata &lt;- prepare_dataset(data = file)
mydata_with_wear_marks &lt;- mark_wear_time(
    dataset = mydata, 
    TS = "TimeStamp", 
    to_epoch = 60,
    cts  = "vm",
    frame = 90, 
    allowanceFrame = 2, 
    streamFrame = 30
    )
head(mydata_with_wear_marks)

</code></pre>


</div>