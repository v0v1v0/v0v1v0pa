<div class="container">

<table style="width: 100%;"><tr>
<td>process_blackmarble</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Assign VIIRS Black Marble products corner coordinates to retrieve a merged raster</h2>

<h3>Description</h3>

<p>This function will return a <code>SpatRaster</code> object with
georeferenced h5 files of Black Marble product. Referencing corner coordinates
are necessary as the original h5 data do not include such information.
</p>


<h3>Usage</h3>

<pre><code class="language-R">process_blackmarble(
  path = NULL,
  date = NULL,
  tile_df = process_blackmarble_corners(),
  subdataset = 3L,
  crs = "EPSG:4326",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>character. Full paths of h5 files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date</code></td>
<td>
<p>character(1). Date to query.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tile_df</code></td>
<td>
<p>data.frame. Contains four corner coordinates in fields named
<code>c("xmin", "xmax", "ymin", "ymax")</code>.
See <code>process_blackmarble_corners</code> to generate a valid object for this argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subdataset</code></td>
<td>
<p>integer(1). Subdataset number to process.
Default is 3L.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crs</code></td>
<td>
<p>character(1). terra::crs compatible CRS.
Default is <code>"EPSG:4326"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>For internal use.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>SpatRaster</code> object
</p>


<h3>Author(s)</h3>

<p>Insang Song
</p>


<h3>References</h3>


<ul><li> <p><a href="https://ladsweb.modaps.eosdis.nasa.gov/api/v2/content/archives/Document%20Archive/Science%20Data%20Product%20Documentation/VIIRS_Black_Marble_UG_v1.3_Sep_2022.pdf">Wang, Z. (2022). Black Marble User Guide (Version 1.3). NASA.</a>
</p>
</li></ul>
<h3>See Also</h3>


<ul>
<li> <p><code>terra::describe</code>
</p>
</li>
<li> <p><code>terra::merge</code>
</p>
</li>
<li> <p><code>process_blackmarble_corners</code>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## NOTE: Example is wrapped in `\dontrun{}` as function requires a large
##       amount of data which is not included in the package.
## Not run: 
vnp46a2 &lt;- process_blackmarble(
  path =
    list.files("./data", pattern = "VNP46A2.", full.names = TRUE),
  date = "2024-01-01",
  tile_df =
    process_blackmarble_corners(hrange = c(8, 10), vrange = c(4, 5)),
  subdataset = 3L,
  crs = "EPSG:4326"
)

## End(Not run)
</code></pre>


</div>