<div class="container">

<table style="width: 100%;"><tr>
<td>expect_dfs_equal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Expectation: Are Two Datasets Equal?</h2>

<h3>Description</h3>

<p>Uses <code>diffdf::diffdf()</code> to compares 2 datasets for any differences. This function can be
thought of as an R-equivalent of SAS proc compare and a useful tool for unit testing as well.
</p>


<h3>Usage</h3>

<pre><code class="language-R">expect_dfs_equal(base, compare, keys, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>Input dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compare</code></td>
<td>
<p>Comparison dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keys</code></td>
<td>
<p><code>character</code> vector of variables that define a unique row in the
<code>base</code> and <code>compare</code> datasets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed onto <code>diffdf::diffdf()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An error if <code>base</code> and <code>compare</code> do not match or <code>NULL</code> invisibly if they do
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr, warn.conflicts = FALSE)

tbl1 &lt;- tribble(
  ~USUBJID, ~AGE, ~SEX,
  "1001", 18, "M",
  "1002", 19, "F",
  "1003", 20, "M",
  "1004", 18, "F"
)

tbl2 &lt;- tribble(
  ~USUBJID, ~AGE, ~SEX,
  "1001", 18, "M",
  "1002", 18.9, "F",
  "1003", 20, NA
)

try(expect_dfs_equal(tbl1, tbl2, keys = "USUBJID"))

tlb3 &lt;- tribble(
  ~USUBJID, ~AGE, ~SEX,
  "1004", 18, "F",
  "1003", 20, "M",
  "1002", 19, "F",
  "1001", 18, "M",
)

# Note the sorting order of the keys is not required
expect_dfs_equal(tbl1, tlb3, keys = "USUBJID")

</code></pre>


</div>