<div class="container">

<table style="width: 100%;"><tr>
<td>validate_moment</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Validate a moment function object</h2>

<h3>Description</h3>

<p>Routine for checking whether a given moment function object is valid.
</p>


<h3>Usage</h3>

<pre><code class="language-R">validate_moment(...)

## S3 method for class 'aghqmoment'
validate_moment(moment, checkpositive = FALSE, ...)

## S3 method for class 'list'
validate_moment(moment, checkpositive = FALSE, ...)

## S3 method for class ''function''
validate_moment(moment, checkpositive = FALSE, ...)

## S3 method for class 'character'
validate_moment(moment, checkpositive = FALSE, ...)

## Default S3 method:
validate_moment(moment, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Used to pass arguments to methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moment</code></td>
<td>
<p>An object to check if it is a valid moment function or not. Can be an object of class <code>aghqmoment</code> returned by <code>aghq::make_moment_function()</code>,
or any object that can be passed to <code>aghq::make_moment_function()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkpositive</code></td>
<td>
<p>Default <code>FALSE</code>, do not check that <code>gg$fn(theta) &gt; 0</code>. Otherwise,
a vector of values for which to perform that check. No default values are provided, since <code>validate_moment</code>
has no way of determining the domain and range of <code>gg$fn</code>. This argument is
used internally in <code>aghq</code> package functions, with cleverly chosen check values.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function checks that:
</p>

<ul>
<li>
<p>The supplied object contains elements <code>fn</code>, <code>gr</code>, and <code>he</code>, and that they are all functions,
</p>
</li>
<li>
<p>If <code>checkpositive</code> is a vector of numbers, then it checks that <code>gg$fn(checkpositive)</code> is not <code>-Inf</code>, <code>NA</code>, or <code>NaN</code>. (It actually uses <code>is.infinite</code> for the first.)
</p>
</li>
</ul>
<p>In addition, if a <code>list</code> is provided, the function first checks that it contains the right elements,
then passes it to <code>make_moment_function</code>, then checks that. If a <code>function</code> or a <code>character</code> is provided,
it checks that <code>match.fun</code> works, and returns any errors or warnings from doing so in a clear way.
</p>
<p>This function throws an informative error messages when checks don't pass or themselves throw errors.
</p>


<h3>Value</h3>

<p><code>TRUE</code> if the function runs to completion without throwing an error.
</p>


<h3>See Also</h3>

<p>Other moments: 
<code>make_moment_function()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
mom1 &lt;- make_moment_function(exp)
mom2 &lt;- make_moment_function('exp')
mom3 &lt;- make_moment_function(list(fn=function(x) x,gr=function(x) 1,he = function(x) 0))
validate_moment(mom1)
validate_moment(mom2)
validate_moment(mom3)
## Not run: 
mombad1 &lt;- list(exp,exp,exp) # No names
mombad2 &lt;- list('exp','exp','exp') # List of not functions
mombad3 &lt;- make_moment_function(function(x) -exp(x)) # Not positive
validate_moment(mombad1)
validate_moment(mombad2)
validate_moment(mombad3)

## End(Not run)
</code></pre>


</div>