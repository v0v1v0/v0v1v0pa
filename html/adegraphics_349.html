<div class="container">

<table style="width: 100%;"><tr>
<td>table.value</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Heat map-like representation with proportional symbols</h2>

<h3>Description</h3>

<p>This function represents a two dimensional table plot with proportional or colored squares or circles for each value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">table.value(dftab, coordsx = 1:ncol(as.matrix(dftab)), coordsy =
nrow(as.matrix(dftab)):1, labelsx, labelsy, breaks = NULL, method =
c("size", "color"), symbol = c("square", "circle", "diamond",
"uptriangle", "downtriangle"), col = NULL, nclass = 3, center = 0,
centerpar = NULL, plot = TRUE, storeData = TRUE, add = FALSE, pos = -1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dftab</code></td>
<td>
<p>a data frame, matrix, contingency table or distance matrix used to produce the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coordsx</code></td>
<td>
<p>an integer or a vector indicating the columns of <code>dftab</code> kept</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coordsy</code></td>
<td>
<p>an integer or a vector indicating the rows of <code>dftab</code> kept</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelsx</code></td>
<td>
<p>columns labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelsy</code></td>
<td>
<p>rows labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>a vector of values to split <code>dftab</code>. If <code>NULL</code>, <code>pretty(dftab, nclass)</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p><code>color</code> or <code>size</code> value for represent <code>z</code>.   
If <code>color</code>, a palette of color is used for the symbols (one color per interval).
If <code>size</code>, symbols of proportional area are used. Area is 0 for values
equals to center (default 0). Two colors are used, for values less than center and larger than center.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbol</code></td>
<td>
<p>value for symbol type</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>a color or a colors vector to color symbols.
If <code>method</code> is <code>size</code>, a 2-length vector of color is expected. 
If <code>method</code> is <code>color</code>, it must have as many colors as the number of class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nclass</code></td>
<td>
<p>an integer for the number of desired intervals, ignored if <code>breaks</code> is not missing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>a center value for method <code>size</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centerpar</code></td>
<td>
<p>a logical or a list to represent center value using elements in the 
<code>adegpar("ppoints")</code> list</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>a logical indicating if the graphics is displayed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>storeData</code></td>
<td>
<p>a logical indicating if the data should be stored in
the returned object. If <code>FALSE</code>, only the names of the data
arguments are stored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>a logical. If <code>TRUE</code>, the graphic is superposed to the graphics
already plotted in the current device</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos</code></td>
<td>
<p>an integer indicating the position of the
environment where the data are stored, relative to the environment
where the function is called. Useful only if <code>storeData</code> is
<code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional graphical parameters (see
<code>adegpar</code> and <code>trellis.par.get</code>)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>ADEg</code> (subclass <code>T.cont</code> if <code>dftab</code> is an <code>table</code> object, 
otherwise subclass <code>T.value</code>) or <code>ADEgS</code> (if <code>add</code> is <code>TRUE</code>).<br>
The result is displayed if <code>plot</code> is <code>TRUE</code>.
</p>


<h3>Note</h3>

<p>For the symbol size, if the method is <code>size</code>, we use perceptual scaling (Tanimura et al. 2006) .  
</p>


<h3>Author(s)</h3>

<p>Alice Julien-Laferriere, Aurelie Siberchicot <a href="mailto:aurelie.siberchicot@univ-lyon1.fr">aurelie.siberchicot@univ-lyon1.fr</a> and Stephane Dray
</p>


<h3>References</h3>

<p>Tanimura, S. and Kuroiwa, C. and Mizota, T. 2006 Proportional symbol
mapping in R <em>Journal of Statistical Software</em> <b>15</b>, 1â€“7 
</p>


<h3>See Also</h3>

<p><code>T.value</code>
<code>T.cont</code>
<code>ADEg.T</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## data.frame
data(olympic, package = "ade4")
w &lt;- olympic$tab
w &lt;- data.frame(scale(w))
wpca &lt;- ade4::dudi.pca(w, scann = FALSE)
g1 &lt;- table.value(w, ppoints.cex = 0.5, axis.line = list(col = "darkblue"), 
  axis.text = list(col = "darkgrey"))
  
# update the legend position
update(g1, key = list(space = "left"))
update(g1, key = list(columns = 1))

g2 &lt;- table.value(w, coordsy = rank(wpca$li[, 1]), ppoints.cex = 0.5, 
  axis.line = list(col = "darkblue"), axis.text = list(col = "darkgrey"))
g3 &lt;- table.value(w, coordsy = wpca$li[, 1], coordsx = wpca$co[, 1], ppoints.cex = 0.5, 
  axis.line = list(col = "darkblue"), axis.text = list(col = "darkgrey"))

## distance
data(eurodist)
g5 &lt;- table.value(eurodist, symbol = "circle", 
  ptable.margin = list(bottom = 5, top = 16, left = 5, right = 16))

## Not run: 
## table
data(rpjdl, package = "ade4")
w &lt;- data.frame(t(rpjdl$fau))
wcoa &lt;- ade4::dudi.coa(w, scann = FALSE)
g6 &lt;- table.value(as.table(as.matrix(w)), meanY = TRUE, coordsx = wcoa$c1[,1], 
  coordsy = rank(wcoa$l1[,1]), ppoints.cex = 0.2, labelsx = "", col = "black")

## End(Not run)
</code></pre>


</div>