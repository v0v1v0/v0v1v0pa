<div class="container">

<table style="width: 100%;"><tr>
<td>trawl_deriv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimating the derivative of the trawl function using the
empirical derivative</h2>

<h3>Description</h3>

<p>This function estimates the derivative of the trawl function using
the empirical derivative of the trawl function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">trawl_deriv(data, Delta, lag = 100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data set used to compute the derivative of the trawl function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Delta</code></td>
<td>
<p>The width Delta of the observation grid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>The lag until which the trawl function should be estimated</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>According to
Sauri and Veraart (2022), the derivative of the trawl function can
be estimated based on observations
<code class="reqn">X_0, X_{\Delta_n}, \ldots, X_{(n-1)\Delta_n}</code>  by
</p>
<p style="text-align: center;"><code class="reqn">\widehat a(t)=\frac{1}{\Delta_{n}}
(\hat a(t+\Delta_n)-\hat a(\Delta_n)),</code>
</p>

<p>for <code class="reqn">\Delta_nl\leq t &lt; (l+1)\Delta_n</code>.
</p>


<h3>Value</h3>

<p>The function returns the lag-dimensional vector
<code class="reqn">(\hat a'(0), \hat a'(\Delta), \ldots, \hat a'((lag-1) \Delta)).</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##Simulate a trawl process
##Determine the sampling grid
my_n &lt;- 1000
my_delta &lt;- 0.1
my_t &lt;- my_n*my_delta

###Choose the model parameter
#Exponential trawl function:
my_lambda &lt;- 2
#Poisson marginal distribution trawl
my_v &lt;- 1

#Set the seed
set.seed(123)
#Simulate the trawl process
Poi_data &lt;- sim_weighted_trawl(my_n, my_delta,
                               "Exp", my_lambda, "Poi", my_v)$path

#Estimate the trawl function
my_lag &lt;- 100+1
trawl &lt;- nonpar_trawlest(Poi_data, my_delta, lag=my_lag)$a_hat

#Estimate the derivative of the trawl function
trawl_deriv &lt;- trawl_deriv(Poi_data, my_delta, lag=100)
</code></pre>


</div>