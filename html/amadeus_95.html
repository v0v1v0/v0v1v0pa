<div class="container">

<table style="width: 100%;"><tr>
<td>process_modis_warp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Warp MODIS swath data into rectilinear grid raster</h2>

<h3>Description</h3>

<p>Swath data is a type of MODIS data,
where curvilinear points are stored with varying resolution depending on
the relative position of the sensor axis. As this type of data
typically does not work well with planar spatial data, users
should warp or rectify this data into a rectilinear raster.
Main procedure is done with <code>stars::st_warp</code>, in which users are able to
customize the threshold to fill potential gaps that appear where
the target resolution is finer than the local resolution of curvilinear
grid points.
</p>


<h3>Usage</h3>

<pre><code class="language-R">process_modis_warp(
  path = NULL,
  cellsize = 0.1,
  threshold = cellsize * 4,
  crs = 4326,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>File path of MODIS swath with exact sub-dataset specification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cellsize</code></td>
<td>
<p>numeric(1). Cell size (spatial resolution) of
output rectilinear grid raster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>numeric(1). Maximum distance to fill gaps if occur.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crs</code></td>
<td>
<p>integer(1)/character(1). Coordinate system definition.
Should be compatible with EPSG codes or WKT2.
See <code>terra::crs</code> and <code>sf::st_crs</code> / <a href="https://epsg.io/">EPSG</a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>For internal use.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>stars</code> object
</p>


<h3>Note</h3>

<p>This function handles one file at a time.
</p>


<h3>Author(s)</h3>

<p>Insang Song
</p>


<h3>See Also</h3>

<p><code>terra::rectify</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## NOTE: Example is wrapped in `\dontrun{}` as function requires a large
##       amount of data which is not included in the package.
## Not run: 
mod06l2_warp &lt;- process_modis_warp(
  path = paste0(
    "HDF4_EOS:EOS_SWATH:",
    list.files(
      "./data/mod06l2",
      full.names = TRUE,
      pattern = ".hdf"
    )[1],
    ":mod06:Cloud_Fraction"
  ),
  cellsize = 0.1,
  threshold = 0.4,
  crs = 4326
)

## End(Not run)
</code></pre>


</div>