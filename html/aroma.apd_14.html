<div class="container">

<table style="width: 100%;"><tr>
<td>readApd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reads an Affymetrix probe data (APD) file</h2>

<h3>Description</h3>

<p>Reads an Affymetrix probe data (APD) file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## Default S3 method:
readApd(filename, indices=NULL, readMap="byMapType", name=NULL, ..., verbose=FALSE,
  .checkArgs=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>The filename of the APD file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indices</code></td>
<td>
<p>An optional <code>numeric</code> <code>vector</code> of cell (probe) indices
specifying what cells to read.  If <code>NULL</code>, all are read.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>readMap</code></td>
<td>
<p>A <code>vector</code> remapping cell indices to file indices.
If <code>"byMapType"</code>, the read map of type according to APD header
will be search for and read.  It is much faster to specify the
read map explicitly compared with searching for it each time.
If <code>NULL</code>, no map is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>The name of the data field.
If <code>NULL</code>, the APD header <code>name</code> is used.  If not specified,
it defaults to <code>"intensities"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>See <code>Verbose</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.checkArgs</code></td>
<td>
<p>If <code>TRUE</code>, arguments are validated, otherwise not.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To read one <em>large</em> contiguous block of elements is faster than
to read individual elements one by one.  For this reason, internally
more elements than requested may be read and therefore allocation more
memory than necessary.  This means, in worst case <code class="reqn">N</code> elements
may read allocation <code class="reqn">N*8</code> bytes of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> memory, although only two
elements are queried.  However, to date even with the largest arrays
from Affymetrix this will still only require tens of megabytes of
<em>temporary</em> memory.  For instance, Affymetrix Mapping 100K arrays
holds 2,560,000 probes requiring 20Mb of temporary memory.
</p>


<h3>Value</h3>

<p>A named <code>list</code> with the two elements <code>header</code> and
<code>data</code>.  The header is in turn a <code>list</code> structure and
the second is a <code>numeric</code> <code>vector</code> holding the queried data.
</p>


<h3>Remapping indices</h3>

<p>Argument <code>readMap</code> can be used to remap indices.  For instance,
the indices of the probes can be reorder such that the probes within
a probeset is in a contiguous set of probe indices.  Then, given that
the values are stored in such an order, when reading complete probesets,
data will be access much faster from file than if the values were
scatter all over the file.
</p>
<p>Example of speed improvements.  Reading all 40000 values in units
1001 to 2000 of an Affymetrix Mapping 100K Xba chip is more than
10-30 times faster with mapping compared to without.
</p>


<h3>File format</h3>

<p>The file format of an APD file is identical to the file format of an
<code>FileVector</code>.
</p>


<h3>Author(s)</h3>

<p>Henrik Bengtsson</p>


<h3>See Also</h3>

<p><code>createApd</code>() and <code>updateApd</code>().
See also <code>readApdHeader</code>().
To create a cell-index read map from an CDF file, see
<code>readCdfUnitsWriteMap</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: #See ?createApd for an example.</code></pre>


</div>