<div class="container">

<table style="width: 100%;"><tr>
<td>verify</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Raises error if expression is FALSE anywhere</h2>

<h3>Description</h3>

<p>Meant for use in a data analysis pipeline, this function will
just return the data it's supplied if all the logicals in the
expression supplied are TRUE. If at least one is FALSE, this
function will raise a error, effectively terminating the pipeline
early
</p>


<h3>Usage</h3>

<pre><code class="language-R">verify(
  data,
  expr,
  success_fun = success_continue,
  error_fun = error_stop,
  skip_chain_opts = FALSE,
  obligatory = FALSE,
  defect_fun = defect_append,
  description = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame, list, or environment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>A logical expression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>success_fun</code></td>
<td>
<p>Function to call if assertion passes. Defaults to
returning <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_fun</code></td>
<td>
<p>Function to call if assertion fails. Defaults to printing
a summary of all errors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_chain_opts</code></td>
<td>
<p>If TRUE, <code>success_fun</code> and <code>error_fun</code>
are used even if assertion is called within a chain.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obligatory</code></td>
<td>
<p>If TRUE and assertion failed the data is marked as defective.
For defective data, all the following rules are handled by
<code>defect_fun</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>defect_fun</code></td>
<td>
<p>Function to call when data is defective. Defaults to skipping
assertion and storing info about it in special attribute.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>description</code></td>
<td>
<p>Custom description of the rule. Is stored in result
reports and data.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For examples of possible choices for the <code>success_fun</code> and
<code>error_fun</code> parameters, run <code>help("success_and_error_functions")</code>
</p>


<h3>Value</h3>

<p>By default, the <code>data</code> is returned if predicate assertion
is TRUE and and error is thrown if not. If a non-default
<code>success_fun</code> or <code>error_fun</code> is used, the return
values of these function will be returned.
</p>


<h3>Note</h3>

<p>See <code>vignette("assertr")</code> for how to use this in context
</p>


<h3>See Also</h3>

<p><code>assert</code> <code>insist</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
verify(mtcars, drat &gt; 2)     # returns mtcars
## Not run: 
verify(mtcars, drat &gt; 3)     # produces error
## End(Not run)


library(magrittr)            # for piping operator

## Not run: 
mtcars %&gt;%
  verify(drat &gt; 3) %&gt;%
  # anything here will not run
## End(Not run)

mtcars %&gt;%
  verify(nrow(mtcars) &gt; 2)
  # anything here will run

alist &lt;- list(a=c(1,2,3), b=c(4,5,6))
verify(alist, length(a) &gt; 2)
verify(alist, length(a) &gt; 2 &amp;&amp; length(b) &gt; 2)
verify(alist, a &gt; 0 &amp; b &gt; 2)

## Not run: 
alist %&gt;%
  verify(alist, length(a) &gt; 5)
  # nothing here will run
## End(Not run)


</code></pre>


</div>