<div class="container">

<table style="width: 100%;"><tr>
<td>APPEstimation-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
R function to calculate model performance measure adjusted for
predictor distributions. 
</h2>

<h3>Description</h3>

<p>This package provides the function to estimate model performance
measures (<code class="reqn">L_1</code>, <code class="reqn">L_2</code>, <code class="reqn">C</code>-statistics). The difference in
the distribution of predictors between two datasets (training and
validation) is adjusted by a density ratio estimate. 
</p>


<h3>Details</h3>


<table>
<tr>
<td style="text-align: left;">
Package: </td>
<td style="text-align: left;"> APPEstimation</td>
</tr>
<tr>
<td style="text-align: left;">
Type: </td>
<td style="text-align: left;"> Package</td>
</tr>
<tr>
<td style="text-align: left;">
Title: </td>
<td style="text-align: left;"> Adjusted Prediction Model Performance Estimation</td>
</tr>
<tr>
<td style="text-align: left;">
Version: </td>
<td style="text-align: left;"> 0.1.1</td>
</tr>
<tr>
<td style="text-align: left;">
Depends: </td>
<td style="text-align: left;"> densratio</td>
</tr>
<tr>
<td style="text-align: left;">
Date: </td>
<td style="text-align: left;"> 2018-1-4</td>
</tr>
<tr>
<td style="text-align: left;">
Author: </td>
<td style="text-align: left;"> Eisuke Inoue, Hajime Uno</td>
</tr>
<tr>
<td style="text-align: left;">
Maintainer: </td>
<td style="text-align: left;"> Eisuke Inoue &lt;eisuke.inoue@marianna-u.ac.jp&gt;</td>
</tr>
<tr>
<td style="text-align: left;">
Description: </td>
<td style="text-align: left;"> Calculating predictive model performance measures adjusted for predictor distributions using density ratio method (Sugiyama et al., (2012, ISBN:9781139035613)). L1 and L2 error for continuous outcome and C-statistics for binomial outcome are computed. </td>
</tr>
<tr>
<td style="text-align: left;">
License: </td>
<td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>Index of help topics:
</p>
<pre>
APPEstimation-package   R function to calculate model performance
                        measure adjusted for predictor distributions.
appe.glm                C-statistics adjusted for predictor
                        distributions
appe.lm                 L_1 and L_2 errors adjusted for predictor
                        distributions
cvalest.bin             Estimation of C-statistics
densratio.appe          A wrapper function
</pre>


<h3>Author(s)</h3>

<p>Eisuke Inoue, Hajime Uno
</p>
<p>Maintainer: Eisuke Inoue &lt;eisuke.inoue@marianna-u.ac.jp&gt;
</p>


<h3>References</h3>

<p>Sugiyama, M., Suzuki, T. &amp; Kanamori, T. Density Ratio Estimation in
Machine Learning. Cambridge University Press
2012. ISBN:9781139035613.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(100)

# generating learning data
n0  = 100
Z   = cbind(rbeta(n0, 5, 5), rbeta(n0, 5, 5))
Y   = apply(Z, 1, function (xx) {
        rbinom(1, 1, (1/(1+exp(-(sum(c(-2,2,2) * c(1,xx)))))))})
dat = data.frame(Y=Y, Za=Z[,1], Zb=Z[,2])

# the model to be evaluated
mdl = glm(Y~., binomial, data=dat)

# validation dataset, with different centers on predictors
n1   = 100
Z1   = cbind(rbeta(n1, 6, 4), rbeta(n1, 6, 4))
Y1   = apply(Z1, 1, function (xx) {
         rbinom(1, 1, (1/(1+exp(-(sum(c(-2,2,2) * c(1,xx)))))))})
dat1 = data.frame(Y=Y1, Za=Z1[,1], Zb=Z1[,2])

# calculation of L1 and L2 for this model
appe.glm(mdl, dat, dat1, reps=0)
</code></pre>


</div>