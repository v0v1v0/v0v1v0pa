<div class="container">

<table style="width: 100%;"><tr>
<td>saveHTML</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Insert animations into an HTML page</h2>

<h3>Description</h3>

<p>This function first records all the plots in the R expression as bitmap
images, then inserts them into an HTML page and finally creates the animation
using the SciAnimator library.
</p>


<h3>Usage</h3>

<pre><code class="language-R">saveHTML(
  expr,
  img.name = "Rplot",
  global.opts = "",
  single.opts = "",
  navigator = ani.options("nmax") &lt;= 100 &amp;&amp; ani.options("interval") &gt;= 0.05,
  htmlfile = "index.html",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>an R expression to be evaluated to create a sequence of images</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>img.name</code></td>
<td>
<p>the filename of the images (the real output will be like
‘<span class="file">img.name1.png</span>’, ‘<span class="file">img.name2.png</span>’, ...); this name has to be
different for different animations, since it will be used as the
identifiers for each animation; make it as unique as possible; meanwhile,
the following characters in <code>img.name</code> will be replaced by <code>_</code> to
make it a legal jQuery string:
</p>
<p><code style="white-space: pre;">⁠!"#$%&amp;'()*+,./:;?@[\]^`{|}~⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>global.opts</code></td>
<td>
<p>a string: the global options of the animation; e.g. we can
specify the default theme to be blue using
<code style="white-space: pre;">⁠$.fn.scianimator.defaults.theme = 'blue';⁠</code> note these options must be
legal JavaScript expressions (ended by <code>';'</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>single.opts</code></td>
<td>
<p>the options for each single animation (if there are
multiple ones in one HTML page), e.g. to use the dark theme and text labels
for buttons:
</p>
<p><code style="white-space: pre;">⁠'utf8': false, 'theme': 'dark'⁠</code>
</p>
<p>or to remove the navigator panel (the navigator can affect the smoothness
of the animation when the playing speed is extremely fast (e.g.
<code>interval</code> less than 0.05 seconds)):
</p>
<p><code style="white-space: pre;">⁠'controls': ['first', 'previous', 'play', 'next', 'last', 'loop',
  'speed']⁠</code>
</p>
<p>see the reference for a complete list of available options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>navigator</code></td>
<td>
<p>whether to show the navigator (like a progress bar); by
default, the navigator is not shown for performance reasons when the number
of images is greater than 100 or the time interval is smaller than 0.05</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>htmlfile</code></td>
<td>
<p>the filename of the HTML file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments to be passed to <code>ani.options</code> to
animation options such as the time interval between image frames</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It mainly uses the SciAnimator library, which is based on jQuery. It has a
neat interface (both technically and visually) and is much easier to use or
extend. Moreover, this function allows multiple animations in a single HTML
page – just use the same HTML filename.
</p>
<p>Optionally the source code and some session information can be added below
the animations for the sake of reproducibility (specified by the option
<code>ani.options('verbose')</code> – if <code>TRUE</code>, the description, loaded
packages, the code to produce the animation, as well as a part of
<code>sessionInfo()</code> will be written in the bottom of the animation;
the R code will be highlighted using the SyntaxHighlighter library for better
reading experience).
</p>


<h3>Value</h3>

<p>The path of the HTML output.
</p>


<h3>Note</h3>

<p>Microsoft IE might restrict the HTML page from running JavaScript and
try to “protect your security” when you view the animation page, but this
is not really a security problem.
</p>
<p>When you want to publish the HTML page on the web, you have  to upload the
associated ‘<span class="file">css</span>’ and ‘<span class="file">js</span>’ folders with the HTML file as well as
the images.
</p>
<p>For <code>saveHTML</code>, <code>ani.options('description')</code> can be a
character vector, in which case this vector will be pasted into a scalar;
use <code>'\n\n'</code> in the string to separate paragraphs (see the first
example below).
</p>
<p>For the users who do not have R at hand, there is a demo in
<code>system.file('misc', 'Rweb', 'demo.html', package = 'animation')</code> to
show how to create animations online without R being installed locally. It
depends, however, on whether the Rweb service can be provided for public
use in a long period (currently we are using the Rweb at Tama University).
See the last example below.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie
</p>


<h3>References</h3>

<p>Examples at <a href="https://yihui.org/animation/example/savehtml/">https://yihui.org/animation/example/savehtml/</a>
</p>
<p>scianimator official website <a href="https://github.com/brentertz/scianimator">https://github.com/brentertz/scianimator</a>
</p>


<h3>See Also</h3>

<p>Other utilities: 
<code>im.convert()</code>,
<code>saveGIF()</code>,
<code>saveLatex()</code>,
<code>saveSWF()</code>,
<code>saveVideo()</code>
</p>


</div>