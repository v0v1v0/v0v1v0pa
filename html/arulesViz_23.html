<div class="container">

<table style="width: 100%;"><tr>
<td>rules2groupedMatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert association rules into a matrix</h2>

<h3>Description</h3>

<p>Converts a set of association rules into a matrix with unique LHS itemsets
as columns and unique RHS itemsets as rows. The matrix cells contain a
quality measure. The LHS itemsets can be grouped.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rules2groupedMatrix(
  rules,
  measure = "lift",
  measure2 = "support",
  k = 10,
  aggr.fun = mean,
  lhs_label_items = 2
)

rules2matrix(rules, measure = "support", reorder = "measure", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rules</code></td>
<td>
<p>a rules object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure</code></td>
<td>
<p>quality measure put in the matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure2</code></td>
<td>
<p>second quality measure (organized in the same way as
measure).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>number of LHS itemset groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggr.fun</code></td>
<td>
<p>function to aggregate the quality measure for groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lhs_label_items</code></td>
<td>
<p>number of top items used to name LHS itemset groups
(columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reorder</code></td>
<td>
<p>reorder rows and columns? Possible methods are: "none",
"measure" (default), "support/confidence", "similarity".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed on to <code>arules::DATAFRAME()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>rules2matrix</code> returns a matrix with quality values.
</p>
<p><code>rules2groupedMatrix</code> returns a list with elements
</p>
<table>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p> the
grouped matrix for measure. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m2</code></td>
<td>
<p> the grouped matrix for measure2. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clustering_rules</code></td>
<td>
<p> vector with group assignment for each rule. </p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Michael Hahsler
</p>


<h3>References</h3>

<p>Michael Hahsler and Radoslaw Karpienko. Visualizing association
rules in hierarchical groups. Journal of Business Economics, 87(3):317â€“335,
May 2016. <a href="https://doi.org/10.1007/s11573-016-0822-8">doi:10.1007/s11573-016-0822-8</a>.
</p>


<h3>See Also</h3>

<p><code>plot()</code> for rules using <code>method = 'matrix'</code> and
<code>method = 'grouped matrix'</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(Groceries)
rules &lt;- apriori(Groceries, parameter = list(support = 0.001, confidence = 0.8))
rules

## Matrix
m &lt;- rules2matrix(rules[1:10], measure = "lift")
m
plot(rules[1:10], method = "matrix")

## Grouped matrix
# create a matrix with LHSs grouped in k = 10 groups
gm &lt;- rules2groupedMatrix(rules, k = 10)
gm$m

# number of rules per group
table(gm$clustering_rules)

# get rules for group 1
inspect(rules[gm$clustering_rules == 1])

# create the corresponding grouped matrix plot by passing the grouped matrix as the groups parameter
plot(rules, method = "grouped matrix", groups = gm)

</code></pre>


</div>