<div class="container">

<table style="width: 100%;"><tr>
<td>create_arena</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates arena object</h2>

<h3>Description</h3>

<p>Creates object with class <code>arena_live</code> or <code>arena_static</code> depending on the first argument.
This method is always first in <code>arenar</code> workflow and you should specify all plots' parameters there.
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_arena(
  live = FALSE,
  N = 500,
  fi_N = NULL,
  fi_B = 10,
  grid_points = 101,
  shap_B = 10,
  funnel_nbins = 5,
  funnel_cutoff = 0.01,
  funnel_factor_threshold = 7,
  fairness_cutoffs = seq(0.05, 0.95, 0.05),
  max_points_number = 150,
  distribution_bins = seq(5, 40, 5),
  enable_attributes = TRUE,
  enable_custom_params = TRUE,
  cl = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>live</code></td>
<td>
<p>Defines if arena should start live server or generate static json</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>number of observations used to calculate dependence profiles</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fi_N</code></td>
<td>
<p>number of observations used in feature importance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fi_B</code></td>
<td>
<p>Number of permutation rounds to perform each variable
in feature importance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid_points</code></td>
<td>
<p>number of points for profile</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shap_B</code></td>
<td>
<p>Numer of random paths in SHAP</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>funnel_nbins</code></td>
<td>
<p>Number of partitions for numeric columns for funnel plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>funnel_cutoff</code></td>
<td>
<p>Threshold for categorical data. Entries less frequent than specified value will be merged into one category in funnel plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>funnel_factor_threshold</code></td>
<td>
<p>Numeric columns with lower number of unique values than value of this parameter will be treated as factors in funnel plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fairness_cutoffs</code></td>
<td>
<p>vector of available cutoff levels for fairness panel</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_points_number</code></td>
<td>
<p>maximum size of sample to plot scatter plots in variable against another panel</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distribution_bins</code></td>
<td>
<p>vector of available bins count for histogram</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enable_attributes</code></td>
<td>
<p>Switch for generating attributes of observations and variables. It is required for custom params. Attributes can increase size of static Arena.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enable_custom_params</code></td>
<td>
<p>Switch to allowing user to modify observations and generate plots for them.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl</code></td>
<td>
<p>Cluster used to run parallel computations (Do not work in live Arena)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Empty <code>arena_static</code> or <code>arena_live</code> class object.<br><code>arena_static</code>:
</p>

<ul>
<li>
<p>explainer List of used explainers
</p>
</li>
<li>
<p>observations_batches List of data frames added as observations
</p>
</li>
<li>
<p>params Plots' parameters
</p>
</li>
<li>
<p>plots_data List of generated data for plots
</p>
</li>
</ul>
<p><code>arena_live</code>:
</p>

<ul>
<li>
<p>explainer List of used explainers
</p>
</li>
<li>
<p>observations_batches List of data frames added as observations
</p>
</li>
<li>
<p>params Plots' parameters
</p>
</li>
<li>
<p>timestamp Timestamp of last modification
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">library("DALEX")
library("arenar")
library("dplyr", quietly=TRUE, warn.conflicts = FALSE)
# create a model
model &lt;- glm(m2.price ~ ., data=apartments)
# create a DALEX explainer
explainer &lt;- DALEX::explain(model, data=apartments, y=apartments$m2.price)
# prepare observations to be explained
observations &lt;- apartments[1:3, ]
# rownames are used as labels for each observation
rownames(observations) &lt;- paste0(observations$construction.year, "-", observations$surface, "m2")
# generate static arena for one model and 3 observations
arena &lt;- create_arena(live=FALSE) %&gt;% push_model(explainer) %&gt;% push_observations(observations)
print(arena)
if (interactive()) upload_arena(arena)
</code></pre>


</div>