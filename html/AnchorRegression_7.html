<div class="container">

<table style="width: 100%;"><tr>
<td>weighted_anchor_regression</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>weighted_anchor_regression</h2>

<h3>Description</h3>

<p>Estimates weighted Anchor Regression coefficients
</p>


<h3>Usage</h3>

<pre><code class="language-R">weighted_anchor_regression(
  data_x_list,
  data_anchor_list,
  gamma,
  target_variable,
  anchor_model_pre = NULL,
  test_split = 0.4,
  lambda = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_x_list</code></td>
<td>
<p>list containing coefficient dataframes for different environments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_anchor_list</code></td>
<td>
<p>list containing anchor dataframes for different environments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>is the regularization parameter for the Anchor Regression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target_variable</code></td>
<td>
<p>is the target variable name contained in the x dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anchor_model_pre</code></td>
<td>
<p>is the pre estimated model for the Anchor Regression. In case of NULL a new model is estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test_split</code></td>
<td>
<p>is desired test/train split for the estimation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>penalization coefficient for Anchor Shrinkage. Initially set to 0.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list estimated coefficients with names, weights and the raw coefficient matrix
</p>


<h3>Examples</h3>

<pre><code class="language-R">   environments &lt;- 10 # number of observed environments

   # populate list with generated data of x and anchor
   data_x_list &lt;- c()
   data_anchor_list &lt;- c()
   for(e in 1:environments){
     x &lt;- as.data.frame(matrix(data = rnorm(100),nrow = 100,ncol = 10))
     anchor &lt;- as.data.frame(matrix(data = rnorm(200),nrow = 100,ncol = 2))
     colnames(anchor) &lt;- c('X1','X2')
     data_x_list[[e]] &lt;- x
     data_anchor_list[[e]]  &lt;- anchor
   }

   # estimate model
   gamma &lt;- 2
   target_variable &lt;- 'V2'
   weighted_anchor_regression(data_x_list,
                              data_anchor_list,
                              gamma,
                              target_variable,
                              anchor_model_pre=NULL,
                              test_split=0.4,
                              lambda=0)
</code></pre>


</div>