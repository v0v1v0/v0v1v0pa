<div class="container">

<table style="width: 100%;"><tr>
<td>hasDarkColors</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find horizons with colors darker than a Munsell hue, value, chroma threshold</h2>

<h3>Description</h3>

<p><code>hasDarkColors</code> returns a boolean value by horizon representing whether darkness thresholds are met. The code is fully vectorized and deals with missing data and optional thresholds.
</p>
<p>Default arguments are set up for "5-3-3 colors" â€“ the basic criteria for Mollic/Umbric epipedon/mineral soil darkness. Any of the thresholds or column names can be altered. Any thresholds that are set equal to <code>NA</code> will be ignored.
</p>


<h3>Usage</h3>

<pre><code class="language-R">hasDarkColors(
  p,
  d_hue = NA,
  m_hue = NA,
  d_value = 5,
  d_chroma = NA,
  m_value = 3,
  m_chroma = 3,
  dhuenm = "d_hue",
  dvalnm = "d_value",
  dchrnm = "d_chroma",
  mhuenm = "m_hue",
  mvalnm = "m_value",
  mchrnm = "m_chroma"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>A SoilProfileCollection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d_hue</code></td>
<td>
<p>Optional: character vector of dry hues to match (default: NA)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m_hue</code></td>
<td>
<p>Optional: character vector of moist hues to match (default: NA)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d_value</code></td>
<td>
<p>Maximum value of dry value (default: 5)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d_chroma</code></td>
<td>
<p>Optional: Maximum value of dry chroma (default: NA)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m_value</code></td>
<td>
<p>Maximum value of moist value (default: 3)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m_chroma</code></td>
<td>
<p>Maximum value of moist chroma (default: 3)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dhuenm</code></td>
<td>
<p>Column name containing dry hue.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dvalnm</code></td>
<td>
<p>Column name containing dry value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dchrnm</code></td>
<td>
<p>Column name containing dry chroma.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mhuenm</code></td>
<td>
<p>Column name containing moist hue.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mvalnm</code></td>
<td>
<p>Column name containing moist value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mchrnm</code></td>
<td>
<p>Column name containing moist chroma.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Boolean value (for each horizon in <code>p</code>) reflecting whether "darkness" criteria are met.
</p>


<h3>Author(s)</h3>

<p>Andrew G. Brown
</p>


<h3>Examples</h3>

<pre><code class="language-R"># construct a fake profile
spc &lt;- data.frame(id=1, taxsubgrp = "Lithic Haploxeralfs",
                  hzdesgn  = c("A","AB","Bt","BCt","R"),
                  hzdept   = c(0, 20, 32, 42,  49),
                  hzdepb   = c(20, 32, 42, 49, 200),
                  d_value  = c(5,   5,  5,  6,  NA),
                  m_value  = c(2.5, 3,  3,  4,  NA),
                  m_chroma = c(2,   3,  4,  4,  NA))

# promote to SoilProfileCollection
depths(spc) &lt;- id ~ hzdept + hzdepb

# print results in table
data.frame(id = spc[[idname(spc)]],
           hz_desgn = spc$hzdesgn,
           has_dark_colors = hasDarkColors(spc))

</code></pre>


</div>