<div class="container">

<table style="width: 100%;"><tr>
<td>CreateInputsModel.GRiwrm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creation of an InputsModel object for a <strong>airGRiwrm</strong> network</h2>

<h3>Description</h3>

<p>Creation of an InputsModel object for a <strong>airGRiwrm</strong> network
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'GRiwrm'
CreateInputsModel(
  x,
  DatesR,
  Precip = NULL,
  PotEvap = NULL,
  Qinf = NULL,
  Qobs = NULL,
  Qmin = NULL,
  Qrelease = NULL,
  PrecipScale = TRUE,
  TempMean = NULL,
  TempMin = NULL,
  TempMax = NULL,
  ZInputs = NULL,
  HypsoData = NULL,
  NLayers = 5,
  IsHyst = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>[GRiwrm object] diagram of the semi-distributed model (See CreateGRiwrm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DatesR</code></td>
<td>
<p>POSIXt vector of dates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Precip</code></td>
<td>
<p>(optional) matrix or data.frame of numeric containing
precipitation in [mm per time step]. Column names correspond to node IDs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PotEvap</code></td>
<td>
<p>(optional) matrix or data.frame of numeric containing
potential evaporation [mm per time step]. Column names correspond to node IDs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Qinf</code></td>
<td>
<p>(optional) matrix or data.frame of numeric containing
observed flows. It must be provided only for nodes of type "Direct
injection" and "Diversion". See CreateGRiwrm for
details about these node types. Unit is [mm per time step] for nodes
with an area, and [m3 per time step] for nodes with <code>area=NA</code>.
Column names correspond to node IDs. Negative flows are abstracted from
the model and positive flows are injected to the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Qobs</code></td>
<td>
<p>(deprecated) use <code>Qinf</code> instead</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Qmin</code></td>
<td>
<p>(optional) matrix or data.frame of numeric containing
minimum flows to let downstream of a node with a Diversion [m3 per
time step]. Default is zero. Column names correspond to node IDs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Qrelease</code></td>
<td>
<p>(optional) matrix or data.frame of numeric containing
release flows by nodes using the model <code>RunModel_Reservoir</code> [m3 per
time step]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PrecipScale</code></td>
<td>
<p>(optional) named vector of logical indicating if the
mean of the precipitation interpolated on the elevation layers must be
kept or not, required to create CemaNeige module inputs, default <code>TRUE</code>
(the mean of the precipitation is kept to the original value)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TempMean</code></td>
<td>
<p>(optional) matrix or data.frame of time series of mean
air temperature [°C], required to create the CemaNeige module inputs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TempMin</code></td>
<td>
<p>(optional) matrix or data.frame of time series of minimum
air temperature [°C], possibly used to create the CemaNeige module inputs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TempMax</code></td>
<td>
<p>(optional) matrix or data.frame of time series of maximum
air temperature [°C], possibly used to create the CemaNeige module inputs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ZInputs</code></td>
<td>
<p>(optional) named vector of numeric giving the mean
elevation of the Precip and Temp series (before extrapolation) [m],
possibly used to create the CemaNeige module input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HypsoData</code></td>
<td>
<p>(optional) matrix or data.frame containing 101 numeric
rows: min, q01 to q99 and max of catchment elevation distribution [m],
if not defined a single elevation is used for CemaNeige</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NLayers</code></td>
<td>
<p>(optional) named vector of numeric integer giving the number
of elevation layers requested -, required to create CemaNeige module
inputs, default=5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IsHyst</code></td>
<td>
<p>logical boolean indicating if the hysteresis version of
CemaNeige is used. See details of airGR::CreateRunOptions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>used for compatibility with S3 methods</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Meteorological data are needed for the nodes of the network that
represent a catchment simulated by a rainfall-runoff model. Instead of
airGR::CreateInputsModel that has numeric vector as time series inputs,
this function uses matrix or data.frame with the id of the sub-catchment
as column names. For single values (<code>ZInputs</code> or <code>NLayers</code>), the function
requires named vector with the id of the sub-catchment as name item. If an
argument is optional, only the column or the named item has to be provided.
</p>
<p>See airGR::CreateInputsModel documentation for details concerning each input.
</p>
<p>Number of rows of <code>Precip</code>, <code>PotEvap</code>, <code>Qinf</code>, <code>Qmin</code>, <code>TempMean</code>, <code>TempMin</code>,
<code>TempMax</code> must be the same of the length of <code>DatesR</code> (each row corresponds to
a time step defined in <code>DatesR</code>).
</p>
<p>For examples of use see topics RunModel.GRiwrmInputsModel, RunModel_Reservoir,
and RunModel.Supervisor.
</p>
<p>For example of use of Direct Injection nodes, see vignettes
"V03_Open-loop_influenced_flow" and "V04_Closed-loop_regulated_withdrawal".
</p>
<p>For example of use of Diversion nodes, see example in
RunModel.GRiwrmInputsModel topic and vignette
"V06_Modelling_regulated_diversion".
</p>


<h3>Value</h3>

<p>A <em>GRiwrmInputsModel</em> object which is a list of <em>InputsModel</em>
objects created by airGR::CreateInputsModel with one item per modeled sub-catchment.
</p>


<h3>See Also</h3>

<p><code>CreateGRiwrm()</code>, <code>CreateRunOptions()</code>, <code>RunModel.GRiwrmInputsModel()</code>
</p>


</div>