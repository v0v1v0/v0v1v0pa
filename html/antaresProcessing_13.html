<div class="container">

<table style="width: 100%;"><tr>
<td>modulation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the modulation of cluster units</h2>

<h3>Description</h3>

<p>This function computes the modulation of cluster units or of sectors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">modulation(
  x,
  timeStep = "annual",
  synthesis = FALSE,
  by = c("cluster", "sector"),
  clusterDesc = NULL,
  opts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An <code>antaresData</code> object created with <code>readAntares</code>. It must
contain the hourly detailed results for clusters if <code>by = "cluster"</code>
or for areas and/or districts if <code>by = "sector"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeStep</code></td>
<td>
<p>Desired time step for the result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>synthesis</code></td>
<td>
<p>If TRUE, average surpluses are returned. Else the function returns surpluses
per Monte-Carlo scenario.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>Should modulations computed by cluster or by sector? Possible values are
"sector" and "cluster".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusterDesc</code></td>
<td>
<p>A table created with the function <code>readClusterDesc</code>.
If is this parameter is set to <code>NULL</code> (the default), then the function
attempts to read the needed data in the same study as <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opts</code></td>
<td>
<p>opts where clusterDesc will be read if null based on data</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.table of class <code>antaresDataTable</code> or a list of such tables with
the following columns:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>

<p>Area name. If <code>byDistrict=TRUE</code>, this column is replaced by column
<code>district</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>

<p>Cluster name. If <code>by="sector"</code>, this column is replaced by column
<code>sector</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeId</code></td>
<td>

<p>Time id and other time columns.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upwardModulation</code></td>
<td>

<p>Maximal absolute modulation of a cluster unit or of the sector, if <code>timeStep</code> is hourly.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>downwardModulation</code></td>
<td>

<p>Maximal absolute modulation of a cluster unit or of the sector, if <code>timeStep</code> is hourly.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>absoluteModulation</code></td>
<td>

<p>Maximal absolute modulation of a cluster unit or of the sector, if <code>timeStep</code> is hourly.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avg_upwardModulation</code></td>
<td>

<p>Average upward modulation of a cluster unit or of the sector, if <code>timeStep</code> is not hourly.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avg_downwardModulation</code></td>
<td>

<p>Average downward modulation of a cluster unit or of the sector, if <code>timeStep</code> is not hourly.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avg_absoluteModulation</code></td>
<td>

<p>Average absolute modulation of a cluster unit or of the sector, if <code>timeStep</code> is not hourly.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_upwardModulation</code></td>
<td>

<p>Maximal upward modulation of a cluster unit or of the sector, if <code>timeStep</code> is not hourly.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_downwardModulation</code></td>
<td>

<p>Maximal downward modulation of a cluster unit or of the sector, if <code>timeStep</code> is not hourly.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_absoluteModulation</code></td>
<td>

<p>Maximal absolute modulation of a cluster unit or of the sector, if <code>timeStep</code> is not hourly.
</p>
</td>
</tr>
</table>
<p>Notice that if <code>by="cluster"</code>, the function computes the modulation per
unit, i.e. the modulation of a cluster divided by the number of units of the
cluster. On the opposite, if <code>by="sector"</code>, the function returns the
modulation of the global production of the sector. Moreover, if parameter
<code>x</code> contains area and district data, the function returns a list with
components <code>areas</code> and  <code>districts</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# data required by the function
showAliases("modulation")

mydata &lt;- readAntares(select="modulation")

# Modulation of cluster units
modulation(mydata)

# Aggregate Monte-Carlo scenarios
modulation(mydata, synthesis = TRUE)

# Modulation of sectors
modulation(mydata, by = "sector")

# Modulation of sectors per district
modulation(mydata, by = "sector")

## End(Not run)

</code></pre>


</div>