<div class="container">

<table style="width: 100%;"><tr>
<td>encrypt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform encryption/decryption</h2>

<h3>Description</h3>

<p>Encrypt plain text into ciphertext, or the reverse
</p>


<h3>Usage</h3>

<pre><code class="language-R">encrypt(text, key, encode = TRUE, ...)

decrypt(text, key, encode = TRUE, ...)

reencrypt(text, key, encode = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>For <code>encrypt</code>, a character string specifying up to 4 kilobytes of data to be encrypted using the specified key. For <code>decrypt</code>, ciphertext of maximum 6144 bytes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>A character string specifying a key ID, Amazon Resource Name (ARN), alias name, or alias ARN. When using an alias name, prefix it with “alias/”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encode</code></td>
<td>
<p>A logical specifying whether to base 64 encode <code>text</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to <code>kmsHTTP</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>encrypt</code> encrypts source text using a KMS key. <code>decrypt</code> reverses this process using the same key. <code>reencrypt</code> reencrypts an (encrypted) ciphertext using a new key. The purpose of these functions, according to AWS, to is encrypt and decrypt data keys (of the source created with <code>generate_data_key</code>) rather than general purpose encryption given the relatively low upper limit on the size of <code>text</code>.
</p>


<h3>Value</h3>

<p><code>encrypt</code> returns a base64-encoded binary object as a character string.
</p>


<h3>See Also</h3>

<p><code>create_kms_key</code>, <code>generate_data_key</code>, <code>generate_blob</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  # create a key
  k &lt;- create_kms_key()
  
  # encrypt
  tmp &lt;- tempfile()
  cat("example test", file = tmp)
  (etext &lt;- encrypt(tmp, k))
  
  # decrypt
  (dtext &lt;- decrypt(etext, k, encode = FALSE))
  if (require("base64enc")) {
    rawToChar(base64enc::base64decode(dtext))
  }
  
  # cleanup
  delete_kms_key(k)

## End(Not run)
</code></pre>


</div>