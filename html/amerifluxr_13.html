<div class="container">

<table style="width: 100%;"><tr>
<td>amf_plot_datayear</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot data availability</h2>

<h3>Description</h3>

<p>This function visualizes the BASE data availability for
selected AmeriFlux sites, variables, and years. This is a wrapper around
<code>amf_list_data</code>. However, it is strongly advised to subset
the sites, variables, and/or years for faster processing and better
visualization.
</p>


<h3>Usage</h3>

<pre><code class="language-R">amf_plot_datayear(
  data_aval = NULL,
  site_set = NULL,
  var_set = NULL,
  nonfilled_only = TRUE,
  year_set = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_aval</code></td>
<td>
<p>A data frame with at least five columns:
</p>

<ul>
<li>
<p> SITE_ID:
</p>
</li>
<li>
<p> VARIABLE:
</p>
</li>
<li>
<p> BASENAME: variable basename
</p>
</li>
<li>
<p> GAP_FILLED
</p>
</li>
<li>
<p> Y1990: Percentage of data availability in the year 1990 (0-1).
</p>
</li>
<li>
<p> ...
</p>
</li>
</ul>
<p>If not specified, use <code>amf_list_data</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>site_set</code></td>
<td>
<p>A scalar or vector of character specifying the target
AmeriFlux Site ID (CC-Sss). If not specified, it returns all sites.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_set</code></td>
<td>
<p>A scalar or vector of character specifying the target
variables as in basename. See AmeriFlux
page<a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/#base">https://ameriflux.lbl.gov/data/aboutdata/data-variables/#base</a>
for a list of variable names. If not specified, it returns all variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nonfilled_only</code></td>
<td>
<p>Logical, whether only showing non-filled variables,
or both non- and gap-filled variables. The default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year_set</code></td>
<td>
<p>A scalar or vector of integers. If not specified,
it plots only years with any available data in selected sites and variables</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class 'plotly' from <code>heatmaply</code>
</p>


<h3>See Also</h3>

<p><code>amf_list_data</code>, <code>heatmaply</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# plot data availability for all variables at a single site
#  in all years
amf_plot_datayear(site_set = "US-CRT",
                  nonfilled_only = FALSE)

# plot data availability for non-filled FCH4 and WTD at all
#  sites in all years
amf_plot_datayear(var_set = c("FCH4", "WTD"),
                  nonfilled_only = TRUE)

# plot data availability for non-filled FCH4 at all sites
#  in 2018-2020
amf_plot_datayear(var_set = "FCH4",
                  year_set = c(2018:2020),
                  nonfilled_only = TRUE)

## End(Not run)
</code></pre>


</div>