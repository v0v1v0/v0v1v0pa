<div class="container">

<table style="width: 100%;"><tr>
<td>apollo_modifyUserDefFunc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Checks and modifies Apollo user-defined functions</h2>

<h3>Description</h3>

<p>Checks and enhances user defined functions apollo_probabilities, apollo_randCoeff and apollo_lcPars.
</p>


<h3>Usage</h3>

<pre><code class="language-R">apollo_modifyUserDefFunc(
  apollo_beta,
  apollo_fixed,
  apollo_probabilities,
  apollo_inputs,
  validate = TRUE,
  noModification = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>apollo_beta</code></td>
<td>
<p>Named numeric vector. Names and values for parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apollo_fixed</code></td>
<td>
<p>Character vector. Names of parameters inside apollo_beta
whose values should be kept constant throughout estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apollo_probabilities</code></td>
<td>
<p>Function. Returns probabilities of the model to 
be estimated. Must receive three arguments:
</p>

<ul>
<li> <p><strong><code>apollo_beta</code></strong>: Named numeric vector. 
Names and values of 
model parameters.
</p>
</li>
<li> <p><strong><code>apollo_inputs</code></strong>: List containing 
options of the model. 
See apollo_validateInputs.
</p>
</li>
<li> <p><strong><code>functionality</code></strong>: Character. Can be 
either <code>"components"</code>, 
<code>"conditionals"</code>, 
<code>"estimate"</code> (default), 
<code>"gradient"</code>, 
<code>"output"</code>, 
<code>"prediction"</code>, 
<code>"preprocess"</code>, 
<code>"raw"</code>, <code>"report"</code>, 
<code>"shares_LL"</code>, 
<code>"validate"</code> or 
<code>"zero_LL"</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apollo_inputs</code></td>
<td>
<p>List grouping most common inputs. Created by function 
apollo_validateInputs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>validate</code></td>
<td>
<p>Logical. If TRUE, the original and modified 
<code>apollo_probabilities</code> functions are estimated. If their 
results do not match, then the original functions are 
returned, and <code>success</code> is set to <code>FALSE</code> inside 
the returned list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noModification</code></td>
<td>
<p>Logical. If TRUE, loop expansion etc are skipped.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Internal use only. Called by <code>apollo_estimate</code> before estimation.
Checks include: no re-definition of variables, no (direct) calls to database, 
calling of apollo_weighting if weights are defined.
</p>


<h3>Value</h3>

<p>List with four elements: apollo_probabilities, apollo_randCoeff, 
apollo_lcPars and a dummy called success (TRUE if modification was
successful, FALSE if not. FALSE will be only be returnes if
the modifications are validated).
</p>


</div>