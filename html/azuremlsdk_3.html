<div class="container">

<table style="width: 100%;"><tr>
<td>attach_aks_compute</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Attach an existing AKS cluster to a workspace</h2>

<h3>Description</h3>

<p>If you already have an AKS cluster in your Azure subscription, and it is
version 1.12.##, you can attach it to your workspace to use for deployments.
The existing AKS cluster can be in a different Azure region than your
workspace.
</p>
<p>If you want to secure your AKS cluster using an Azure Virtual Network, you
must create the virtual network first. For more information, see
<a href="https://docs.microsoft.com/en-us/azure/machine-learning/service/how-to-enable-virtual-network#aksvnet">Secure Azure ML experimentation and inference jobs within an Azure Virtual Network</a>
</p>
<p>If you want to re-attach an AKS cluster, for example to to change SSL or other
cluster configuration settings, you must first remove the existing attachment
with <code>detach_aks_compute()</code>.
</p>
<p>Attaching a cluster will take approximately 5 minutes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">attach_aks_compute(
  workspace,
  resource_group,
  cluster_name,
  cluster_purpose = c("FastProd", "DevTest")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>workspace</code></td>
<td>
<p>The <code>Workspace</code> object to attach the AKS cluster to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resource_group</code></td>
<td>
<p>A string of the resource group in which the AKS cluster
is located.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_name</code></td>
<td>
<p>A string of the name of the AKS cluster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_purpose</code></td>
<td>
<p>The targeted usage of the cluster. The possible values are
"DevTest" or "FastProd". This is used to provision Azure Machine Learning components
to ensure the desired level of fault-tolerance and QoS. If your cluster has less
than 12 virtual CPUs, you will need to specify "DevTest" for this argument. We
recommend that your cluster have at least 2 virtual CPUs for dev/test usage.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The <code>AksCompute</code> object.
</p>


<h3>Examples</h3>

<div class="r"><pre>ws &lt;- load_workspace_from_config()
compute_target &lt;- attach_aks_compute(ws,
                                     resource_group = 'myresourcegroup',
                                     cluster_name = 'myakscluster')
</pre></div>
<p>If the cluster has less than 12 virtual CPUs, you will need to also specify the
<code>cluster_purpose</code> parameter in the <code>attach_aks_compute()</code> call: <code>cluster_purpose = 'DevTest'</code>.
</p>


<h3>See Also</h3>

<p><code>detach_aks_compute()</code>
</p>


</div>