<div class="container">

<table style="width: 100%;"><tr>
<td>anscombise</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create new versions of Anscombe's quartet</h2>

<h3>Description</h3>

<p>Modifies a dataset <code>x</code> so that it shares sample summary statistics with
Anscombe's quartet.
</p>


<h3>Usage</h3>

<pre><code class="language-R">anscombise(x, which = 1, idempotent = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric matrix or data frame.  Each column contains observations
on a different variable.  Missing observations are not allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>An integer in {1, 2, 3, 4}.  Which of Anscombe's datasets to
use as the target dataset.  Obviously, this makes very little difference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idempotent</code></td>
<td>
<p>A logical scalar. If <code>idempotent = TRUE</code> then applying
<code>anscombise</code> to one of the datasets in Anscombe's Quartet will return
the dataset unchanged, apart from a change of <code>class</code>. If
<code>idempotent = FALSE</code> then the returned dataset will be a rotated version
of the original dataset, with the same summary statistics. See <strong>Details</strong>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The input dataset <code>x</code> is modified by shifting, scaling and rotating
it so that its sample mean and covariance matrix match those of the
Anscombe quartet.
</p>
<p>The rotation is based on the square root of the sample correlation matrix.
If <code>idempotent = FALSE</code> then this square root is based on the Cholesky
decomposition this matrix, using <code>chol</code>. If <code>idempotent = TRUE</code> the
square root is based on the spectral decomposition of this matrix, using
the output from <code>eigen</code>. This is a minimal rotation square root,
which means that if the input data <code>x</code> already have the
exactly/approximately the required summary statistics then the returned
dataset is exactly/approximately the same as the target dataset.
</p>


<h3>Value</h3>

<p>An object of class <code>c("anscombe", "matrix", "array")</code> with
plot and print methods. This returned
dataset has the following summary statistics in common with Anscombe's
quartet.
</p>

<ul>
<li>
<p> The sample means of each variable.
</p>
</li>
<li>
<p> The sample variances of each variable.
</p>
</li>
<li>
<p> The sample correlation matrix.
</p>
</li>
<li>
<p> The estimated regression coefficients from least squares linear
regressions of each variable on each other variable.
</p>
</li>
</ul>
<p>The target and new summary statistics are returned as attributes
<code>old_stats</code> and <code>new_stats</code> and the chosen Anscombe's quartet dataset as
an attribute <code>old_data</code>.
</p>


<h3>See Also</h3>

<p><code>mimic</code> to modify a dataset to share sample summary statistics
with another dataset.
</p>
<p><code>datasets::anscombe</code> for Anscombe's Quartet and <code>anscombe</code> for
Anscombe's Quartet as 4 separate datasets.
</p>
<p><code>input_datasets</code>: <code>input1</code> to <code>input8</code> for some input datasest
of the same size as those in Anscombe's quartet.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Produce Anscombe-like datasets using input1 to input8

a1 &lt;- anscombise(input1, idempotent = FALSE)
plot(a1)
a2 &lt;- anscombise(input2)
plot(a2)
a3 &lt;- anscombise(input3, idempotent = FALSE)
plot(a3)
a4 &lt;- anscombise(input4, idempotent = FALSE)
plot(a4)
a5 &lt;- anscombise(input5, idempotent = FALSE)
plot(a5)
a6 &lt;- anscombise(input6)
plot(a6)
a7 &lt;- anscombise(input7, idempotent = FALSE)
plot(a7)
a8 &lt;- anscombise(input8, idempotent = FALSE)
plot(a8)

# Old faithful to new faithful
new_faithful &lt;- anscombise(datasets::faithful, which = 4)
plot(new_faithful)
# Then check that the sample summary statistics are the same
plot(new_faithful, input = TRUE)

# Map of Italy
got_maps &lt;- requireNamespace("maps", quietly = TRUE)
if (got_maps) {
  italy &lt;- mapdata("Italy")
  new_italy &lt;- anscombise(italy, which = 4)
  plot(new_italy)
}
</code></pre>


</div>