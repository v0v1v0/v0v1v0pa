<div class="container">

<table style="width: 100%;"><tr>
<td>detect_tt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Detect test tampering</h2>

<h3>Description</h3>

<p>Detect test tampering at the person level or at the group level.
</p>


<h3>Usage</h3>

<pre><code class="language-R">detect_tt(
  method,
  psi,
  xi = NULL,
  xi_c = NULL,
  xi_s = NULL,
  x = NULL,
  d = NULL,
  r = NULL,
  x_0 = NULL,
  d_0 = NULL,
  r_0 = NULL,
  interval = c(-4, 4),
  alpha = 0.05,
  group = NULL,
  c = -0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The test tampering statistic(s) to compute. Options for score
and distractor-based statistics are:
</p>

<ul>
<li> <p><code>"EDI_SD_*"</code> for the erasure detection index (Wollack et al., 2015;
Wollack &amp; Eckerly, 2017).
</p>
</li>
<li> <p><code>"GBT_SD"</code> for the generalized binomial test statistic (Sinharay &amp;
Johnson, 2017). <em>Note:</em> This statistic cannot be computed at the group
level.
</p>
</li>
<li> <p><code>"L_SD"</code> for the signed likelihood ratio test statistic (Sinharay et al.,
2017). <em>Note:</em> This statistic cannot be computed at the group level.
</p>
</li>
</ul>
<p>Options for response-based statistics are:
</p>

<ul>
<li> <p><code>"EDI_R_*"</code> for the erasure detection index (Wollack et al., 2015;
Wollack &amp; Eckerly, 2017).
</p>
</li>
<li> <p><code>"GBT_R"</code> for the generalized binomial test statistic (Sinharay &amp;
Johnson, 2017). <em>Note:</em> This statistic cannot be computed at the group
level.
</p>
</li>
<li> <p><code>"L_R"</code> for the signed likelihood ratio test statistic (Sinharay et al.,
2017). <em>Note:</em> This statistic cannot be computed at the group level.
</p>
</li>
</ul>
<p>Statistics ending in <code>"*"</code> can be computed using various corrections.
Options are:
</p>

<ul>
<li> <p><code>"*"</code> for all possible corrections.
</p>
</li>
<li> <p><code>"NO"</code> for no correction (Sinharay, 2018; Wollack et al., 2015).
</p>
</li>
<li> <p><code>"CO"</code> for the continuity correction (Wollack et al., 2015; Wollack &amp;
Eckerly, 2017). The value of the continuity correction can be specified
using <code>c</code>.
</p>
</li>
<li> <p><code>"TS"</code> for the Taylor series expansion (Sinharay, 2018).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>psi</code></td>
<td>
<p>A matrix of item parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xi, xi_c, xi_s</code></td>
<td>
<p>Matrices of person parameters. <code>xi</code> is based on all
items, <code>xi_c</code> is based on items with changed answers, and <code>xi_s</code> is based
on items with the same answers. If <code>NULL</code> (default), person parameters are
estimated using maximum likelihood estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, d, r</code></td>
<td>
<p>Matrices of final data. <code>x</code> is for the item scores, <code>d</code> the item
distractors, and <code>r</code> the item responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_0, d_0, r_0</code></td>
<td>
<p>Matrices of initial data. <code>x_0</code> is for the item scores,
<code>d_0</code> the item distractors, and <code>r_0</code> the item responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>
<p>The interval to search for the person parameters. Default is
<code>c(-4, 4)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Value(s) between 0 and 1 indicating the significance level(s)
used for flagging. Default is <code>0.05</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>A vector indicating group membership. If <code>NULL</code> (default),
statistics are computed at the person level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c</code></td>
<td>
<p>Use with the erasure detection index. A value indicating the
continuity correction. Default is <code>-0.5</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list is returned with the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>stat</code></td>
<td>
<p>A matrix of test tampering detection statistics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval</code></td>
<td>
<p>A matrix of <em>p</em>-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flag</code></td>
<td>
<p>An array of flagging results. The first dimension corresponds to
persons/groups, the second dimension to methods, and the third dimension to
significance levels.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Sinharay, S., Duong, M. Q., &amp; Wood, S. W. (2017). A new statistic for
detection of aberrant answer changes. <em>Journal of Educational Measurement</em>,
<em>54</em>(2), 200–217.
</p>
<p>Sinharay, S., &amp; Johnson, M. S. (2017). Three new methods for analysis of
answer changes. <em>Educational and Psychological Measurement</em>, <em>77</em>(1), 54–81.
</p>
<p>Sinharay, S. (2018). Detecting fraudulent erasures at an aggregate level.
<em>Journal of Educational and Behavioral Statistics</em>, <em>43</em>(3), 286–315.
</p>
<p>Wollack, J. A., Cohen, A. S., &amp; Eckerly, C. A. (2015). Detecting test
tampering using item response theory. <em>Educational and Psychological
Measurement</em>, <em>75</em>(6), 931–953.
</p>
<p>Wollack, J. A., &amp; Eckerly, C. A. (2017). Detecting test tampering at the
group level. In G. J. Cizek &amp; J. A. Wollack (Eds.), <em>Handbook of quantitative
methods for detecting cheating on tests</em> (pp. 214–231). Routledge.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Setup for Examples 1 and 2 ------------------------------------------------

# Settings
set.seed(0)     # seed for reproducibility
N &lt;- 500        # number of persons
n &lt;- 40         # number of items
G &lt;- 20         # number of groups

# Create groups
group &lt;- rep(1:G, each = N / G)

# Randomly select 20% tampered groups with 20% tampered persons
cg &lt;- sample(1:G, size = G * 0.20)
cv &lt;- NULL
for (g in cg) {
  cv &lt;- c(cv, sample(which(group == g), size = N / G * 0.20))
}

# Create vectors of indicators (1 = tampered, 0 = non-tampered)
group_ind &lt;- ifelse(1:G %in% cg, 1, 0)
person_ind &lt;- ifelse(1:N %in% cv, 1, 0)

# Generate person parameters for the nested logit model
xi &lt;- MASS::mvrnorm(
  N,
  mu = c(theta = 0.00, eta = 0.00),
  Sigma = matrix(c(1.00, 0.80, 0.80, 1.00), ncol = 2)
)

# Generate item parameters for the nested logit model
psi &lt;- cbind(
  a = rlnorm(n, meanlog = 0.00, sdlog = 0.25),
  b = rnorm(n, mean = 0.00, sd = 1.00),
  c = runif(n, min = 0.05, max = 0.30),
  lambda1 = rnorm(n, mean = 0.00, sd = 1.00),
  lambda2 = rnorm(n, mean = 0.00, sd = 1.00),
  lambda3 = rnorm(n, mean = 0.00, sd = 1.00),
  zeta1 = rnorm(n, mean = 0.00, sd = 1.00),
  zeta2 = rnorm(n, mean = 0.00, sd = 1.00),
  zeta3 = rnorm(n, mean = 0.00, sd = 1.00)
)

# Simulate uncontaminated data
dat &lt;- sim(psi, xi)
x_0 &lt;- x &lt;- dat$x
d_0 &lt;- d &lt;- dat$d

# Simulate 5% random erasures for non-tampered persons
r_0 &lt;- r &lt;- ifelse(x == 1, 4, d)
for (v in setdiff(1:N, cv)) {
  ci &lt;- sample(1:n, size = n * 0.05)
  for (i in ci) {
    r_0[v, i] &lt;- sample((1:4)[-r[v, i]], size = 1)
  }
  x_0[v, ci] &lt;- ifelse(r_0[v, ci] == 4, 1, 0)
  d_0[v, ci] &lt;- ifelse(r_0[v, ci] == 4, NA, r_0[v, ci])
}
rm(r_0, r)

# Modify contaminated data by tampering with 20% of the scores and
# distractors
for (v in cv) {
  ci &lt;- sample(1:n, size = n * 0.20)
  x[v, ci] &lt;- 1
  d[v, ci] &lt;- NA
}

# Example 1: Person-Level Statistics ----------------------------------------

# Detect test tampering
out &lt;- detect_tt(
  method = c("EDI_SD_*", "GBT_SD", "L_SD"),
  psi = psi,
  x = x,
  d = d,
  x_0 = x_0,
  d_0 = d_0
)

# Example 2: Group-Level Statistics -----------------------------------------

# Detect test tampering
out &lt;- detect_tt(
  method = "EDI_SD_*",
  psi = psi,
  x = x,
  d = d,
  x_0 = x_0,
  d_0 = d_0,
  group = group
)
</code></pre>


</div>