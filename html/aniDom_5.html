<div class="container">

<table style="width: 100%;"><tr>
<td>estimate_uncertainty_by_splitting</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Calculate the repeatability score of ranks by splitting the observed data in half.
</h2>

<h3>Description</h3>

<p>Calculates the correlation of the Elo scores for individuals across to exclusive halves of the data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">estimate_uncertainty_by_splitting(winners, losers, identities = NULL, 
	sigmoid.param = 1/100, K = 200, init.score = 0, randomise = FALSE, n.rands = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>winners</code></td>
<td>

<p>Vector containing the identity of the winners. This can be integers or strings.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>losers</code></td>
<td>

<p>Vector containing the identity of the losers. This can be integers or strings. These should be in the same order as the winners (i.e. winners[1] should be the winner and losers[1] should be the loser from the same contest).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>identities</code></td>
<td>

<p>Optional vector containing the identity of all individuals. This is useful if not all individuals are represented in the winners and losers.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigmoid.param</code></td>
<td>

<p>A parameter of the Elo function that determines the steepness of the sigmoid function (i.e how much the scores change for small differences in rank). Smaller values flatten the shape (more linear), whereas larger values create a stronger threshold function (more change for small differences in rank). 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>

<p>K is a parameter of the Elo function that determines the speed at which scores change after an encounter (default K=200).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init.score</code></td>
<td>

<p>Parameter of the Elo function that determines the starting score (does not have an effect on relative differences in score).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>randomise</code></td>
<td>

<p>Boolean (TRUE/FALSE) describing whether to create replicated datasets by randomising the order of the observed interactions (see details).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.rands</code></td>
<td>

<p>The number of randomisations to perform.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By calculating the correlation of the Elo scores calculated separately for two halves of the data, this function provides some insights into the uncertainty and robustness of the data collected. If randomise=FALSE, the data are split in half and the correlation between the two halves is returned. If randomise=TRUE, then the ordering of the interactions is randomised n.rands times and the correlation is calculated each time in the same way. The function then returns the mean and 95% range of the correlation values. Our simulations suggest that correlations above 0.5 suggests a robust dominance hierarchy (or low uncertainty).
</p>


<h3>Value</h3>

<p>If randomise=FALSE: the Spearman rank correlation coefficient of the first half and second half of the data.
If randomise=TRUE: the mean and 95% range of the Spearkman rank correlation coefficients from two halves of the data with the ordering randomised each time.
</p>


<h3>Author(s)</h3>

<p>Written by Damien R. Farine &amp; Alfredo Sanchez-Tojar
</p>
<p>Maintainer: Damien R. Farine &lt;damien.farine@ieu.uzh.ch&gt;
</p>


<h3>References</h3>

<p>Sanchez-Tojar, A., Schroeder, J., Farine, D.R. (in prep) Methods for inferring dominance hierarchies and estimating their uncertainty.
</p>


<h3>Examples</h3>

<pre><code class="language-R">	
	# Generate some input data
	data &lt;- generate_interactions(10,20,5,2)
	
	# Extract winners and losers
	winners &lt;- data$interactions$Winner
	losers &lt;- data$interactions$Loser
	
	# Calculate repeatability
	r &lt;- estimate_uncertainty_by_splitting(winners,losers,randomise=TRUE)
	
</code></pre>


</div>