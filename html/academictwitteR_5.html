<div class="container">

<table style="width: 100%;"><tr>
<td>build_query</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build tweet query</h2>

<h3>Description</h3>

<p>Build tweet query according to targeted parameters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">build_query(
  query = NULL,
  exact_phrase = NULL,
  users = NULL,
  reply_to = NULL,
  retweets_of = NULL,
  exclude = NULL,
  is_retweet = NULL,
  is_reply = NULL,
  is_quote = NULL,
  is_verified = NULL,
  remove_promoted = FALSE,
  has_hashtags = NULL,
  has_cashtags = NULL,
  has_links = NULL,
  has_mentions = NULL,
  has_media = NULL,
  has_images = NULL,
  has_videos = NULL,
  has_geo = NULL,
  place = NULL,
  country = NULL,
  point_radius = NULL,
  bbox = NULL,
  lang = NULL,
  conversation_id = NULL,
  url = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>string or character vector, search query or queries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exact_phrase</code></td>
<td>
<p>If <code>TRUE</code>, only tweets will be returned matching the exact phrase</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>users</code></td>
<td>
<p>string or character vector, user handles to collect tweets from the specified users</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reply_to</code></td>
<td>
<p>string or character vector, user handles to collect replies to the specified users</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>retweets_of</code></td>
<td>
<p>string or character vector, user handles to collects retweets of tweets by the specified users</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude</code></td>
<td>
<p>string or character vector, tweets containing the keyword(s) will be excluded</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is_retweet</code></td>
<td>
<p>If <code>TRUE</code>, only retweets will be returned; if <code>FALSE</code>, retweets will be excluded; if <code>NULL</code>, both retweets and other tweet types will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is_reply</code></td>
<td>
<p>If <code>TRUE</code>, only replies will be returned; if <code>FALSE</code>, replies will be excluded; if <code>NULL</code>, both replies and other tweet types will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is_quote</code></td>
<td>
<p>If <code>TRUE</code>, only quote tweets will be returned; if <code>FALSE</code>, quote tweets will be excluded; if <code>NULL</code>, both quote tweets and other tweet types will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is_verified</code></td>
<td>
<p>If <code>TRUE</code>, only tweets from verified accounts will be returned; if <code>FALSE</code>, tweets from verified accounts will be excluded; if <code>NULL</code>, both verified account tweets and tweets from non-verified accounts will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_promoted</code></td>
<td>
<p>If <code>TRUE</code>, tweets created for promotion only on ads.twitter.com are removed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>has_hashtags</code></td>
<td>
<p>If <code>TRUE</code>, only tweets containing hashtags will be returned; if <code>FALSE</code>, tweets containing hashtags will be excluded; if <code>NULL</code>, both tweets containing hashtags and tweets without hashtags will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>has_cashtags</code></td>
<td>
<p>If <code>TRUE</code>, only tweets containing cashtags will be returned; if <code>FALSE</code>, tweets containing cashtags will be excluded; if <code>NULL</code>, both tweets containing cashtags and tweets without cashtags will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>has_links</code></td>
<td>
<p>If <code>TRUE</code>, only tweets containing links (and media) will be returned; if <code>FALSE</code>, tweets containing links (and media) will be excluded; if <code>NULL</code>, both tweets containing links (and media) and tweets without links (and media) will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>has_mentions</code></td>
<td>
<p>If <code>TRUE</code>, only tweets containing mentions will be returned; if <code>FALSE</code>, tweets containing mentions will be excluded; if <code>NULL</code>, both tweets containing mentions and tweets without mentions will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>has_media</code></td>
<td>
<p>If <code>TRUE</code>, only tweets containing media such as a photo, GIF, or video (as determined by Twitter) will be returned will be returned; if <code>FALSE</code>, tweets containing media will be excluded; if <code>NULL</code>, both tweets containing media and tweets without media will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>has_images</code></td>
<td>
<p>If <code>TRUE</code>, only tweets containing (recognized URLs to) images will be returned will be returned will be returned; if <code>FALSE</code>, tweets containing images will be excluded; if <code>NULL</code>, both tweets containing images and tweets without images will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>has_videos</code></td>
<td>
<p>If <code>TRUE</code>,  only tweets containing contain videos (recognized as native videos uploaded directly to Twitter) will be returned will be returned; if <code>FALSE</code>, tweets containing videos will be excluded; if <code>NULL</code>, both tweets containing videos and tweets without videos will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>has_geo</code></td>
<td>
<p>If <code>TRUE</code>, only tweets containing geo information (Tweet-specific geolocation data provided by the Twitter user) will be returned; if <code>FALSE</code>, tweets containing geo information will be excluded; if <code>NULL</code>, both tweets containing geo information and tweets without geo information will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>place</code></td>
<td>
<p>string, name of place e.g. "London"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>country</code></td>
<td>
<p>string, name of country as ISO alpha-2 code e.g. "GB"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_radius</code></td>
<td>
<p>numeric, a vector of two point coordinates latitude, longitude, and point radius distance (in miles)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bbox</code></td>
<td>
<p>numeric, a vector of four bounding box coordinates from west longitude to north latitude</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lang</code></td>
<td>
<p>string, a single BCP 47 language identifier e.g. "fr"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conversation_id</code></td>
<td>
<p>string, return tweets that share the specified conversation ID</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>string, url</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is already called within the main
<code>get_all_tweets</code> function.
</p>
<p>It may also be called separately and the output saved as
a character object query string to be input as query parameter to <code>get_all_tweets</code>.
</p>


<h3>Value</h3>

<p>a query string
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
query &lt;- build_query(query = "happy", is_retweet = FALSE,
                     country = "US",
                     place = "seattle",
                     point_radius = c(-122.33795253639994, 47.60900846404393, 25),
                     lang = "en")
                     
query &lt;- build_query(query = "twitter",
                     point_radius = c(-122.33795253639994, 47.60900846404393, 25),
                     lang = "en")
                     

## End(Not run)

</code></pre>


</div>