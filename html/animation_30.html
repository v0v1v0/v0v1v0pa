<div class="container">

<table style="width: 100%;"><tr>
<td>knn.ani</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Demonstration of the k-Nearest Neighbour classification</h2>

<h3>Description</h3>

<p>Demonstrate the process of k-Nearest Neighbour classification on the 2D
plane.
</p>


<h3>Usage</h3>

<pre><code class="language-R">knn.ani(
  train,
  test,
  cl,
  k = 10,
  interact = FALSE,
  tt.col = c("blue", "red"),
  cl.pch = seq_along(unique(cl)),
  dist.lty = 2,
  dist.col = "gray",
  knn.col = "green",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>train</code></td>
<td>
<p>matrix or data frame of training set cases containing only 2
columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>matrix or data frame of test set cases. A vector will be
interpreted as a row vector for a single case. It should also contain only
2 columns. This data set will be <em>ignored</em> if <code>interact = TRUE</code>;
see <code>interact</code> below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl</code></td>
<td>
<p>factor of true classifications of training set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>number of neighbours considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interact</code></td>
<td>
<p>logical. If <code>TRUE</code>, the user will have to choose a test
set for himself using mouse click on the screen; otherwise compute kNN
classification based on argument <code>test</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tt.col</code></td>
<td>
<p>a vector of length 2 specifying the colors for the training
data and test data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl.pch</code></td>
<td>
<p>a vector specifying symbols for each class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist.lty, dist.col</code></td>
<td>
<p>the line type and color to annotate the distances</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>knn.col</code></td>
<td>
<p>the color to annotate the k-nearest neighbour points using a
polygon</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to create the empty frame for the animation
(passed to <code>plot.default</code>)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For each row of the test set, the <code class="reqn">k</code> nearest (in Euclidean distance)
training set vectors are found, and the classification is decided by majority
vote, with ties broken at random. For a single test sample point, the basic
steps are:
</p>
 <ol>
<li>
<p> locate the test point </p>
</li>
<li>
<p> compute the distances between
the test point and all points in the training set </p>
</li>
<li>
<p> find <code class="reqn">k</code> shortest
distances and the corresponding training set points </p>
</li>
<li>
<p> vote for the result
(find the maximum in the table for the true classifications) </p>
</li>
</ol>
<p>As there are four steps in an iteration, the total number of animation frames
should be <code>4 * min(nrow(test), ani.options('nmax'))</code> at last.
</p>


<h3>Value</h3>

<p>A vector of class labels for the test set.
</p>


<h3>Note</h3>

<p>There is a special restriction (only two columns) on the training and
test data set just for sake of the convenience for making a scatterplot.
This is only a rough demonstration; for practical applications, please
refer to existing kNN functions such as <code>knn</code> in
<span class="pkg">class</span>, etc.
</p>
<p>If either one of <code>train</code> and <code>test</code> is missing, there'll be
random matrices prepared for them. (It's the same for <code>cl</code>.)
</p>


<h3>Author(s)</h3>

<p>Yihui Xie
</p>


<h3>References</h3>

<p>Examples at <a href="https://yihui.org/animation/example/knn-ani/">https://yihui.org/animation/example/knn-ani/</a>
</p>
<p>Venables, W. N. and Ripley, B. D. (2002) <em>Modern Applied
Statistics with S</em>. Fourth edition. Springer.
</p>


<h3>See Also</h3>

<p><code>knn</code>
</p>


</div>