<div class="container">

<table style="width: 100%;"><tr>
<td>get_wear_flag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute wear/non-wear flag</h2>

<h3>Description</h3>

<p>Compute wear/non-wear flag (<code>1</code>/<code>0</code>) for each minute of activity
counts data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_wear_flag(acc, nonwear_0s_minimum_window = 90)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>acc</code></td>
<td>
<p>A numeric vector. A minute-level activity counts data vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nonwear_0s_minimum_window</code></td>
<td>
<p>A numeric scalar. A minimum number of consecutive
minutes with 0 activity count to be considered non-wear.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Method implements wear/non-wear detection algorithm closely following that of
Choi et al. (2011).
</p>
<p>The wear/non-wear flag is determined based on activity counts data.
A minute is classified as non-wear if it belongs to any
<code>nonwear_0s_minimum_window</code> minutes-long interval of consecutive values 0 in
activity counts data vector;
here, "any interval" implies that a particular minute may be located
at any location (beginning, middle, end) of interval of consecutive values 0
to be classified as a non-wear. Otherwise, a particular minute is classified
as wear.
</p>
<p>Similarly to recommendations in Discussion in Choi et al. (2011), the method
assumes
a threshold value of 0 for nonzero counts allowed during
a nonwear time interval (I.e., no activity count equal &gt;= 1 is allowed).
The method also assumes 90 minutes as a default for
minimum time of consecutive zero counts for a window to be flagged nonwear.
Differently from recommendations in Discussion in Choi et al. (2011), it
does not
consider any "artifactual movement" interval of nonzero counts during
a nonwear time interval.
</p>


<h3>Value</h3>

<p>An integer vector. It has value <code>1</code> for a wear
and <code>0</code> for non-wear flagged minute. It has the same vector length as
<code>acc</code> vector. If there is an <code>NA</code> entry in <code>acc</code> vector,
then the returned vector will have a corresponding entry set to  <code>NA</code> too.
</p>


<h3>References</h3>

<p>Choi, L., Liu, Z., Matthews, C. E., &amp; Buchowski, M. S. (2011). Validation of
accelerometer wear and nonwear time classification algorithm. Medicine and
Science in Sports and Exercise. https://doi.org/10.1249/MSS.0b013e3181ed61a3
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Read exemplary data
fpath_i &lt;- system.file("extdata", extdata_fnames[1], package = "arctools")
dat_i   &lt;- as.data.frame(data.table::fread(fpath_i))
acc     &lt;- dat_i$vectormagnitude
acc_ts  &lt;- lubridate::ymd_hms(dat_i$timestamp)
## Get acc data vector in "midnight_to_midnight" format
acc &lt;- midnight_to_midnight(acc, acc_ts)
## Get wear/non-wear flag
wear_flag &lt;- get_wear_flag(acc)

</code></pre>


</div>