<div class="container">

<table style="width: 100%;"><tr>
<td>sim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generates simulations of expected mortality by simulating the model coefficients.</h2>

<h3>Description</h3>

<p>With the given fit from fit_attrib the function sim, from package arm as described in Gelman, Hill (2012) &lt;doi:10.1017/CBO9780511790942&gt;, is used to generate 500 simulations
of all the coefficients, from there respective posterior distributions.
This is then used to compute the expected response for all simulations and rows in the input dataset.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim(fit, data, n_sim)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>A model fit created by fit_attrib</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data with either observed values or reference values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_sim</code></td>
<td>
<p>Number of simulations</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>vignette("intro", package="attrib")</code>
</p>


<h3>Value</h3>

<p>A dataset with 500 simulations of the expected response for each row in the original dataset.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
response &lt;- "deaths"
fixef &lt;- "pr100_ili_lag_1 + sin(2 * pi * (week - 1) / 52) + cos(2 * pi * (week - 1) / 52)"
ranef &lt;- " (pr100_ili_lag_1| season)"
offset &lt;- "log(pop)"

data &lt;- attrib::data_fake_nation

fit &lt;- fit_attrib(data = data, response = response, fixef = fixef, ranef = ranef, offset = offset)

n_sim &lt;- 5
sim(fit, data, n_sim)
</code></pre>


</div>