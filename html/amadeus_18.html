<div class="container">

<table style="width: 100%;"><tr>
<td>calc_nlcd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate land cover covariates</h2>

<h3>Description</h3>

<p>Compute ratio of land cover class in circle buffers around points. Returns
a <code>data.frame</code> object containing <code>locs_id</code>, longitude, latitude,
time (year), and computed ratio for each land cover class.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calc_nlcd(
  from,
  locs,
  locs_id = "site_id",
  mode = c("exact", "terra"),
  radius = 1000,
  max_cells = 5e+07,
  geom = FALSE,
  nthreads = 1L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>SpatRaster(1). Output of <code>process_nlcd()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locs</code></td>
<td>
<p>terra::SpatVector of points geometry</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locs_id</code></td>
<td>
<p>character(1). Unique identifier of locations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>character(1). One of <code>"exact"</code>
(using <code>exactextractr::exact_extract()</code>)
or <code>"terra"</code> (using <code>terra::freq()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>radius</code></td>
<td>
<p>numeric (non-negative) giving the
radius of buffer around points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_cells</code></td>
<td>
<p>integer(1). Maximum number of cells to be read at once.
Higher values may expedite processing, but will increase memory usage.
Maximum possible value is <code>2^31 - 1</code>. Only valid when
<code>mode = "exact"</code>.
See <code>exactextractr::exact_extract</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geom</code></td>
<td>
<p>logical(1). Should the function return a <code>SpatVector</code>?
Default is <code>FALSE</code>. The coordinate reference system of the <code>SpatVector</code> is
that of <code>from.</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nthreads</code></td>
<td>
<p>integer(1). Number of threads to be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Placeholders.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a data.frame or SpatVector object
</p>


<h3>Note</h3>

<p>NLCD is available in U.S. only. Users should be aware of
the spatial extent of the data. The results are different depending
on <code>mode</code> argument. The <code>"terra"</code> mode is less memory intensive
but less accurate because it counts the number of cells
intersecting with the buffer. The <code>"exact"</code> may be more accurate
but uses more memory as it will account for the partial overlap
with the buffer.
</p>


<h3>See Also</h3>

<p><code>process_nlcd</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## NOTE: Example is wrapped in `\dontrun{}` as function requires a large
##       amount of data which is not included in the package.
## Not run: 
loc &lt;- data.frame(id = "001", lon = -78.90, lat = 35.97)
calc_nlcd(
  from = nlcd, # derived from process_nlcd() example
  locs = loc,
  locs_id = "id",
  mode = "exact",
  geom = FALSE
)

## End(Not run)
</code></pre>


</div>