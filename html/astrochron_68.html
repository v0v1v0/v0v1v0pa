<div class="container">

<table style="width: 100%;"><tr>
<td>mwin</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Determine 'dynamic moving window' for stratigraphic series, adjusting for changing sample density to maintain a window of constant duration</h2>

<h3>Description</h3>

<p>Determine start and end points for a moving window of fixed duration (e.g. 500 kiloyears). 
The dynamic window allows for adjustment of the number of data points in the window, 
so it has a constant duration in time or space.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mwin(dat,win,conv=1,verbose=T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>Your data frame containing stratigraphic data; any number of columns (variables) are permitted, but the first column should be a location identifier (e.g., depth, height, time).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>win</code></td>
<td>
<p>Moving window size in units of space or time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conv</code></td>
<td>
<p>Convention for window placement: (1) center each window on a stratigraphic level in 'dat' (DEFAULT), (2) start with the smallest location datum in 'dat', (3) start with the largest location datum in 'dat'. For options 2 and 3, the center of the window will not necessarily coincide with a measured stratigraphic level in 'dat', but edges of the data set are better preserved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Verbose output? (T or F)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This algorithm steps forward one stratigraphic datum at a time. The output consists of:
</p>
<p>Average = this is the average of the depth/time values in the given window.
</p>
<p>Center = this is the center of the 'win' size window.
</p>
<p>Midpoint = this is midpoint between first and last observation in the window 
(for unevenly sampled data this is typically less than than the size of 'win').
</p>


<h3>Value</h3>

<p>A data frame containing: Starting index for window, Ending index for window, Location (average), Location (center), Location (midpoint)
</p>


<h3>Examples</h3>

<pre><code class="language-R"># generate some noise
ex1 &lt;- ar1(npts=50,dt=1)

# jitter sampling times
ex1[1]=ex1[1]+rnorm(50,sd=3)
# sort 
ex1 = ex1[order(ex1[,1],na.last=NA,decreasing=FALSE),]

# run mwin
mwin(ex1,win=10)
</code></pre>


</div>