<div class="container">

<table style="width: 100%;"><tr>
<td>consolidate_metadata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Consolidate Multiple Meta Datasets Into a Single One</h2>

<h3>Description</h3>

<p>The purpose of the function is to consolidate multiple meta datasets into a
single one. For example, from global and project specific parameter mappings
a single lookup table can be created.
</p>


<h3>Usage</h3>

<pre><code class="language-R">consolidate_metadata(
  datasets,
  key_vars,
  source_var = SOURCE,
  check_vars = "warning",
  check_keys,
  check_type = "error"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>datasets</code></td>
<td>
<p>List of datasets to consolidate
</p>
<p><em>Permitted Values</em>: A named list of datasets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key_vars</code></td>
<td>
<p>Key variables
</p>
<p>The specified variables must be a unique of all input datasets.
</p>
<p><em>Permitted Values</em>: A list of variables created by <code>exprs()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source_var</code></td>
<td>
<p>Source variable
</p>
<p>The specified variable is added to the output dataset. It is set the name
of the dataset the observation is originating from.
</p>
<p><em>Permitted Values</em>: A symbol</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_vars</code></td>
<td>
<p>Check variables?
</p>
<p>If <code>"message"</code>, <code>"warning"</code>, or <code>"error"</code> is specified, a message is issued
if the variable names differ across the input datasets (<code>datasets</code>).
</p>
<p><em>Permitted Values</em>: <code>"none"</code>, <code>"message"</code>, <code>"warning"</code>, <code>"error"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_keys</code></td>
<td>
<p>Check keys?
</p>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> Please use <code>check_type</code> instead.
</p>
<p>If <code>"warning"</code> or <code>"error"</code> is specified, a message is issued if the key
variables (<code>key_vars</code>) are not a unique key in all of the input datasets
(<code>datasets</code>).
</p>
<p><em>Permitted Values</em>: <code>"none"</code>, <code>"warning"</code>, <code>"error"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_type</code></td>
<td>
<p>Check uniqueness?
</p>
<p>If <code>"warning"</code> or <code>"error"</code> is specified, a message is issued if the key
variables (<code>key_vars</code>) are not a unique key in all of the input datasets
(<code>datasets</code>).
</p>
<p><em>Permitted Values</em>: <code>"none"</code>, <code>"warning"</code>, <code>"error"</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All observations of the input datasets are put together into a
single dataset. If a by group (defined by <code>key_vars</code>) exists in more than
one of the input datasets, the observation from the last dataset is
selected.
</p>


<h3>Value</h3>

<p>A dataset which contains one row for each by group occurring in any
of the input datasets.
</p>


<h3>See Also</h3>

<p>Creating auxiliary datasets: 
<code>create_period_dataset()</code>,
<code>create_query_data()</code>,
<code>create_single_dose_dataset()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(tibble)
glob_ranges &lt;- tribble(
  ~PARAMCD, ~ANRLO, ~ANRHI,
  "PULSE",      60,    100,
  "SYSBP",      90,    130,
  "DIABP",      60,     80
)
proj_ranges &lt;- tribble(
  ~PARAMCD, ~ANRLO, ~ANRHI,
  "SYSBP",     100,    140,
  "DIABP",      70,     90
)
stud_ranges &lt;- tribble(
  ~PARAMCD, ~ANRLO, ~ANRHI,
  "BMI",        18,     25
)

consolidate_metadata(
  datasets = list(
    global = glob_ranges,
    project = proj_ranges,
    study = stud_ranges
  ),
  key_vars = exprs(PARAMCD)
)
</code></pre>


</div>