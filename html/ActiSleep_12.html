<div class="container">

<table style="width: 100%;"><tr>
<td>SleepEstEachDay</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Daily sleep estimate</h2>

<h3>Description</h3>

<p>Obtain sleep data from accelerometer data
</p>


<h3>Usage</h3>

<pre><code class="language-R">SleepEstEachDay(
  datain,
  f = 1,
  id = NA,
  Y_name = "max_count",
  T = 0.4,
  nonwear_detect = FALSE,
  wear_mins = 120,
  S = 3,
  NoPA_cut = 0.7,
  sleep_mins = 20,
  wake_mins = 180,
  nap_mins = 20,
  UseDiary = FALSE,
  diary_data = c(),
  CommonBedTime = "22:00:00",
  CommonWakeTime = "8:00:00",
  tz = "GMT"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>datain</code></td>
<td>
<p>input accelerometry dataset, must be tibble, data frame, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>cost function indicator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>subject id</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_name</code></td>
<td>
<p>column name of the activity count data to be used in analysis, for example max count of x, y, z axes or vector magnitude</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T</code></td>
<td>
<p>threshold percentile of activity level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nonwear_detect</code></td>
<td>
<p>flag indicating use of nonwear detection algorithm, default is FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wear_mins</code></td>
<td>
<p>threshold number of minutes to define wear segment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>number of segments per hour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NoPA_cut</code></td>
<td>
<p>percent of 0 counts to define NoPA segments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sleep_mins</code></td>
<td>
<p>threshold number of minutes to define sleep segment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wake_mins</code></td>
<td>
<p>threshold number of minutes to define wake segment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nap_mins</code></td>
<td>
<p>threshold number of minutes to define nap segment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>UseDiary</code></td>
<td>
<p>flag indicating if diary data to be used, default is FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diary_data</code></td>
<td>
<p>diary data, must be a data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CommonBedTime</code></td>
<td>
<p>in-bed time if no diary data, default is "22:00:00"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CommonWakeTime</code></td>
<td>
<p>out-bed time if no diary data, default is "8:00:00"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>
<p>timezone, default is GMT</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list containing a data frame of summary sleep data
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("AccelData")

AccelData &lt;-
ChangeTimeVar(AccelData, col_idx = 1, format = "%m/%d/%Y %H:%M")

SleepEstEachDay(AccelData, Y_name = "VM")

data("AccelData")

AccelData &lt;-
ChangeTimeVar(AccelData, col_idx = 1, format = "%m/%d/%Y %H:%M")

SleepEstEachDay(AccelData, Y_name = "VM", nonwear_detect = TRUE)

data("AccelData")
data("SleepDiary1Day")

SleepDiary1Day &lt;-
ChangeTimeVar(
SleepDiary1Day,
col_idx = c(1,2),
format = "%m/%d/%Y %H:%M")

AccelData &lt;-
ChangeTimeVar(AccelData, col_idx = 1, format = "%m/%d/%Y %H:%M")

SleepEstEachDay(
AccelData,
f = 2,
Y_name = "VM",
T = 0,
nonwear_detect = TRUE,
S = 2,
NoPA_cut = 0.45,
sleep_mins = 5,
UseDiary = TRUE,
diary_data = SleepDiary1Day
)

</code></pre>


</div>