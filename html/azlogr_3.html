<div class="container">

<table style="width: 100%;"><tr>
<td>.layout_json_custom</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Customized logging layout</h2>

<h3>Description</h3>

<p>This is an extended function of <code>layout_json</code> function
from <code>'logger'</code> package. Objective is to add additional component in the
logging layout in JSON format so that they can also be reported while
logging along with the components collected by
<code>.add_meta_variables</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">.layout_json_custom(
  log_fields = c("time", "level", "ns", "ans", "topenv", "fn", "node", "arch", "os_name",
    "os_release", "os_version", "pid", "user", "msg"),
  additional_fields = NULL,
  enforce_ascii_msg = TRUE,
  enforce_tz_utc = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>log_fields</code></td>
<td>
<p>Vector of components which are collected in
<code>get_logger_meta_variables</code> function. Converting
<code>time</code> component to UTC additionally.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>additional_fields</code></td>
<td>
<p>A named vector of type list with key-value pairs of
additional meta data which needs to be added in logging context on top of
<code>log_fields</code>. The respective value of each key is expected to be of
length 1. It is <code>NULL</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enforce_ascii_msg</code></td>
<td>
<p>If <code>TRUE</code> (default), the logging message is
guaranteed to have all non-ASCII characters escaped. If <code>FALSE</code>, the
characters will be logged as-is. Please note, it is better to ensure
ASCII, otherwise there might be error while sending the HTTP POST request
to 'Azure Log Analytics' workspace.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enforce_tz_utc</code></td>
<td>
<p>If <code>TRUE</code> (default), the logging time field is
converted to UTC timezone while sending the logging dump to 'Azure Log
Analytics' workspace. If <code>FALSE</code>, then the local time captured by
<code>Sys.time</code> is recorded in the time field.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a generator function typically to be used by
<code>log_layout</code> function.
</p>


</div>